if(typeof Ext==="undefined"){Ext={}}Ext.apply=(function(){for(var b in {valueOf:1}){return function(h,a,f){if(f){Ext.apply(h,f)}if(h&&a&&typeof a==="object"){for(var g in a){h[g]=a[g]}}return h}}return function(h,a,f){if(f){Ext.apply(h,f)}if(h&&a&&typeof a==="object"){for(var g in a){h[g]=a[g]}if(a.toString!==Object.prototype.toString){h.toString=a.toString}if(a.valueOf!==Object.prototype.valueOf){h.valueOf=a.valueOf}}return h}})();Ext.apply(Ext,{platformVersion:"1.0",platformVersionDetail:{major:1,minor:0,patch:2},userAgent:navigator.userAgent.toLowerCase(),cache:{},idSeed:1000,BLANK_IMAGE_URL:"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",isStrict:document.compatMode=="CSS1Compat",windowId:"ext-window",documentId:"ext-document",emptyFn:function(){},isSecure:/^https/i.test(window.location.protocol),isReady:false,enableGarbageCollector:true,enableListenerCollection:true,applyIf:function(e,f){var h,g;if(e){for(h in f){if(e[h]===g){e[h]=f[h]}}}return e},repaint:function(){var b=Ext.getBody().createChild({cls:"x-mask x-mask-transparent"});setTimeout(function(){b.remove()},0)},id:function(d,c){d=Ext.getDom(d)||{};if(d===document){d.id=this.documentId}else{if(d===window){d.id=this.windowId}}d.id=d.id||((c||"ext-gen")+(++Ext.idSeed));return d.id},extend:function(){var c=function(a){for(var b in a){if(!a.hasOwnProperty(b)){continue}this[b]=a[b]}};var d=Object.prototype.constructor;return function(l,a,i){if(Ext.isObject(a)){i=a;a=l;l=i.constructor!=d?i.constructor:function(){a.apply(this,arguments)}}if(!a){throw"Attempting to extend from a class which has not been loaded on the page."}var j=function(){},k,b=a.prototype;j.prototype=b;k=l.prototype=new j();k.constructor=l;l.superclass=b;if(b.constructor==d){b.constructor=a}l.override=function(e){Ext.override(l,e)};k.superclass=k.supr=(function(){return b});k.override=c;k.proto=k;l.override(i);l.extend=function(e){return Ext.extend(l,e)};return l}}(),override:function(d,c){Ext.apply(d.prototype,c)},namespace:function(){var n=arguments.length,o,m,p,j,k,l,i;for(o=0;o<n;o++){m=arguments[o];l=m.split(".");if(window.Ext){i=window[l[0]]=Object(window[l[0]])}else{i=arguments.callee.caller.arguments[0]}for(j=1,k=l.length;j<k;j++){i=i[l[j]]=Object(i[l[j]])}}return i},urlEncode:function(h,i){var e,g=[],j=encodeURIComponent;Ext.iterate(h,function(b,a){e=Ext.isEmpty(a);Ext.each(e?b:a,function(c){g.push("&",j(b),"=",(!Ext.isEmpty(c)&&(c!=b||!e))?(Ext.isDate(c)?Ext.encode(c).replace(/"/g,""):j(c)):"")})});if(!i){g.shift();i=""}return i+g.join("")},urlDecode:function(n,d){if(Ext.isEmpty(n)){return{}}var k={},l=n.split("&"),j=decodeURIComponent,i,m;Ext.each(l,function(a){a=a.split("=");i=j(a[0]);m=j(a[1]);k[i]=d||!k[i]?m:[].concat(k[i]).concat(m)});return k},htmlEncode:function(b){return Ext.util.Format.htmlEncode(b)},htmlDecode:function(b){return Ext.util.Format.htmlDecode(b)},urlAppend:function(d,c){if(!Ext.isEmpty(c)){return d+(d.indexOf("?")===-1?"?":"&")+c}return d},toArray:function(f,d,e){return Array.prototype.slice.call(f,d||0,e||f.length)},each:function(h,i,j){if(Ext.isEmpty(h,true)){return 0}if(!Ext.isIterable(h)||Ext.isPrimitive(h)){h=[h]}for(var f=0,g=h.length;f<g;f++){if(i.call(j||h[f],h[f],f,h)===false){return f}}return true},iterate:function(h,e,f){if(Ext.isEmpty(h)){return}if(Ext.isIterable(h)){Ext.each(h,e,f);return}else{if(Ext.isObject(h)){for(var g in h){if(h.hasOwnProperty(g)){if(e.call(f||h,g,h[g],h)===false){return}}}}}},pluck:function(e,f){var d=[];Ext.each(e,function(a){d.push(a[f])});return d},getBody:function(){return Ext.get(document.body||false)},getHead:function(){var b;return function(){if(b==undefined){b=Ext.get(DOC.getElementsByTagName("head")[0])}return b}}(),getDoc:function(){return Ext.get(document)},getCmp:function(b){return Ext.ComponentMgr.get(b)},getOrientation:function(){return window.innerHeight>window.innerWidth?"portrait":"landscape"},isIterable:function(b){if(!b){return false}if(Ext.isArray(b)||b.callee){return true}if(/NodeList|HTMLCollection/.test(Object.prototype.toString.call(b))){return true}return((typeof b.nextNode!="undefined"||b.item)&&Ext.isNumber(b.length))||false},num:function(c,d){c=Number(Ext.isEmpty(c)||Ext.isArray(c)||typeof c=="boolean"||(typeof c=="string"&&Ext.util.Format.trim(c).length==0)?NaN:c);return isNaN(c)?d:c},isEmpty:function(i,g){var f=i==null,j=(Ext.isArray(i)&&!i.length),h=!g?i==="":false;return f||j||h},isArray:function(b){return Object.prototype.toString.apply(b)==="[object Array]"},isDate:function(b){return Object.prototype.toString.apply(b)==="[object Date]"},isObject:function(b){return !!b&&!b.tagName&&Object.prototype.toString.call(b)==="[object Object]"},isPrimitive:function(b){return Ext.isString(b)||Ext.isNumber(b)||Ext.isBoolean(b)},isFunction:function(b){return Object.prototype.toString.apply(b)==="[object Function]"},isNumber:function(b){return Object.prototype.toString.apply(b)==="[object Number]"&&isFinite(b)},isString:function(b){return typeof b==="string"},isBoolean:function(b){return Object.prototype.toString.apply(b)==="[object Boolean]"},isElement:function(b){return b?!!b.tagName:false},isDefined:function(b){return typeof b!=="undefined"},destroy:function(){var f=arguments.length,d,e;for(d=0;d<f;d++){e=arguments[d];if(e){if(Ext.isArray(e)){this.destroy.apply(this,e)}else{if(Ext.isFunction(e.destroy)){e.destroy()}else{if(e.dom){e.remove()}}}}}}});Ext.SSL_SECURE_URL=Ext.isSecure&&"about:blank";Ext.ns=Ext.namespace;Ext.ns("Ext.util","Ext.data","Ext.list","Ext.form","Ext.menu","Ext.state","Ext.layout","Ext.app","Ext.ux","Ext.plugins","Ext.direct","Ext.lib","Ext.gesture");Ext.util.Observable=Ext.extend(Object,{isObservable:true,constructor:function(d){var c=this;Ext.apply(c,d);if(c.listeners){c.on(c.listeners);delete c.listeners}c.events=c.events||{};if(this.bubbleEvents){this.enableBubble(this.bubbleEvents)}},eventOptionsRe:/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate|element|vertical|horizontal)$/,addManagedListener:function(k,o,m,n,p){var l=this,j=l.managedListeners=l.managedListeners||[],i;if(Ext.isObject(o)){p=o;for(o in p){if(!p.hasOwnProperty(o)){continue}i=p[o];if(!l.eventOptionsRe.test(o)){l.addManagedListener(k,o,i.fn||i,i.scope||p.scope,i.fn?i:p)}}}else{j.push({item:k,ename:o,fn:m,scope:n,options:p});k.on(o,m,n,p)}},removeManagedListener:function(m,s,o,i){var p=this,v,t,n,u,w,q;if(Ext.isObject(s)){v=s;for(s in v){if(!v.hasOwnProperty(s)){continue}t=v[s];if(!p.eventOptionsRe.test(s)){p.removeManagedListener(m,s,t.fn||t,t.scope||v.scope)}}}n=this.managedListeners?this.managedListeners.slice():[];w=n.length;for(q=0;q<w;q++){u=n[q];if(u.item===m&&u.ename===s&&(!o||u.fn===o)&&(!i||u.scope===i)){this.managedListeners.remove(u);m.un(u.ename,u.fn,u.scope)}}},fireEvent:function(){var i=this,n=Ext.toArray(arguments),l=n[0].toLowerCase(),m=true,j=i.events[l],a=i.eventQueue,k;if(i.eventsSuspended===true){if(a){a.push(n)}return false}else{if(j&&Ext.isObject(j)&&j.bubble){if(j.fire.apply(j,n.slice(1))===false){return false}k=i.getBubbleTarget&&i.getBubbleTarget();if(k&&k.isObservable){if(!k.events[l]||!Ext.isObject(k.events[l])||!k.events[l].bubble){k.enableBubble(l)}return k.fireEvent.apply(k,n)}}else{if(j&&Ext.isObject(j)){n.shift();m=j.fire.apply(j,n)}}}return m},addListener:function(h,m,n,j){var k=this,i,l;if(Ext.isObject(h)){j=h;for(h in j){if(!j.hasOwnProperty(h)){continue}i=j[h];if(!k.eventOptionsRe.test(h)){k.addListener(h,i.fn||i,i.scope||j.scope,i.fn?i:j)}}}else{h=h.toLowerCase();k.events[h]=k.events[h]||true;l=k.events[h]||true;if(Ext.isBoolean(l)){k.events[h]=l=new Ext.util.Event(k,h)}l.addListener(m,n,Ext.isObject(j)?j:{})}},removeListener:function(h,m,n){var k=this,i,l;if(Ext.isObject(h)){var j=h;for(h in j){if(!j.hasOwnProperty(h)){continue}i=j[h];if(!k.eventOptionsRe.test(h)){k.removeListener(h,i.fn||i,i.scope||j.scope)}}}else{h=h.toLowerCase();l=k.events[h];if(l.isEvent){l.removeListener(m,n)}}},clearListeners:function(){var d=this.events,f,e;for(e in d){if(!d.hasOwnProperty(e)){continue}f=d[e];if(f.isEvent){f.clearListeners()}}this.clearManagedListeners()},purgeListeners:function(){console.warn("MixedCollection: purgeListeners has been deprecated. Please use clearListeners.");return this.clearListeners.apply(this,arguments)},clearManagedListeners:function(){var e=this.managedListeners||[],g=e.length,h,f;for(h=0;h<g;h++){f=e[h];f.item.un(f.ename,f.fn,f.scope)}this.managedListener=[]},purgeManagedListeners:function(){console.warn("MixedCollection: purgeManagedListeners has been deprecated. Please use clearManagedListeners.");return this.clearManagedListeners.apply(this,arguments)},addEvents:function(f){var g=this;g.events=g.events||{};if(Ext.isString(f)){var a=arguments,h=a.length;while(h--){g.events[a[h]]=g.events[a[h]]||true}}else{Ext.applyIf(g.events,f)}},hasListener:function(d){var c=this.events[d];return c.isEvent===true&&c.listeners.length>0},suspendEvents:function(b){this.eventsSuspended=true;if(b&&!this.eventQueue){this.eventQueue=[]}},resumeEvents:function(){var d=this,c=d.eventQueue||[];d.eventsSuspended=false;delete d.eventQueue;Ext.each(c,function(a){d.fireEvent.apply(d,a)})},relayEvents:function(i,n,k){k=k||"";var l=this,j=n.length,o,p;function m(a){return function(){return l.fireEvent.apply(l,[k+a].concat(Array.prototype.slice.call(arguments,0,-1)))}}for(o=0,j=n.length;o<j;o++){p=n[o].substr(k.length);l.events[p]=l.events[p]||true;i.on(p,m(p),l)}},enableBubble:function(d){var c=this;if(!Ext.isEmpty(d)){d=Ext.isArray(d)?d:Ext.toArray(arguments);Ext.each(d,function(b){b=b.toLowerCase();var a=c.events[b]||true;if(Ext.isBoolean(a)){a=new Ext.util.Event(c,b);c.events[b]=a}a.bubble=true})}}});Ext.override(Ext.util.Observable,{on:Ext.util.Observable.prototype.addListener,un:Ext.util.Observable.prototype.removeListener,mon:Ext.util.Observable.prototype.addManagedListener,mun:Ext.util.Observable.prototype.removeManagedListener});Ext.util.Observable.releaseCapture=function(b){b.fireEvent=Ext.util.Observable.prototype.fireEvent};Ext.util.Observable.capture=function(f,d,e){f.fireEvent=Ext.createInterceptor(f.fireEvent,d,e)};Ext.util.Observable.observe=function(d,c){if(d){if(!d.isObservable){Ext.applyIf(d,new Ext.util.Observable());Ext.util.Observable.capture(d.prototype,d.fireEvent,d)}if(typeof c=="object"){d.on(c)}return d}};Ext.util.Observable.observeClass=Ext.util.Observable.observe;Ext.util.Event=Ext.extend(Object,(function(){function d(c,b,a,h){b.task=new Ext.util.DelayedTask();return function(){b.task.delay(a.buffer,c,h,Ext.toArray(arguments))}}function e(c,b,a,h){return function(){var g=new Ext.util.DelayedTask();if(!b.tasks){b.tasks=[]}b.tasks.push(g);g.delay(a.delay||10,c,h,Ext.toArray(arguments))}}function f(c,b,a,h){return function(){b.ev.removeListener(b.fn,h);return c.apply(h,arguments)}}return{isEvent:true,constructor:function(a,b){this.name=b;this.observable=a;this.listeners=[]},addListener:function(c,i,j){var b=this,a;i=i||b.observable;if(!b.isListening(c,i)){a=b.createListener(c,i,j);if(b.firing){b.listeners=b.listeners.slice(0)}b.listeners.push(a)}},createListener:function(c,i,a){a=a||{};i=i||this.observable;var b={fn:c,scope:i,o:a,ev:this},j=c;if(a.delay){j=e(j,b,a,i)}if(a.buffer){j=d(j,b,a,i)}if(a.single){j=f(j,b,a,i)}b.fireFn=j;return b},findListener:function(b,c){var i=this.listeners,l=i.length,a,k;while(l--){a=i[l];if(a){k=a.scope;if(a.fn==b&&(k==c||k==this.observable)){return l}}}return -1},isListening:function(a,b){return this.findListener(a,b)!==-1},removeListener:function(c,j){var b=this,k,a,l;k=b.findListener(c,j);if(k!=-1){a=b.listeners[k];if(b.firing){b.listeners=b.listeners.slice(0)}if(a.task){a.task.cancel();delete a.task}l=a.tasks&&a.tasks.length;if(l){while(l--){a.tasks[l].cancel()}delete a.tasks}b.listeners.splice(k,1);return true}return false},clearListeners:function(){var a=this.listeners,b=a.length;while(b--){this.removeListener(a[b].fn,a[b].scope)}},fire:function(){var b=this,i=b.listeners,c=i.length,k,l,a;if(c>0){b.firing=true;for(k=0;k<c;k++){a=i[k];l=arguments.length?Array.prototype.slice.call(arguments,0):[];if(a.o){l.push(a.o)}if(a&&a.fireFn.apply(a.scope||b.observable,l)===false){return(b.firing=false)}}}b.firing=false;return true}}})());Ext.util.Stateful=Ext.extend(Ext.util.Observable,{editing:false,dirty:false,persistanceProperty:"data",constructor:function(b){Ext.applyIf(this,{data:{}});this.modified={};this[this.persistanceProperty]={};Ext.util.Stateful.superclass.constructor.call(this,b)},get:function(b){return this[this.persistanceProperty][b]},set:function(j,l){var i=this.fields,m=[],k,n,h;if(arguments.length==1&&Ext.isObject(j)){for(n in j){if(!j.hasOwnProperty(n)){continue}k=i.get(n);if(k&&k.convert!==k.type.convert){m.push(n);continue}this.set(n,j[n])}for(h=0;h<m.length;h++){k=m[h];this.set(k,j[k])}}else{if(i){k=i.get(j);if(k&&k.convert){l=k.convert(l,this)}}this[this.persistanceProperty][j]=l;this.dirty=true;if(!this.editing){this.afterEdit()}}},getChanges:function(){var e=this.modified,d={},f;for(f in e){if(e.hasOwnProperty(f)){d[f]=this[this.persistanceProperty][f]}}return d},isModified:function(b){return !!(this.modified&&this.modified.hasOwnProperty(b))},setDirty:function(){this.dirty=true;if(!this.modified){this.modified={}}this.fields.each(function(b){this.modified[b.name]=this[this.persistanceProperty][b.name]},this)},markDirty:function(){throw new Error("Stateful: markDirty has been deprecated. Please use setDirty.")},reject:function(e){var d=this.modified,f;for(f in d){if(!d.hasOwnProperty(f)){continue}if(typeof d[f]!="function"){this[this.persistanceProperty][f]=d[f]}}this.dirty=false;this.editing=false;delete this.modified;if(e!==true){this.afterReject()}},commit:function(b){this.dirty=false;this.editing=false;delete this.modified;if(b!==true){this.afterCommit()}},copy:function(b){return new this.constructor(Ext.apply({},this[this.persistanceProperty]),b||this.internalId)}});Ext.util.HashMap=Ext.extend(Ext.util.Observable,{constructor:function(b){this.addEvents("add","clear","remove","replace");Ext.util.HashMap.superclass.constructor.call(this,b);this.clear(true)},getCount:function(){return this.length},getData:function(d,c){if(c===undefined){c=d;d=this.getKey(c)}return[d,c]},getKey:function(b){return b.id},add:function(f,g){var e=this,h;if(e.containsKey(f)){throw new Error("This key already exists in the HashMap")}h=this.getData(f,g);f=h[0];g=h[1];e.map[f]=g;++e.length;e.fireEvent("add",e,f,g);return g},replace:function(f,i){var j=this,h=j.map,g;if(!j.containsKey(f)){j.add(f,i)}g=h[f];h[f]=i;j.fireEvent("replace",j,f,i,g);return i},remove:function(c){var d=this.findKey(c);if(d!==undefined){return this.removeByKey(d)}return false},removeByKey:function(e){var d=this,f;if(d.containsKey(e)){f=d.map[e];delete d.map[e];--d.length;d.fireEvent("remove",d,e,f);return true}return false},get:function(b){return this.map[b]},clear:function(d){var c=this;c.map={};c.length=0;if(d!==true){c.fireEvent("clear",c)}return c},containsKey:function(b){return this.map[b]!==undefined},contains:function(b){return this.containsKey(this.findKey(b))},getKeys:function(){return this.getArray(true)},getValues:function(){return this.getArray(false)},getArray:function(g){var f=[],e,h=this.map;for(e in h){if(h.hasOwnProperty(e)){f.push(g?e:h[e])}}return f},each:function(i,j){var g=Ext.apply({},this.map),f,h=this.length;j=j||this;for(f in g){if(g.hasOwnProperty(f)){if(i.call(j,f,g[f],h)===false){break}}}return this},clone:function(){var f=new Ext.util.HashMap(),d=this.map,e;f.suspendEvents();for(e in d){if(d.hasOwnProperty(e)){f.add(e,d[e])}}f.resumeEvents();return f},findKey:function(d){var e,f=this.map;for(e in f){if(f.hasOwnProperty(e)&&f[e]===d){return e}}return undefined}});Ext.util.MixedCollection=function(c,d){this.items=[];this.map={};this.keys=[];this.length=0;this.addEvents("clear","add","replace","remove","sort");this.allowFunctions=c===true;if(d){this.getKey=d}Ext.util.MixedCollection.superclass.constructor.call(this)};Ext.extend(Ext.util.MixedCollection,Ext.util.Observable,{allowFunctions:false,add:function(f,i){var h=i,j=f;if(arguments.length==1){h=j;j=this.getKey(h)}if(typeof j!="undefined"&&j!==null){var g=this.map[j];if(typeof g!="undefined"){return this.replace(j,h)}this.map[j]=h}this.length++;this.items.push(h);this.keys.push(j);this.fireEvent("add",this.length-1,h,j);return h},getKey:function(b){return b.id},replace:function(h,g){if(arguments.length==1){g=arguments[0];h=this.getKey(g)}var f=this.map[h];if(typeof h=="undefined"||h===null||typeof f=="undefined"){return this.add(h,g)}var e=this.indexOfKey(h);this.items[e]=g;this.map[h]=g;this.fireEvent("replace",h,f,g);return g},addAll:function(h){if(arguments.length>1||Ext.isArray(h)){var f=arguments.length>1?arguments:h;for(var i=0,g=f.length;i<g;i++){this.add(f[i])}}else{for(var j in h){if(!h.hasOwnProperty(j)){continue}if(this.allowFunctions||typeof h[j]!="function"){this.add(j,h[j])}}}},each:function(h,i){var f=[].concat(this.items);for(var j=0,g=f.length;j<g;j++){if(h.call(i||f[j],f[j],j,g)===false){break}}},eachKey:function(g,h){for(var e=0,f=this.keys.length;e<f;e++){g.call(h||window,this.keys[e],this.items[e],e,f)}},findBy:function(g,h){for(var e=0,f=this.items.length;e<f;e++){if(g.call(h||window,this.items[e],this.keys[e])){return this.items[e]}}return null},insert:function(g,f,i){var j=f,h=i;if(arguments.length==2){h=j;j=this.getKey(h)}if(this.containsKey(j)){this.suspendEvents();this.removeByKey(j);this.resumeEvents()}if(g>=this.length){return this.add(j,h)}this.length++;this.items.splice(g,0,h);if(typeof j!="undefined"&&j!==null){this.map[j]=h}this.keys.splice(g,0,j);this.fireEvent("add",g,h,j);return h},remove:function(b){return this.removeAt(this.indexOf(b))},removeAll:function(b){Ext.each(b||[],function(a){this.remove(a)},this);return this},removeAt:function(e){if(e<this.length&&e>=0){this.length--;var f=this.items[e];this.items.splice(e,1);var d=this.keys[e];if(typeof d!="undefined"){delete this.map[d]}this.keys.splice(e,1);this.fireEvent("remove",f,d);return f}return false},removeByKey:function(b){return this.removeAt(this.indexOfKey(b))},removeKey:function(){console.warn("MixedCollection: removeKey has been deprecated. Please use removeByKey.");return this.removeByKey.apply(this,arguments)},getCount:function(){return this.length},indexOf:function(b){return this.items.indexOf(b)},indexOfKey:function(b){return this.keys.indexOf(b)},get:function(d){var e=this.map[d],f=e!==undefined?e:(typeof d=="number")?this.items[d]:undefined;return typeof f!="function"||this.allowFunctions?f:null},item:function(){console.warn("MixedCollection: item has been deprecated. Please use get.");return this.get.apply(this,arguments)},getAt:function(b){return this.items[b]},itemAt:function(){console.warn("MixedCollection: itemAt has been deprecated. Please use getAt.");return this.getAt.apply(this,arguments)},getByKey:function(b){return this.map[b]},key:function(){console.warn("MixedCollection: key has been deprecated. Please use getByKey.");return this.getByKey.apply(this,arguments)},contains:function(b){return this.indexOf(b)!=-1},containsKey:function(b){return typeof this.map[b]!="undefined"},clear:function(){this.length=0;this.items=[];this.keys=[];this.map={};this.fireEvent("clear")},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},_sort:function(i,s,l){var p,o,q=String(s).toUpperCase()=="DESC"?-1:1,m=[],c=this.keys,n=this.items;l=l||function(a,b){return a-b};for(p=0,o=n.length;p<o;p++){m[m.length]={key:c[p],value:n[p],index:p}}m.sort(function(b,d){var a=l(b[i],d[i])*q;if(a===0){a=(b.index<d.index?-1:1)}return a});for(p=0,o=m.length;p<o;p++){n[p]=m[p].value;c[p]=m[p].key}this.fireEvent("sort",this)},sort:function(j,h){var i=j;if(Ext.isString(j)){i=[new Ext.util.Sorter({property:j,direction:h||"ASC"})]}else{if(j instanceof Ext.util.Sorter){i=[j]}else{if(Ext.isObject(j)){i=[new Ext.util.Sorter(j)]}}}var f=i.length;if(f==0){return}var g=function(c,d){var e=i[0].sort(c,d),a=i.length,b;for(b=1;b<a;b++){e=e||i[b].sort.call(this,c,d)}return e};this.sortBy(g)},sortBy:function(l){var g=this.items,i=this.keys,j=g.length,h=[],k;for(k=0;k<j;k++){h[k]={key:i[k],value:g[k],index:k}}h.sort(function(b,c){var a=l(b.value,c.value);if(a===0){a=(b.index<c.index?-1:1)}return a});for(k=0;k<j;k++){g[k]=h[k].value;i[k]=h[k].key}this.fireEvent("sort",this)},reorder:function(m){this.suspendEvents();var h=this.items,n=0,k=h.length,i=[],l=[],j;for(j in m){i[m[j]]=h[j]}for(n=0;n<k;n++){if(m[n]==undefined){l.push(h[n])}}for(n=0;n<k;n++){if(i[n]==undefined){i[n]=l.shift()}}this.clear();this.addAll(i);this.resumeEvents();this.fireEvent("sort",this)},sortByKey:function(d,c){this._sort("key",d,c||function(g,h){var a=String(g).toUpperCase(),b=String(h).toUpperCase();return a>b?1:(a<b?-1:0)})},keySort:function(){console.warn("MixedCollection: keySort has been deprecated. Please use sortByKey.");return this.sortByKey.apply(this,arguments)},getRange:function(h,g){var f=this.items;if(f.length<1){return[]}h=h||0;g=Math.min(typeof g=="undefined"?this.length-1:g,this.length-1);var j,i=[];if(h<=g){for(j=h;j<=g;j++){i[i.length]=f[j]}}else{for(j=h;j>=g;j--){i[i.length]=f[j]}}return i},filter:function(k,l,i,h){var g=[];if(Ext.isString(k)){g.push(new Ext.util.Filter({property:k,value:l,anyMatch:i,caseSensitive:h}))}else{if(Ext.isArray(k)||k instanceof Ext.util.Filter){g=g.concat(k)}}var j=function(f){var a=true,o=g.length,e;for(e=0;e<o;e++){var b=g[e],c=b.filterFn,d=b.scope;a=a&&c.call(d,f)}return a};return this.filterBy(j)},filterBy:function(l,m){var i=new Ext.util.MixedCollection(),j=this.keys,h=this.items,k=h.length,n;i.getKey=this.getKey;for(n=0;n<k;n++){if(l.call(m||this,h[n],j[n])){i.add(j[n],h[n])}}return i},findIndex:function(j,f,h,i,g){if(Ext.isEmpty(f,false)){return -1}f=this.createValueMatcher(f,i,g);return this.findIndexBy(function(a){return a&&f.test(a[j])},null,h)},findIndexBy:function(k,l,j){var h=this.keys,m=this.items;for(var n=(j||0),i=m.length;n<i;n++){if(k.call(l||this,m[n],h[n])){return n}}return -1},createValueMatcher:function(j,h,g,f){if(!j.exec){var i=Ext.util.Format.escapeRegex;j=String(j);if(h===true){j=i(j)}else{j="^"+i(j);if(f===true){j+="$"}}j=new RegExp(j,g?"":"i")}return j},clone:function(){var h=new Ext.util.MixedCollection();var f=this.keys,i=this.items;for(var j=0,g=i.length;j<g;j++){h.add(f[j],i[j])}h.getKey=this.getKey;return h}});Ext.AbstractManager=Ext.extend(Object,{typeName:"type",constructor:function(b){Ext.apply(this,b||{});this.all=new Ext.util.HashMap();this.types={}},get:function(b){return this.all.get(b)},register:function(b){this.all.add(b)},unregister:function(b){this.all.remove(b)},registerType:function(c,d){this.types[c]=d;d[this.typeName]=c},isRegistered:function(b){return this.types[b]!==undefined},create:function(f,g){var e=f[this.typeName]||f.type||g,h=this.types[e];if(h==undefined){throw new Error(Ext.util.Format.format("The '{0}' type has not been registered with this manager",e))}return new h(f)},onAvailable:function(g,h,e){var f=this.all;f.on("add",function(b,a){if(a.id==g){h.call(e||a,a);f.un("add",h,e)}})},each:function(c,d){this.all.each(c,d||this)},getCount:function(){return this.all.getCount()}});Ext.util.DelayedTask=function(k,l,h){var j=this,i,g=function(){clearInterval(i);i=null;k.apply(l,h||[])};this.delay=function(c,a,b,d){j.cancel();k=a||k;l=b||l;h=d||h;i=setInterval(g,c)};this.cancel=function(){if(i){clearInterval(i);i=null}}};Ext.util.GeoLocation=Ext.extend(Ext.util.Observable,{autoUpdate:true,latitude:null,longitude:null,accuracy:null,altitude:null,altitudeAccuracy:null,heading:null,speed:null,timestamp:null,allowHighAccuracy:false,timeout:Infinity,maximumAge:0,setMaximumAge:function(b){this.maximumAge=b;this.setAutoUpdate(this.autoUpdate)},setTimeout:function(b){this.timeout=b;this.setAutoUpdate(this.autoUpdate)},setAllowHighAccuracy:function(b){this.allowHighAccuracy=b;this.setAutoUpdate(this.autoUpdate)},provider:null,watchOperation:null,constructor:function(d){Ext.apply(this,d);this.coords=this;if(Ext.supports.GeoLocation){this.provider=this.provider||(navigator.geolocation?navigator.geolocation:(window.google||{}).gears?google.gears.factory.create("beta.geolocation"):null)}this.addEvents("update","locationerror","locationupdate");Ext.util.GeoLocation.superclass.constructor.call(this);if(this.autoUpdate){var c=this;setTimeout(function(){c.setAutoUpdate(c.autoUpdate)},0)}},setAutoUpdate:function(d){if(this.watchOperation!==null){this.provider.clearWatch(this.watchOperation);this.watchOperation=null}if(!d){return true}if(!Ext.supports.GeoLocation){this.fireEvent("locationerror",this,false,false,true,null);return false}try{this.watchOperation=this.provider.watchPosition(Ext.createDelegate(this.fireUpdate,this),Ext.createDelegate(this.fireError,this),this.parseOptions())}catch(c){this.autoUpdate=false;this.fireEvent("locationerror",this,false,false,true,c.message);return false}return true},updateLocation:function(i,h,l){var e=this;var j=function(a,b){if(b){e.fireError(b)}else{e.fireEvent("locationerror",e,false,false,true,a)}if(i){i.call(h||e,null,e)}e.fireEvent("update",false,e)};if(!Ext.supports.GeoLocation){setTimeout(function(){j(null)},0);return}try{this.provider.getCurrentPosition(function(a){e.fireUpdate(a);if(i){i.call(h||e,e,e)}e.fireEvent("update",e,e)},function(a){j(null,a)},l?l:this.parseOptions())}catch(k){setTimeout(function(){j(k.message)},0)}},fireUpdate:function(b){this.timestamp=b.timestamp;this.latitude=b.coords.latitude;this.longitude=b.coords.longitude;this.accuracy=b.coords.accuracy;this.altitude=b.coords.altitude;this.altitudeAccuracy=b.coords.altitudeAccuracy;this.heading=typeof b.coords.heading=="undefined"?null:b.coords.heading;this.speed=typeof b.coords.speed=="undefined"?null:b.coords.speed;this.fireEvent("locationupdate",this)},fireError:function(b){this.fireEvent("locationerror",this,b.code==b.TIMEOUT,b.code==b.PERMISSION_DENIED,b.code==b.POSITION_UNAVAILABLE,b.message==undefined?null:b.message)},parseOptions:function(){var b={maximumAge:this.maximumAge,allowHighAccuracy:this.allowHighAccuracy};if(this.timeout!==Infinity){b.timeout=this.timeout}return b},getLocation:function(f,e){var d=this;if(this.latitude!==null){f.call(e||d,d,d)}else{d.updateLocation(f,e)}}});Ext.util.Point=Ext.extend(Object,{constructor:function(d,c){this.x=(d!=null&&!isNaN(d))?d:0;this.y=(c!=null&&!isNaN(c))?c:0;return this},copy:function(){return new Ext.util.Point(this.x,this.y)},copyFrom:function(b){this.x=b.x;this.y=b.y;return this},toString:function(){return"Point["+this.x+","+this.y+"]"},equals:function(b){return(this.x==b.x&&this.y==b.y)},isWithin:function(c,d){if(!Ext.isObject(d)){d={x:d};d.y=d.x}return(this.x<=c.x+d.x&&this.x>=c.x-d.x&&this.y<=c.y+d.y&&this.y>=c.y-d.y)},translate:function(d,c){if(d!=null&&!isNaN(d)){this.x+=d}if(c!=null&&!isNaN(c)){this.y+=c}},roundedEquals:function(b){return(Math.round(this.x)==Math.round(b.x)&&Math.round(this.y)==Math.round(b.y))}});Ext.util.Point.fromEvent=function(d){var a=(d.changedTouches&&d.changedTouches.length>0)?d.changedTouches[0]:d;return new Ext.util.Point(a.pageX,a.pageY)};Ext.util.Offset=Ext.extend(Object,{constructor:function(d,c){this.x=(d!=null&&!isNaN(d))?d:0;this.y=(c!=null&&!isNaN(c))?c:0;return this},copy:function(){return new Ext.util.Offset(this.x,this.y)},copyFrom:function(b){this.x=b.x;this.y=b.y},toString:function(){return"Offset["+this.x+","+this.y+"]"},equals:function(b){if(!(b instanceof Ext.util.Offset)){throw new Error("offset must be an instance of Ext.util.Offset")}return(this.x==b.x&&this.y==b.y)},round:function(c){if(!isNaN(c)){var d=Math.pow(10,c);this.x=Math.round(this.x*d)/d;this.y=Math.round(this.y*d)/d}else{this.x=Math.round(this.x);this.y=Math.round(this.y)}},isZero:function(){return this.x==0&&this.y==0}});Ext.util.Offset.fromObject=function(b){return new Ext.util.Offset(b.x,b.y)};Ext.util.Region=Ext.extend(Object,{constructor:function(i,g,b,j){var h=this;h.top=i;h[1]=i;h.right=g;h.bottom=b;h.left=j;h[0]=j},contains:function(c){var d=this;return(c.left>=d.left&&c.right<=d.right&&c.top>=d.top&&c.bottom<=d.bottom)},intersect:function(h){var i=this,k=Math.max(i.top,h.top),j=Math.min(i.right,h.right),b=Math.min(i.bottom,h.bottom),l=Math.max(i.left,h.left);if(b>k&&j>l){return new Ext.util.Region(k,j,b,l)}else{return false}},union:function(h){var i=this,k=Math.min(i.top,h.top),j=Math.max(i.right,h.right),b=Math.max(i.bottom,h.bottom),l=Math.min(i.left,h.left);return new Ext.util.Region(k,j,b,l)},constrainTo:function(d){var e=this,f=Ext.util.Numbers.constrain;e.top=f(e.top,d.top,d.bottom);e.bottom=f(e.bottom,d.top,d.bottom);e.left=f(e.left,d.left,d.right);e.right=f(e.right,d.left,d.right);return e},adjust:function(i,g,b,j){var h=this;h.top+=i;h.left+=j;h.right+=g;h.bottom+=b;return h},getOutOfBoundOffset:function(e,d){if(!Ext.isObject(e)){if(e=="x"){return this.getOutOfBoundOffsetX(d)}else{return this.getOutOfBoundOffsetY(d)}}else{d=e;var f=new Ext.util.Offset();f.x=this.getOutOfBoundOffsetX(d.x);f.y=this.getOutOfBoundOffsetY(d.y);return f}},getOutOfBoundOffsetX:function(b){if(b<=this.left){return this.left-b}else{if(b>=this.right){return this.right-b}}return 0},getOutOfBoundOffsetY:function(b){if(b<=this.top){return this.top-b}else{if(b>=this.bottom){return this.bottom-b}}return 0},isOutOfBound:function(d,c){if(!Ext.isObject(d)){if(d=="x"){return this.isOutOfBoundX(c)}else{return this.isOutOfBoundY(c)}}else{c=d;return(this.isOutOfBoundX(c.x)||this.isOutOfBoundY(c.y))}},isOutOfBoundX:function(b){return(b<this.left||b>this.right)},isOutOfBoundY:function(b){return(b<this.top||b>this.bottom)},restrict:function(e,g,f){if(Ext.isObject(e)){var h;f=g;g=e;if(g.copy){h=g.copy()}else{h={x:g.x,y:g.y}}h.x=this.restrictX(g.x,f);h.y=this.restrictY(g.y,f);return h}else{if(e=="x"){return this.restrictX(g,f)}else{return this.restrictY(g,f)}}},restrictX:function(c,d){if(!d){d=1}if(c<=this.left){c-=(c-this.left)*d}else{if(c>=this.right){c-=(c-this.right)*d}}return c},restrictY:function(c,d){if(!d){d=1}if(c<=this.top){c-=(c-this.top)*d}else{if(c>=this.bottom){c-=(c-this.bottom)*d}}return c},getSize:function(){return{width:this.right-this.left,height:this.bottom-this.top}},copy:function(){return new Ext.util.Region(this.top,this.right,this.bottom,this.left)},toString:function(){return"Region["+this.top+","+this.right+","+this.bottom+","+this.left+"]"},translateBy:function(b){this.left+=b.x;this.right+=b.x;this.top+=b.y;this.bottom+=b.y;return this},round:function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this},equals:function(b){return(this.top==b.top&&this.right==b.right&&this.bottom==b.bottom&&this.left==b.left)}});Ext.util.Region.getRegion=function(b){return Ext.fly(b).getPageBox(true)};Ext.util.Region.from=function(b){return new Ext.util.Region(b.top,b.right,b.bottom,b.left)};Ext.Template=Ext.extend(Object,{constructor:function(m){var k=this,h=arguments,i=[],j,n,l;k.initialConfig={};if(Ext.isArray(m)){m=m.join("")}else{if(h.length>1){for(n=0,l=h.length;n<l;n++){j=h[n];if(typeof j=="object"){Ext.apply(k.initialConfig,j);Ext.apply(k,j)}else{i.push(j)}}m=i.join("")}}k.html=m;if(k.compiled){k.compile()}},isTemplate:true,disableFormats:false,re:/\{([\w-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,applyTemplate:function(h){var i=this,l=i.disableFormats!==true,j=Ext.util.Format,g=i;if(i.compiled){return i.compiled(h)}function k(d,b,a,c){if(a&&l){if(c){c=[h[b]].concat(new Function("return ["+c+"];")())}else{c=[h[b]]}if(a.substr(0,5)=="this."){return g[a.substr(5)].apply(g,c)}else{return j[a].apply(j,c)}}else{return h[b]!==undefined?h[b]:""}}return i.html.replace(i.re,k)},set:function(e,f){var d=this;d.html=e;d.compiled=null;return f?d.compile():d},compileARe:/\\/g,compileBRe:/(\r\n|\n)/g,compileCRe:/'/g,compile:function(){var me=this,fm=Ext.util.Format,useFormat=me.disableFormats!==true,body,bodyReturn;function fn(m,name,format,args){if(format&&useFormat){args=args?","+args:"";if(format.substr(0,5)!="this."){format="fm."+format+"("}else{format="this."+format.substr(5)+"("}}else{args="";format="(values['"+name+"'] == undefined ? '' : "}return"',"+format+"values['"+name+"']"+args+") ,'"}bodyReturn=me.html.replace(me.compileARe,"\\\\").replace(me.compileBRe,"\\n").replace(me.compileCRe,"\\'").replace(me.re,fn);body="this.compiled = function(values){ return ['"+bodyReturn+"'].join('');};";eval(body);return me},insertFirst:function(d,e,f){return this.doInsert("afterBegin",d,e,f)},insertBefore:function(d,e,f){return this.doInsert("beforeBegin",d,e,f)},insertAfter:function(d,e,f){return this.doInsert("afterEnd",d,e,f)},append:function(d,e,f){return this.doInsert("beforeEnd",d,e,f)},doInsert:function(j,h,f,g){h=Ext.getDom(h);var i=Ext.DomHelper.insertHtml(j,h,this.applyTemplate(f));return g?Ext.get(i,true):i},overwrite:function(d,e,f){d=Ext.getDom(d);d.innerHTML=this.applyTemplate(e);return f?Ext.get(d.firstChild,true):d.firstChild}});Ext.Template.prototype.apply=Ext.Template.prototype.applyTemplate;Ext.Template.from=function(c,d){c=Ext.getDom(c);return new Ext.Template(c.value||c.innerHTML,d||"")};Ext.XTemplate=Ext.extend(Ext.Template,{argsRe:/<tpl\b[^>]*>((?:(?=([^<]+))\2|<(?!tpl\b[^>]*>))*?)<\/tpl>/,nameRe:/^<tpl\b[^>]*?for="(.*?)"/,ifRe:/^<tpl\b[^>]*?if="(.*?)"/,execRe:/^<tpl\b[^>]*?exec="(.*?)"/,constructor:function(){Ext.XTemplate.superclass.constructor.apply(this,arguments);var m=this,N=m.html,C=m.argsRe,S=m.nameRe,E=m.ifRe,A=m.execRe,I=0,M=[],J="values",B="parent",L="xindex",K="xcount",R="return ",T="with(values){ ",H,P,D,U,Q,O,G,i,F;N=["<tpl>",N,"</tpl>"].join("");while((H=N.match(C))){Q=null;O=null;G=null;P=H[0].match(S);D=H[0].match(E);U=H[0].match(A);Q=D?D[1]:null;if(Q){O=new Function(J,B,L,K,T+"try{"+R+Ext.util.Format.htmlDecode(Q)+";}catch(e){return;}}")}Q=U?U[1]:null;if(Q){G=new Function(J,B,L,K,T+Ext.util.Format.htmlDecode(Q)+";}")}i=P?P[1]:null;if(i){if(i==="."){i=J}else{if(i===".."){i=B}}i=new Function(J,B,"try{"+T+R+i+";}}catch(e){return;}")}M.push({id:I,target:i,exec:G,test:O,body:H[1]||""});N=N.replace(H[0],"{xtpl"+I+"}");I=I+1}for(F=M.length-1;F>=0;--F){m.compileTpl(M[F])}m.master=M[M.length-1];m.tpls=M},applySubTemplate:function(j,i,n,l,k){var m=this,h=m.tpls[j];return h.compiled.call(m,i,n,l,k)},codeRe:/\{\[((?:\\\]|.|\n)*?)\]\}/g,re:/\{([\w-\.\#]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\/]\s?[\d\.\+\-\*\/\(\)]+)?\}/g,compileTpl:function(tpl){var fm=Ext.util.Format,me=this,useFormat=me.disableFormats!==true,body,bodyReturn,evaluatedFn;function fn(m,name,format,args,math){var v;if(name.substr(0,4)=="xtpl"){return"',this.applySubTemplate("+name.substr(4)+", values, parent, xindex, xcount),'"}if(name=="."){v='typeof values == "string" ? values : ""'}else{if(name=="#"){v="xindex"}else{if(name.substr(0,7)=="parent."){v=name}else{if(name.indexOf(".")!=-1){v="values."+name}else{v="values['"+name+"']"}}}}if(math){v="("+v+math+")"}if(format&&useFormat){args=args?","+args:"";if(format.substr(0,5)!="this."){format="fm."+format+"("}else{format="this."+format.substr(5)+"("}}else{args="";format="("+v+" === undefined ? '' : "}return"',"+format+v+args+"),'"}function codeFn(m,code){return"',("+code.replace(me.compileARe,"'")+"),'"}bodyReturn=tpl.body.replace(me.compileBRe,"\\n").replace(me.compileCRe,"\\'").replace(me.re,fn).replace(me.codeRe,codeFn);body="evaluatedFn = function(values, parent, xindex, xcount){return ['"+bodyReturn+"'].join('');};";eval(body);tpl.compiled=function(values,parent,xindex,xcount){var vs,length,buffer,i;if(tpl.test&&!tpl.test.call(me,values,parent,xindex,xcount)){return""}vs=tpl.target?tpl.target.call(me,values,parent):values;if(!vs){return""}parent=tpl.target?values:parent;if(tpl.target&&Ext.isArray(vs)){buffer=[],length=vs.length;if(tpl.exec){for(i=0;i<length;i++){buffer[buffer.length]=evaluatedFn.call(me,vs[i],parent,i+1,length);tpl.exec.call(me,vs[i],parent,i+1,length)}}else{for(i=0;i<length;i++){buffer[buffer.length]=evaluatedFn.call(me,vs[i],parent,i+1,length)}}return buffer.join("")}if(tpl.exec){tpl.exec.call(me,vs,parent,xindex,xcount)}return evaluatedFn.call(me,vs,parent,xindex,xcount)};return this},applyTemplate:function(b){return this.master.compiled.call(this,b,{},1,1)},compile:function(){return this}});Ext.XTemplate.prototype.apply=Ext.XTemplate.prototype.applyTemplate;Ext.XTemplate.from=function(c,d){c=Ext.getDom(c);return new Ext.XTemplate(c.value||c.innerHTML,d||{})};Ext.util.Sorter=Ext.extend(Object,{direction:"ASC",constructor:function(b){Ext.apply(this,b);if(this.property==undefined&&this.sorterFn==undefined){throw"A Sorter requires either a property or a sorter function"}this.sort=this.createSortFunction(this.sorterFn||this.defaultSorterFn)},createSortFunction:function(f){var j=this,i=j.property,h=j.direction,g=h.toUpperCase()=="DESC"?-1:1;return function(a,b){return g*f.call(j,a,b)}},defaultSorterFn:function(e,f){var g=this.getRoot(e)[this.property],h=this.getRoot(f)[this.property];return g>h?1:(g<h?-1:0)},getRoot:function(b){return this.root==undefined?b:b[this.root]}});Ext.util.Filter=Ext.extend(Object,{anyMatch:false,exactMatch:false,caseSensitive:false,constructor:function(b){Ext.apply(this,b);this.filter=this.filter||this.filterFn;if(this.filter==undefined){if(this.property==undefined||this.value==undefined){}else{this.filter=this.createFilterFn()}this.filterFn=this.filter}},createFilterFn:function(){var e=this,f=e.createValueMatcher(),d=e.property;return function(a){return f.test(e.getRoot.call(e,a)[d])}},getRoot:function(b){return this.root==undefined?b:b[this.root]},createValueMatcher:function(){var k=this,j=k.value,i=k.anyMatch,l=k.exactMatch,h=k.caseSensitive,g=Ext.util.Format.escapeRegex;if(!j.exec){j=String(j);if(i===true){j=g(j)}else{j="^"+g(j);if(l===true){j+="$"}}j=new RegExp(j,h?"":"i")}return j}});Ext.util.Functions={createInterceptor:function(i,j,f,g){var h=i;if(!Ext.isFunction(j)){return i}else{return function(){var a=this,b=arguments;j.target=a;j.method=i;return(j.apply(f||a||window,b)!==false)?i.apply(a||window,b):g||null}}},createDelegate:function(h,g,e,f){if(!Ext.isFunction(h)){return h}return function(){var a=e||arguments;if(f===true){a=Array.prototype.slice.call(arguments,0);a=a.concat(e)}else{if(Ext.isNumber(f)){a=Array.prototype.slice.call(arguments,0);var b=[f,0].concat(e);Array.prototype.splice.apply(a,b)}}return h.apply(g||window,a)}},defer:function(i,j,h,f,g){i=Ext.util.Functions.createDelegate(i,h,f,g);if(j>0){return setTimeout(i,j)}i();return 0},createSequence:function(f,d,e){if(!Ext.isFunction(d)){return f}else{return function(){var a=f.apply(this||window,arguments);d.apply(e||this||window,arguments);return a}}}};Ext.defer=Ext.util.Functions.defer;Ext.createInterceptor=Ext.util.Functions.createInterceptor;Ext.createSequence=Ext.util.Functions.createSequence;Ext.createDelegate=Ext.util.Functions.createDelegate;Ext.util.Date={getElapsed:function(c,d){return Math.abs(c-(d||new Date))}};Ext.util.Numbers={toFixedBroken:(0.9).toFixed()!=1,constrain:function(f,d,e){f=parseFloat(f);if(!isNaN(d)){f=Math.max(f,d)}if(!isNaN(e)){f=Math.min(f,e)}return f},toFixed:function(f,e){if(Ext.util.Numbers.toFixedBroken){e=e||0;var d=Math.pow(10,e);return Math.round(f*d)/d}return f.toFixed(e)}};Ext.util.Format={defaultDateFormat:"m/d/Y",escapeRe:/('|\\)/g,trimRe:/^[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+|[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+$/g,formatRe:/\{(\d+)\}/g,escapeRegexRe:/([-.*+?^${}()|[\]\/\\])/g,ellipsis:function(j,g,i){if(j&&j.length>g){if(i){var h=j.substr(0,g-2),f=Math.max(h.lastIndexOf(" "),h.lastIndexOf("."),h.lastIndexOf("!"),h.lastIndexOf("?"));if(f!=-1&&f>=(g-15)){return h.substr(0,f)+"..."}}return j.substr(0,g-3)+"..."}return j},escapeRegex:function(b){return b.replace(Ext.util.Format.escapeRegexRe,"\\$1")},escape:function(b){return b.replace(Ext.util.Format.escapeRe,"\\$1")},toggle:function(d,f,e){return d==f?e:f},trim:function(b){return b.replace(Ext.util.Format.trimRe,"")},leftPad:function(g,e,h){var f=String(g);h=h||" ";while(f.length<e){f=h+f}return f},format:function(c){var d=Ext.toArray(arguments,1);return c.replace(Ext.util.Format.formatRe,function(b,a){return d[a]})},htmlEncode:function(b){return !b?b:String(b).replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")},htmlDecode:function(b){return !b?b:String(b).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&")},date:function(d,c){if(!d){return""}if(!Ext.isDate(d)){d=new Date(Date.parse(d))}return d.dateFormat(c||Ext.util.Format.defaultDateFormat)}};Ext.LoadMask=Ext.extend(Ext.util.Observable,{msg:"Loading...",msgCls:"x-mask-loading",disabled:false,constructor:function(c,d){this.el=Ext.get(c);Ext.apply(this,d);this.addEvents("show","hide");if(this.store){this.bindStore(this.store,true)}Ext.LoadMask.superclass.constructor.call(this)},bindStore:function(d,c){if(!c&&this.store){this.mun(this.store,{scope:this,beforeload:this.onBeforeLoad,load:this.onLoad,exception:this.onLoad});if(!d){this.store=null}}if(d){d=Ext.StoreMgr.lookup(d);this.mon(d,{scope:this,beforeload:this.onBeforeLoad,load:this.onLoad,exception:this.onLoad})}this.store=d;if(d&&d.isLoading()){this.onBeforeLoad()}},disable:function(){this.disabled=true},enable:function(){this.disabled=false},isDisabled:function(){return this.disabled},onLoad:function(){this.el.unmask();this.fireEvent("hide",this,this.el,this.store)},onBeforeLoad:function(){if(!this.disabled){this.el.mask('<div class="x-loading-spinner"><span class="x-loading-top"></span><span class="x-loading-right"></span><span class="x-loading-bottom"></span><span class="x-loading-left"></span></div><div class="x-loading-msg">'+this.msg+"</div>",this.msgCls,false);this.fireEvent("show",this,this.el,this.store)}},show:function(){this.onBeforeLoad()},hide:function(){this.onLoad()},destroy:function(){this.hide();this.clearListeners()}});Ext.applyIf(Array.prototype,{indexOf:function(d,f){var e=this.length;f=f||0;f+=(f<0)?e:0;for(;f<e;++f){if(this[f]===d){return f}}return -1},remove:function(c){var d=this.indexOf(c);if(d!=-1){this.splice(d,1)}return this},contains:function(b){return this.indexOf(b)!==-1}});Ext.ComponentMgr=new Ext.AbstractManager({typeName:"xtype",create:function(e,g){if(e.isComponent){return e}else{var h=e.xtype||g,f=this.types[h];if(!f){throw"Attempting to create a component with an xtype that has not been registered: "+h}return new f(e)}return e.render?e:new (e)},registerType:function(c,d){this.types[c]=d;d[this.typeName]=c;d.prototype[this.typeName]=c}});Ext.reg=function(){return Ext.ComponentMgr.registerType.apply(Ext.ComponentMgr,arguments)};Ext.create=function(){return Ext.ComponentMgr.create.apply(Ext.ComponentMgr,arguments)};Ext.ComponentQuery=new function(){var u=this,q=["var r = [],","i = 0,","it = arguments[0],","l = it.length,","c;","for (; i < l; i++) {","c = it[i].{0};","if (c) {","r.push(c);","}","}","return r;"].join(""),w=function(a,b){return b.method.apply(this,[a].concat(b.args))},A=function(e,a){var g=[],d,b=e.length,c,f=a!=">";for(d=0;d<b;d++){c=e[d];if(c.getRefItems){g=g.concat(c.getRefItems(f))}}return g},v=function(d){var e=[],c,a=d.length,b;for(c=0;c<a;c++){b=d[c];while(!!(b=b.ownerCt)){e.push(b)}}return e},o=function(f,a,b){if(a=="*"){return f.slice()}else{var g=[],e,c=f.length,d;for(e=0;e<c;e++){d=f[e];if(d.isXType(a,b)){g.push(d)}}return g}},s=function(e,b){var f=[],d,a=e.length,c;for(d=0;d<a;d++){c=e[d];if(c.el?c.el.hasCls(b):c.initCls().contains(b)){f.push(c)}}return f},n=function(f,a,g,b){var h=[],e,c=f.length,d;for(e=0;e<c;e++){d=f[e];if((b===undefined)?!!d[a]:(d[a]==b)){h.push(d)}}return h},x=function(e,a){var f=[],d,b=e.length,c;for(d=0;d<b;d++){c=e[d];if(c.getItemId()==a){f.push(c)}}return f},p=function(c,b,a){return u.pseudos[b](c,a)},t=/^(\s?([>\^])\s?|\s|$)/,y=/^(?:(#)?([\w-]+|\*)(?:\((true|false)\))?)|(?:\{([^\}]+)\})/,z=[{re:/^\.([\w-]+)(?:\((true|false)\))?/,method:o},{re:/^(?:[\[\{](?:@)?([\w-]+)\s?(?:(=|.=)\s?['"]?(.*?)["']?)?[\]\}])/,method:n},{re:/^#([\w-]+)/,method:x},{re:/^\:([\w-]+)(?:\(((?:[^\s>\/]*|.*?))\))?/,method:p}];u.Query=Ext.extend(Object,{constructor:function(a){a=a||{};Ext.apply(this,a)},execute:function(e){var c=this.operations,a=c.length,d,b,f;if(!e){f=Ext.ComponentMgr.all.items.slice()}for(b=0;b<a;b++){d=c[b];if(d.mode=="^"){f=v(f||[e])}else{if(d.mode){f=A(f||[e],d.mode)}else{f=w(f||A([e]),d)}}if(b==a-1){return f}}return[]},is:function(c){var d=this.operations,a=d.length,b,e=Ext.isArray(c)?c:[c];for(b=0;b<a&&e.length;b++){e=w(e,d[b])}return e.length!=0}});Ext.apply(this,{cache:{},pseudos:{},query:function(d,g){var f=d.split(","),a=f.length,c,j,b=[],e=[],h={},k,i;for(c=0;c<a;c++){d=Ext.util.Format.trim(f[c]);j=this.cache[d];if(!j){this.cache[d]=j=this.parse(d)}b=b.concat(j.execute(g))}if(a>1){k=b.length;for(c=0;c<k;c++){i=b[c];if(!h[i.id]){e.push(i);h[i.id]=true}}b=e}return b},is:function(b,c){if(!c){return true}var a=this.cache[c];if(!a){this.cache[c]=a=this.parse(c)}return a.is(b)},parse:function(c){var d=[],i=z.length,h,b,g,f,e,j,a,k;while(c&&h!=c){h=c;b=c.match(y);if(b){g=b[1];if(g=="#"){d.push({method:x,args:[Ext.util.Format.trim(b[2])]})}else{if(g=="."){d.push({method:s,args:[Ext.util.Format.trim(b[2])]})}else{if(b[4]){d.push({method:new Function(Ext.util.Format.format(q,b[4])),args:[]})}else{d.push({method:o,args:[Ext.util.Format.trim(b[2]),Boolean(b[3])]})}}}c=c.replace(b[0],"")}while(!(f=c.match(t))){for(a=0;c&&a<i;a++){k=z[a];e=c.match(k.re);if(e){d.push({method:k.method,args:e.splice(1)});c=c.replace(e[0],"");break}if(a==(i-1)){throw'Invalid ComponentQuery selector: "'+arguments[0]+'"'}}}if(f[1]){d.push({mode:f[2]||f[1]});c=c.replace(f[0],"")}}return new u.Query({operations:d})}})};Ext.PluginMgr=new Ext.AbstractManager({typeName:"ptype",create:function(d,f){var e=this.types[d.ptype||f];if(e.init){return e}else{return new e(d)}},findByType:function(l,i){var j=[],g=this.types;for(var h in g){if(!g.hasOwnProperty(h)){continue}var k=g[h];if(k.type==l&&(!i||(i===true&&k.isDefault))){j.push(k)}}return j}});Ext.preg=function(){return Ext.PluginMgr.registerType.apply(Ext.PluginMgr,arguments)};Ext.EventManager={optionsRe:/^(?:capture|scope|delay|buffer|single|stopEvent|disableLocking|preventDefault|stopPropagation|normalized|args|delegate|horizontal|vertical|dragThreshold|holdThreshold|doubleTapThreshold|cancelThreshold|singleTapThreshold|fireClickEvent)$/,touchRe:/^(?:pinch|pinchstart|pinchend|tap|singletap|doubletap|swipe|swipeleft|swiperight|drag|dragstart|dragend|touchdown|touchstart|touchmove|touchend|taphold|tapstart|tapcancel)$/i,addListener:function(i,j,n,o,l){if(Ext.isObject(j)){this.handleListenerConfig(i,j);return}var m=Ext.getDom(i);if(!m){throw'Error listening for "'+j+'". Element "'+i+"\" doesn't exist."}if(!n){throw'Error listening for "'+j+'". No handler function specified'}var k=this.touchRe.test(j);var p=this.createListenerWrap(m,j,n,o,l,k);this.getEventListenerCache(m,j).push({fn:n,wrap:p,scope:o});if(k){Ext.gesture.Manager.addEventListener(m,j,p,l)}else{l=l||{};m.addEventListener(j,p,l.capture||false)}},removeListener:function(p,n,j,i){if(Ext.isObject(n)){this.handleListenerConfig(p,n,true);return}var s=Ext.getDom(p),w=this.getEventListenerCache(s,n),o=w.length,q,u,v,t;while(o--){u=w[o];if(u&&(!j||u.fn==j)&&(!i||u.scope===i)){v=u.wrap;if(v.task){clearTimeout(v.task);delete v.task}q=v.tasks&&v.tasks.length;if(q){while(q--){clearTimeout(v.tasks[q])}delete v.tasks}if(this.touchRe.test(n)){Ext.gesture.Manager.removeEventListener(s,n,v)}else{s.removeEventListener(n,v,false)}w.splice(o,1)}}},removeAll:function(e){var g=Ext.getDom(e),f=this.getElementEventCache(g),h;for(h in f){if(!f.hasOwnProperty(h)){continue}this.removeListener(g,h)}Ext.cache[g.id].events={}},purgeElement:function(k,j,g){var i=Ext.getDom(k),l=0,h;if(g){this.removeListener(i,g)}else{this.removeAll(i)}if(j&&i&&i.childNodes){for(h=k.childNodes.length;l<h;l++){this.purgeElement(k.childNodes[l],j,g)}}},handleListenerConfig:function(i,f,g){var j,h;for(j in f){if(!f.hasOwnProperty(j)){continue}if(!this.optionsRe.test(j)){h=f[j];if(Ext.isFunction(h)){this[(g?"remove":"add")+"Listener"](i,j,h,f.scope,f)}else{this[(g?"remove":"add")+"Listener"](i,j,f.fn,f.scope,f)}}}},getId:function(e){var d=false,f;e=Ext.getDom(e);if(e===document||e===window){d=true}f=Ext.id(e);if(!Ext.cache[f]){Ext.Element.addToCache(new Ext.Element(e),f);if(d){Ext.cache[f].skipGarbageCollection=true}}return f},createListenerWrap:function(l,j,p,f,m,k){m=!Ext.isObject(m)?{}:m;var o=["if(!window.Ext) {return;}"];if(k){o.push("e = new Ext.TouchEventObjectImpl(e, args);")}else{if(m.buffer||m.delay){o.push("e = new Ext.EventObjectImpl(e);")}else{o.push("e = Ext.EventObject.setEvent(e);")}}if(m.delegate){o.push('var t = e.getTarget("'+m.delegate+'", this);');o.push("if(!t) {return;}")}else{o.push("var t = e.target;")}if(m.target){o.push("if(e.target !== o.target) {return;}")}if(m.stopEvent){o.push("e.stopEvent();")}else{if(m.preventDefault){o.push("e.preventDefault();")}if(m.stopPropagation){o.push("e.stopPropagation();")}}if(m.normalized===false){o.push("e = e.browserEvent;")}if(m.buffer){o.push("(wrap.task && clearTimeout(wrap.task));");o.push("wrap.task = setTimeout(function(){")}if(m.delay){o.push("wrap.tasks = wrap.tasks || [];");o.push("wrap.tasks.push(setTimeout(function(){")}o.push("fn.call(scope || dom, e, t, o);");if(m.single){o.push("Ext.EventManager.removeListener(dom, ename, fn, scope);")}if(m.delay){o.push("}, "+m.delay+"));")}if(m.buffer){o.push("}, "+m.buffer+");")}var n=new Function("e","o","fn","scope","ename","dom","wrap","args",o.join("\n"));return function(a,b){n.call(l,a,m,p,f,j,l,arguments.callee,b)}},getEventListenerCache:function(f,e){var d=this.getElementEventCache(f);return d[e]||(d[e]=[])},getElementEventCache:function(c){var d=Ext.cache[this.getId(c)];return d.events||(d.events={})},onDocumentReady:function(m,n,h){var k=this,j=k.readyEvent,l;if(Ext.isReady){j||(j=new Ext.util.Event());j.addListener(m,n,h);j.fire();j.listeners=[]}else{if(!j){j=k.readyEvent=new Ext.util.Event();var i=function(){Ext.isReady=true;window.removeEventListener("load",arguments.callee,false);if(l){clearInterval(l)}setTimeout(function(){Ext.supports.init();Ext.gesture.Manager.init();Ext.orientation=Ext.Element.getOrientation();j.fire({orientation:Ext.orientation,width:Ext.Element.getViewportWidth(),height:Ext.Element.getViewportHeight()});j.listeners=[]},50)};l=setInterval(function(){if(/loaded|complete/.test(document.readyState)){clearInterval(l);l=null;i()}},10);window.addEventListener("load",i,false)}h=h||{};h.delay=h.delay||1;j.addListener(m,n,h)}},onWindowResize:function(l,g,h){var j=this,i=j.resizeEvent;if(!i){j.resizeEvent=i=new Ext.util.Event();var k=function(){i.fire(Ext.Element.getViewportWidth(),Ext.Element.getViewportHeight())};this.addListener(window,"resize",k,this)}i.addListener(l,g,h)},onOrientationChange:function(l,g,h){var j=this,k=j.orientationEvent;if(!k){j.orientationEvent=k=new Ext.util.Event();var i=function(b,a){Ext.orientation=Ext.Viewport.getOrientation();k.fire(Ext.orientation,a.width,a.height)};Ext.Viewport.on("resize",i,this)}k.addListener(l,g,h)},unOrientationChange:function(j,f,g){var h=this,i=h.orientationEvent;if(i){i.removeListener(j,f,g)}}};Ext.EventManager.on=Ext.EventManager.addListener;Ext.EventManager.un=Ext.EventManager.removeListener;Ext.onReady=Ext.EventManager.onDocumentReady;Ext.EventObjectImpl=Ext.extend(Object,{constructor:function(b){if(b){this.setEvent(b.browserEvent||b)}},setEvent:function(f){var d=this;if(f==d||(f&&f.browserEvent)){return f}d.browserEvent=f;if(f){d.type=f.type;var e=f.target;d.target=e&&e.nodeType==3?e.parentNode:e;d.xy=[f.pageX,f.pageY];d.timestamp=f.timeStamp}else{d.target=null;d.xy=[0,0]}return d},stopEvent:function(){this.stopPropagation();this.preventDefault()},preventDefault:function(){if(this.browserEvent){this.browserEvent.preventDefault()}},stopPropagation:function(){if(this.browserEvent){this.browserEvent.stopPropagation()}},getPageX:function(){return this.xy[0]},getPageY:function(){return this.xy[1]},getXY:function(){return this.xy},getTarget:function(d,f,e){return d?Ext.fly(this.target).findParent(d,f,e):(e?Ext.get(this.target):this.target)},getTime:function(){return this.timestamp}});Ext.EventObject=new Ext.EventObjectImpl();Ext.is={init:function(f){var j=this.platforms,h=j.length,i,g;f=f||window.navigator;for(i=0;i<h;i++){g=j[i];this[g.identity]=g.regex.test(f[g.property])}this.Desktop=this.Mac||this.Windows||(this.Linux&&!this.Android);this.Tablet=this.iPad;this.Phone=!this.Desktop&&!this.Tablet;this.iOS=this.iPhone||this.iPad||this.iPod;this.Standalone=!!window.navigator.standalone},platforms:[{property:"platform",regex:/iPhone/i,identity:"iPhone"},{property:"platform",regex:/iPod/i,identity:"iPod"},{property:"userAgent",regex:/iPad/i,identity:"iPad"},{property:"userAgent",regex:/Blackberry/i,identity:"Blackberry"},{property:"userAgent",regex:/Android/i,identity:"Android"},{property:"platform",regex:/Mac/i,identity:"Mac"},{property:"platform",regex:/Win/i,identity:"Windows"},{property:"platform",regex:/Linux/i,identity:"Linux"}]};Ext.is.init();Ext.supports={init:function(){var k=document,i=k.createElement("div"),g=this.tests,l=g.length,h,j;i.innerHTML=['<div style="height:30px;width:50px;">','<div style="height:20px;width:20px;"></div>',"</div>",'<div style="float:left; background-color:transparent;"></div>'].join("");k.body.appendChild(i);for(h=0;h<l;h++){j=g[h];this[j.identity]=j.fn.call(this,k,i)}k.body.removeChild(i)},OrientationChange:((typeof window.orientation!="undefined")&&("onorientationchange" in window)),DeviceMotion:("ondevicemotion" in window),Touch:("ontouchstart" in window)&&(!Ext.is.Desktop),tests:[{identity:"Transitions",fn:function(m,k){var n=["webkit","Moz","o","ms","khtml"],l="TransitionEnd",j=[n[0]+l,"transitionend",n[2]+l,n[3]+l,n[4]+l],o=n.length,p=0,i=false;k=Ext.get(k);for(;p<o;p++){if(k.getStyle(n[p]+"TransitionProperty")){Ext.supports.CSS3Prefix=n[p];Ext.supports.CSS3TransitionEnd=j[p];i=true;break}}return i}},{identity:"RightMargin",fn:function(d,f,e){e=d.defaultView;return !(e&&e.getComputedStyle(f.firstChild.firstChild,null).marginRight!="0px")}},{identity:"TransparentColor",fn:function(d,f,e){e=d.defaultView;return !(e&&e.getComputedStyle(f.lastChild,null).backgroundColor!="transparent")}},{identity:"SVG",fn:function(b){return !!b.createElementNS&&!!b.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect}},{identity:"Canvas",fn:function(b){return !!b.createElement("canvas").getContext}},{identity:"VML",fn:function(d){var c=d.createElement("div");c.innerHTML="<!--[if vml]><br><br><![endif]-->";return(c.childNodes.length==2)}},{identity:"Float",fn:function(d,c){return !!c.lastChild.style.cssFloat}},{identity:"AudioTag",fn:function(b){return !!b.createElement("audio").canPlayType}},{identity:"History",fn:function(){return !!(window.history&&history.pushState)}},{identity:"CSS3DTransform",fn:function(){return(typeof WebKitCSSMatrix!="undefined"&&new WebKitCSSMatrix().hasOwnProperty("m41"))}},{identity:"CSS3LinearGradient",fn:function(l,j){var m="background-image:",h="-webkit-gradient(linear, left top, right bottom, from(black), to(white))",k="linear-gradient(left top, black, white)",n="-moz-"+k,i=[m+h,m+k,m+n];j.style.cssText=i.join(";");return(""+j.style.backgroundImage).indexOf("gradient")!==-1}},{identity:"CSS3BorderRadius",fn:function(i,h){var f=["borderRadius","BorderRadius","MozBorderRadius","WebkitBorderRadius","OBorderRadius","KhtmlBorderRadius"],j=false,g;for(g=0;g<f.length;g++){if(document.body.style[f[g]]!==undefined){return j=true}}return j}},{identity:"GeoLocation",fn:function(){return(typeof navigator!="undefined"&&typeof navigator.geolocation!="undefined")||(typeof google!="undefined"&&typeof google.gears!="undefined")}}]};Ext.data.Batch=Ext.extend(Ext.util.Observable,{autoStart:false,current:-1,total:0,isRunning:false,isComplete:false,hasException:false,pauseOnException:true,constructor:function(b){this.addEvents("complete","exception","operationcomplete","operation-complete");Ext.data.Batch.superclass.constructor.call(this,b);this.operations=[]},add:function(b){this.total++;b.setBatch(this);this.operations.push(b)},start:function(){this.hasException=false;this.isRunning=true;this.runNextOperation()},runNextOperation:function(){this.runOperation(this.current+1)},pause:function(){this.isRunning=false},runOperation:function(g){var h=this.operations,e=h[g];if(e==undefined){this.isRunning=false;this.isComplete=true;this.fireEvent("complete",this,h[h.length-1])}else{this.current=g;var f=function(b){var a=b.hasException();if(a){this.hasException=true;this.fireEvent("exception",this,b)}else{this.fireEvent("operation-complete",this,b);this.fireEvent("operationcomplete",this,b)}if(a&&this.pauseOnException){this.pause()}else{b.setCompleted();this.runNextOperation()}};e.setStarted();this.proxy[e.action](e,f,this)}}});Ext.data.Model=Ext.extend(Ext.util.Stateful,{evented:false,isModel:true,phantom:false,idProperty:"id",constructor:function(l,j){l=l||{};this.internalId=(j||j===0)?j:Ext.data.Model.id(this);Ext.data.Model.superclass.constructor.apply(this);var i=this.fields.items,m=i.length,k,h,n;for(n=0;n<m;n++){k=i[n];h=k.name;if(l[h]==undefined){l[h]=k.defaultValue}}this.set(l);this.dirty=false;if(this.getId()){this.phantom=false}if(typeof this.init=="function"){this.init()}},validate:function(){var i=new Ext.data.Errors(),p=this.validations,n=Ext.data.validations,q,o,k,s,l,m;if(p){q=p.length;for(m=0;m<q;m++){o=p[m];k=o.field||o.name;l=o.type;s=n[l](o,this.get(k));if(!s){i.add({field:k,message:o.message||n[l+"Message"]})}}}return i},getProxy:function(){return this.constructor.proxy},save:function(k){var o=this,u=o.phantom?"create":"update";k=k||{};Ext.apply(k,{records:[o],action:u});var t=new Ext.data.Operation(k),m=k.success,q=k.failure,p=k.callback,l=k.scope,s;var n=function(a){s=a.getRecords()[0];if(a.wasSuccessful()){o.set(s.data);s.dirty=false;if(typeof m=="function"){m.call(l,s,a)}}else{if(typeof q=="function"){q.call(l,s,a)}}if(typeof p=="function"){p.call(l,s,a)}};o.getProxy()[u](t,n,o);return o},getId:function(){return this.get(this.idProperty)},setId:function(b){this.set(this.idProperty,b)},join:function(b){this.store=b},unjoin:function(b){delete this.store},afterEdit:function(){this.callStore("afterEdit")},afterReject:function(){this.callStore("afterReject")},afterCommit:function(){this.callStore("afterCommit")},callStore:function(c){var d=this.store;if(d!=undefined&&typeof d[c]=="function"){d[c](this)}}});Ext.apply(Ext.data.Model,{setProxy:function(b){b=Ext.data.ProxyMgr.create(b);b.setModel(this);this.proxy=b;return b},load:function(s,q){q=Ext.applyIf(q||{},{action:"read",id:s});var p=new Ext.data.Operation(q),m=q.callback,k=q.success,n=q.failure,j=q.scope,o,l;l=function(a){o=a.getRecords()[0];if(a.wasSuccessful()){if(typeof k=="function"){k.call(j,o,a)}}else{if(typeof n=="function"){n.call(j,o,a)}}if(typeof m=="function"){m.call(j,o,a)}};this.proxy.read(p,l,this)}});Ext.data.Model.id=function(b){b.phantom=true;return[Ext.data.Model.PREFIX,"-",Ext.data.Model.AUTO_ID++].join("")};Ext.ns("Ext.data.Record");Ext.data.Record.id=Ext.data.Model.id;Ext.data.Model.PREFIX="ext-record";Ext.data.Model.AUTO_ID=1;Ext.data.Model.EDIT="edit";Ext.data.Model.REJECT="reject";Ext.data.Model.COMMIT="commit";Ext.data.Association=Ext.extend(Object,{primaryKey:"id",constructor:function(h){Ext.apply(this,h);var n=Ext.ModelMgr.types,m=h.ownerModel,k=h.associatedModel,l=n[m],j=n[k],i;if(l==undefined){throw new Error("The configured ownerModel was not valid (you tried "+m+")")}if(j==undefined){throw new Error("The configured associatedModel was not valid (you tried "+k+")")}this.ownerModel=l;this.associatedModel=j;Ext.applyIf(this,{ownerName:m,associatedName:k})}});Ext.data.HasManyAssociation=Ext.extend(Ext.data.Association,{constructor:function(f){Ext.data.HasManyAssociation.superclass.constructor.apply(this,arguments);var e=this.ownerModel.prototype,d=this.name;Ext.applyIf(this,{storeName:d+"Store",foreignKey:this.ownerName.toLowerCase()+"_id"});e[d]=this.createStore()},createStore:function(){var i=this.associatedModel,g=this.storeName,l=this.foreignKey,h=this.primaryKey,j=this.filterProperty,k=this.storeConfig||{};return function(){var a=this,c,b,d={};if(a[g]==undefined){if(j){b={property:j,value:a.get(j),exactMatch:true}}else{b={property:l,value:a.get(h),exactMatch:true}}d[l]=a.get(h);c=Ext.apply({},k,{model:i,filters:[b],remoteFilter:false,modelDefaults:d});a[g]=new Ext.data.Store(c)}return a[g]}}});Ext.data.BelongsToAssociation=Ext.extend(Ext.data.Association,{constructor:function(l){Ext.data.BelongsToAssociation.superclass.constructor.apply(this,arguments);var j=this,h=j.ownerModel.prototype,i=j.associatedName,k=j.getterName||"get"+i,g=j.setterName||"set"+i;Ext.applyIf(j,{name:i,foreignKey:i.toLowerCase()+"_id",instanceName:i+"BelongsToInstance"});h[k]=j.createGetter();h[g]=j.createSetter()},createSetter:function(){var j=this,i=j.ownerModel,h=j.associatedModel,f=j.foreignKey,g=j.primaryKey;return function(a,c,b){this.set(f,a);if(typeof c=="function"){c={callback:c,scope:b||this}}if(Ext.isObject(c)){return this.save(c)}}},createGetter:function(){var m=this,k=m.ownerModel,l=m.associatedName,j=m.associatedModel,n=m.foreignKey,h=m.primaryKey,i=m.instanceName;return function(c,b){c=c||{};var a=this.get(n),e,d;if(this[i]==undefined){e=Ext.ModelMgr.create({},l);e.set(h,a);if(typeof c=="function"){c={callback:c,scope:b||this}}j.load(a,c)}else{e=this[i];if(typeof c=="function"){c.call(b||this,e)}if(c.success){c.success.call(b||this,e)}if(c.callback){c.callback.call(b||this,e)}return e}}}});Ext.data.PolymorphicAssociation=Ext.extend(Ext.data.Association,{constructor:function(f){Ext.data.PolymorphicAssociation.superclass.constructor.call(this,f);var e=this.ownerModel.prototype,d=this.name;Ext.applyIf(this,{associationIdField:this.ownerName.toLowerCase()+"_id"});e[d]=this.createStore()},createStore:function(){var h=this,k=this.ownerName,m=this.name+"Store",j=this.associatedModel,n=this.primaryKey,i="associated_id",l="associated_model";return function(){var a=this,d={},c,b;if(a[m]==undefined){b=[{property:i,value:a.get(n),exactMatch:true},{property:l,value:k,exactMatch:true}];d[i]=a.get(n);d[l]=k;c=Ext.apply({},h.storeConfig||{},{model:j,filters:b,remoteFilter:false,modelDefaults:d});a[m]=new Ext.data.Store(c)}return a[m]}}});Ext.data.validations={presenceMessage:"must be present",lengthMessage:"is the wrong length",formatMessage:"is the wrong format",inclusionMessage:"is not included in the list of acceptable values",exclusionMessage:"is not an acceptable value",presence:function(d,c){if(c==undefined){c=d}return !!c},length:function(f,h){if(h==undefined){return false}var i=h.length,j=f.min,g=f.max;if((j&&i<j)||(g&&i>g)){return false}else{return true}},format:function(d,c){return !!(d.matcher&&d.matcher.test(c))},inclusion:function(d,c){return d.list&&d.list.indexOf(c)!=-1},exclusion:function(d,c){return d.list&&d.list.indexOf(c)==-1}};Ext.data.Errors=Ext.extend(Ext.util.MixedCollection,{isValid:function(){return this.length==0},getByField:function(h){var i=[],g,j,f;for(f=0;f<this.length;f++){g=this.items[f];if(g.field==h){i.push(g)}}return i}});Ext.data.Field=Ext.extend(Object,{constructor:function(e){if(Ext.isString(e)){e={name:e}}Ext.apply(this,e);var g=Ext.data.Types,f=this.sortType,h;if(this.type){if(Ext.isString(this.type)){this.type=g[this.type.toUpperCase()]||g.AUTO}}else{this.type=g.AUTO}if(Ext.isString(f)){this.sortType=Ext.data.SortTypes[f]}else{if(Ext.isEmpty(f)){this.sortType=this.type.sortType}}if(!this.convert){this.convert=this.type.convert}},dateFormat:null,useNull:false,defaultValue:"",mapping:null,sortType:null,sortDir:"ASC",allowBlank:true});Ext.data.SortTypes={none:function(b){return b},stripTagsRE:/<\/?[^>]+>/gi,asText:function(b){return String(b).replace(this.stripTagsRE,"")},asUCText:function(b){return String(b).toUpperCase().replace(this.stripTagsRE,"")},asUCString:function(b){return String(b).toUpperCase()},asDate:function(b){if(!b){return 0}if(Ext.isDate(b)){return b.getTime()}return Date.parse(String(b))},asFloat:function(d){var c=parseFloat(String(d).replace(/,/g,""));return isNaN(c)?0:c},asInt:function(d){var c=parseInt(String(d).replace(/,/g,""),10);return isNaN(c)?0:c}};Ext.data.Types=new function(){var b=Ext.data.SortTypes;Ext.apply(this,{stripRe:/[\$,%]/g,AUTO:{convert:function(a){return a},sortType:b.none,type:"auto"},STRING:{convert:function(a){return(a===undefined||a===null)?"":String(a)},sortType:b.asUCString,type:"string"},INT:{convert:function(a){return a!==undefined&&a!==null&&a!==""?parseInt(String(a).replace(Ext.data.Types.stripRe,""),10):(this.useNull?null:0)},sortType:b.none,type:"int"},FLOAT:{convert:function(a){return a!==undefined&&a!==null&&a!==""?parseFloat(String(a).replace(Ext.data.Types.stripRe,""),10):(this.useNull?null:0)},sortType:b.none,type:"float"},BOOL:{convert:function(a){return a===true||a==="true"||a==1},sortType:b.none,type:"bool"},DATE:{convert:function(f){var e=this.dateFormat;if(!f){return null}if(Ext.isDate(f)){return f}if(e){if(e=="timestamp"){return new Date(f*1000)}if(e=="time"){return new Date(parseInt(f,10))}return Date.parseDate(f,e)}var a=Date.parse(f);return a?new Date(a):null},sortType:b.asDate,type:"date"}});Ext.apply(this,{BOOLEAN:this.BOOL,INTEGER:this.INT,NUMBER:this.FLOAT})};Ext.ModelMgr=new Ext.AbstractManager({typeName:"mtype",defaultProxyType:"ajax",associationStack:[],registerType:function(i,u){var G=Ext.PluginMgr,A=G.findByType("model",true),B=u.fields||[],w=u.associations||[],x=u.belongsTo,D=u.hasMany,v=u.extend,C=u.plugins||[],J,I,H,y,F,K,E,z;if(x){if(!Ext.isArray(x)){x=[x]}for(y=0;y<x.length;y++){J=x[y];if(!Ext.isObject(J)){J={model:J}}Ext.apply(J,{type:"belongsTo"});w.push(J)}delete u.belongsTo}if(D){if(!Ext.isArray(D)){D=[D]}for(y=0;y<D.length;y++){J=D[y];if(!Ext.isObject(J)){J={model:J}}Ext.apply(J,{type:"hasMany"});w.push(J)}delete u.hasMany}if(v){F=this.types[v];K=F.prototype;E=K.validations;z=F.proxy;B=K.fields.items.concat(B);w=K.associations.items.concat(w);u.validations=E?E.concat(u.validations):u.validations}else{F=Ext.data.Model;z=u.proxy}I=Ext.extend(F,u);for(y=0,H=C.length;y<H;y++){A.push(G.create(C[y]))}this.types[i]=I;Ext.override(I,{plugins:A,fields:this.createFields(B),associations:this.createAssociations(w,i)});I.modelName=i;Ext.data.Model.setProxy.call(I,z||this.defaultProxyType);I.getProxy=I.prototype.getProxy;I.load=function(){Ext.data.Model.load.apply(this,arguments)};for(y=0,H=A.length;y<H;y++){A[y].bootstrap(I,u)}I.defined=true;this.onModelDefined(I);return I},onModelDefined:function(l){var h=this.associationStack,i=h.length,j=[],g,k;for(k=0;k<i;k++){g=h[k];if(g.associatedModel==l.modelName){j.push(g)}}i=j.length;for(k=0;k<i;k++){this.addAssociation(j[k],this.types[j[k].ownerModel].prototype.associations);h.remove(j[k])}},createAssociations:function(j,g){var i=j.length,k,l,h;l=new Ext.util.MixedCollection(false,function(a){return a.name});for(k=0;k<i;k++){h=j[k];Ext.apply(h,{ownerModel:g,associatedModel:h.model});if(this.types[h.model]==undefined){this.associationStack.push(h)}else{this.addAssociation(h,l)}}return l},addAssociation:function(e,d){var f=e.type;if(f=="belongsTo"){d.add(new Ext.data.BelongsToAssociation(e))}if(f=="hasMany"){d.add(new Ext.data.HasManyAssociation(e))}if(f=="polymorphic"){d.add(new Ext.data.PolymorphicAssociation(e))}},createFields:function(f){var g=f.length,h,e;e=new Ext.util.MixedCollection(false,function(a){return a.name});for(h=0;h<g;h++){e.add(new Ext.data.Field(f[h]))}return e},getModel:function(c){var d=c;if(typeof d=="string"){d=this.types[d]}return d},create:function(h,e,g){var f=typeof e=="function"?e:this.types[e||h.name];return new f(h,g)}});Ext.regModel=function(){return Ext.ModelMgr.registerType.apply(Ext.ModelMgr,arguments)};Ext.data.Operation=Ext.extend(Object,{synchronous:true,action:undefined,filters:undefined,sorters:undefined,group:undefined,start:undefined,limit:undefined,batch:undefined,started:false,running:false,complete:false,success:undefined,exception:false,error:undefined,constructor:function(b){Ext.apply(this,b||{})},setStarted:function(){this.started=true;this.running=true},setCompleted:function(){this.complete=true;this.running=false},setSuccessful:function(){this.success=true},setException:function(b){this.exception=true;this.success=false;this.running=false;this.error=b},markStarted:function(){console.warn("Operation: markStarted has been deprecated. Please use setStarted");return this.setStarted()},markCompleted:function(){console.warn("Operation: markCompleted has been deprecated. Please use setCompleted");return this.setCompleted()},markSuccessful:function(){console.warn("Operation: markSuccessful has been deprecated. Please use setSuccessful");return this.setSuccessful()},markException:function(){console.warn("Operation: markException has been deprecated. Please use setException");return this.setException()},hasException:function(){return this.exception===true},getError:function(){return this.error},getRecords:function(){var b=this.getResultSet();return(b==undefined?this.records:b.records)},getResultSet:function(){return this.resultSet},isStarted:function(){return this.started===true},isRunning:function(){return this.running===true},isComplete:function(){return this.complete===true},wasSuccessful:function(){return this.isComplete()&&this.success===true},setBatch:function(b){this.batch=b},allowWrite:function(){return this.action!="read"}});Ext.data.ProxyMgr=new Ext.AbstractManager({create:function(e){if(e==undefined||typeof e=="string"){e={type:e}}if(!(e instanceof Ext.data.Proxy)){Ext.applyIf(e,{type:this.defaultProxyType,model:this.model});var d=e[this.typeName]||e.type,f=this.types[d];if(f==undefined){throw new Error(Ext.util.Format.format("The '{0}' type has not been registered with this manager",d))}return new f(e)}else{return e}}});Ext.data.ReaderMgr=new Ext.AbstractManager({typeName:"rtype"});Ext.data.Request=Ext.extend(Object,{action:undefined,params:undefined,method:"GET",url:undefined,constructor:function(b){Ext.apply(this,b)}});Ext.data.ResultSet=Ext.extend(Object,{loaded:true,count:0,total:0,success:false,constructor:function(b){Ext.apply(this,b);this.totalRecords=this.total;if(b.count==undefined){this.count=this.records.length}}});Ext.data.AbstractStore=Ext.extend(Ext.util.Observable,{remoteSort:false,remoteFilter:false,autoLoad:false,autoSave:false,batchUpdateMode:"operation",filterOnLoad:true,sortOnLoad:true,defaultSortDirection:"ASC",implicitModel:false,defaultProxyType:"memory",isDestroyed:false,isStore:true,constructor:function(b){this.addEvents("add","remove","update","datachanged","beforeload","load","beforesync");Ext.apply(this,b);this.removed=[];this.sortToggle={};Ext.data.AbstractStore.superclass.constructor.apply(this,arguments);this.model=Ext.ModelMgr.getModel(b.model);Ext.applyIf(this,{modelDefaults:{}});if(!this.model&&b.fields){this.model=Ext.regModel("ImplicitModel-"+this.storeId||Ext.id(),{fields:b.fields});delete this.fields;this.implicitModel=true}this.setProxy(b.proxy||this.model.proxy);if(this.id&&!this.storeId){this.storeId=this.id;delete this.id}if(this.storeId){Ext.StoreMgr.register(this)}this.sorters=new Ext.util.MixedCollection();this.sorters.addAll(this.decodeSorters(b.sorters));this.filters=new Ext.util.MixedCollection();this.filters.addAll(this.decodeFilters(b.filters))},setProxy:function(b){if(b instanceof Ext.data.Proxy){b.setModel(this.model)}else{Ext.applyIf(b,{model:this.model});b=Ext.data.ProxyMgr.create(b)}this.proxy=b;return this.proxy},getProxy:function(){return this.proxy},create:function(g,h){var f=Ext.ModelMgr.create(Ext.applyIf(g,this.modelDefaults),this.model.modelName),e;h=h||{};Ext.applyIf(h,{action:"create",records:[f]});e=new Ext.data.Operation(h);this.proxy.create(e,this.onProxyWrite,this);return f},read:function(){return this.load.apply(this,arguments)},onProxyRead:Ext.emptyFn,update:function(c){c=c||{};Ext.applyIf(c,{action:"update",records:this.getUpdatedRecords()});var d=new Ext.data.Operation(c);return this.proxy.update(d,this.onProxyWrite,this)},onProxyWrite:Ext.emptyFn,destroy:function(c){c=c||{};Ext.applyIf(c,{action:"destroy",records:this.getRemovedRecords()});var d=new Ext.data.Operation(c);return this.proxy.destroy(d,this.onProxyWrite,this)},onBatchOperationComplete:function(c,d){return this.onProxyWrite(d)},onBatchComplete:function(j,g){var f=j.operations,h=f.length,i;this.suspendEvents();for(i=0;i<h;i++){this.onProxyWrite(f[i])}this.resumeEvents();this.fireEvent("datachanged",this)},onBatchException:function(c,d){},filterNew:function(b){return b.phantom==true||b.needsAdd==true},getNewRecords:function(){return[]},getUpdatedRecords:function(){return[]},filterDirty:function(b){return b.dirty==true},getRemovedRecords:function(){return this.removed},sort:function(c,d){},decodeSorters:function(i){if(!Ext.isArray(i)){if(i==undefined){i=[]}else{i=[i]}}var j=i.length,h=Ext.util.Sorter,g,f;for(f=0;f<j;f++){g=i[f];if(!(g instanceof h)){if(Ext.isString(g)){g={property:g}}Ext.applyIf(g,{root:"data",direction:"ASC"});if(g.fn){g.sorterFn=g.fn}if(typeof g=="function"){g={sorterFn:g}}i[f]=new h(g)}}return i},filter:function(d,c){},createSortFunction:function(i,j){j=j||"ASC";var f=j.toUpperCase()=="DESC"?-1:1;var g=this.model.prototype.fields,h=g.get(i).sortType;return function(c,d){var a=h(c.data[i]),b=h(d.data[i]);return f*(a>b?1:(a<b?-1:0))}},decodeFilters:function(h){if(!Ext.isArray(h)){if(h==undefined){h=[]}else{h=[h]}}var i=h.length,g=Ext.util.Filter,f,j;for(j=0;j<i;j++){f=h[j];if(!(f instanceof g)){Ext.apply(f,{root:"data"});if(f.fn){f.filterFn=f.fn}if(typeof f=="function"){f={filterFn:f}}h[j]=new g(f)}}return h},clearFilter:function(b){},isFiltered:function(){},filterBy:function(c,d){},sync:function(){var k=this,g={},j=k.getNewRecords(),l=k.getUpdatedRecords(),h=k.getRemovedRecords(),i=false;if(j.length>0){g.create=j;i=true}if(l.length>0){g.update=l;i=true}if(h.length>0){g.destroy=h;i=true}if(i&&k.fireEvent("beforesync",g)!==false){k.proxy.batch(g,k.getBatchListeners())}},getBatchListeners:function(){var b={scope:this,exception:this.onBatchException};if(this.batchUpdateMode=="operation"){b.operationcomplete=this.onBatchOperationComplete}else{b.complete=this.onBatchComplete}return b},save:function(){return this.sync.apply(this,arguments)},load:function(d){var f=this,e;d=d||{};Ext.applyIf(d,{action:"read",filters:f.filters.items,sorters:f.sorters.items});e=new Ext.data.Operation(d);if(f.fireEvent("beforeload",f,e)!==false){f.loading=true;f.proxy.read(e,f.onProxyLoad,f)}return f},afterEdit:function(b){this.fireEvent("update",this,b,Ext.data.Model.EDIT)},afterReject:function(b){this.fireEvent("update",this,b,Ext.data.Model.REJECT)},afterCommit:function(b){if(this.autoSave){this.sync()}this.fireEvent("update",this,b,Ext.data.Model.COMMIT)},clearData:Ext.emptyFn,destroyStore:function(){if(!this.isDestroyed){if(this.storeId){Ext.StoreMgr.unregister(this)}this.clearData();this.data=null;this.tree=null;this.reader=this.writer=null;this.clearListeners();this.isDestroyed=true;if(this.implicitModel){Ext.destroy(this.model)}}},getSortState:function(){return this.sortInfo},getCount:function(){},getById:function(b){},removeAll:function(){}});Ext.data.Store=Ext.extend(Ext.data.AbstractStore,{remoteSort:false,remoteFilter:false,groupField:undefined,groupDir:"ASC",pageSize:25,currentPage:1,clearOnPageLoad:true,implicitModel:false,loading:false,sortOnFilter:true,isStore:true,constructor:function(e){e=e||{};this.data=new Ext.util.MixedCollection(false,function(a){return a.internalId});if(e.data){this.inlineData=e.data;delete e.data}Ext.data.Store.superclass.constructor.call(this,e);var d=this.proxy,f=this.inlineData;if(f){if(d instanceof Ext.data.MemoryProxy){d.data=f;this.read()}else{this.add.apply(this,f)}this.sort();delete this.inlineData}else{if(this.autoLoad){Ext.defer(this.load,10,this,[typeof this.autoLoad=="object"?this.autoLoad:undefined])}}},getGroups:function(){var o=this.data.items,m=o.length,j=[],p={},i,l,k,n;for(n=0;n<m;n++){i=o[n];l=this.getGroupString(i);k=p[l];if(k==undefined){k={name:l,children:[]};j.push(k);p[l]=k}k.children.push(i)}return j},getGroupString:function(b){return b.get(this.groupField)},first:function(){return this.data.first()},last:function(){return this.data.last()},insert:function(i,j){var h,f,g;j=[].concat(j);for(h=0,g=j.length;h<g;h++){f=this.createModel(j[h]);f.set(this.modelDefaults);this.data.insert(i+h,f);f.join(this)}if(this.snapshot){this.snapshot.addAll(j)}this.fireEvent("add",this,j,i);this.fireEvent("datachanged",this)},add:function(e){if(!Ext.isArray(e)){e=Array.prototype.slice.apply(arguments)}var g=e.length,f,h;for(h=0;h<g;h++){f=this.createModel(e[h]);if(f.phantom==false){f.needsAdd=true}e[h]=f}this.insert(this.data.length,e);return e},createModel:function(b){if(!(b instanceof Ext.data.Model)){b=Ext.ModelMgr.create(b,this.model)}return b},each:function(c,d){this.data.each(c,d)},remove:function(f){if(!Ext.isArray(f)){f=[f]}var h=f.length,i,j,g;for(i=0;i<h;i++){g=f[i];j=this.data.indexOf(g);if(j>-1){this.removed.push(g);if(this.snapshot){this.snapshot.remove(g)}g.unjoin(this);this.data.remove(g);this.fireEvent("remove",this,g,j)}}this.fireEvent("datachanged",this)},removeAt:function(c){var d=this.getAt(c);if(d){this.remove(d)}},load:function(b){b=b||{};if(Ext.isFunction(b)){b={callback:b}}Ext.applyIf(b,{group:{field:this.groupField,direction:this.groupDir},start:0,limit:this.pageSize,addRecords:false});return Ext.data.Store.superclass.load.call(this,b)},isLoading:function(){return this.loading},onProxyLoad:function(d){var e=d.getRecords();this.loadRecords(e,d.addRecords);this.loading=false;this.fireEvent("load",this,e,d.wasSuccessful());this.fireEvent("read",this,e,d.wasSuccessful());var f=d.callback;if(typeof f=="function"){f.call(d.scope||this,e,d,d.wasSuccessful())}},onProxyWrite:function(p){var l=this.data,m=p.action,i=p.getRecords(),n=i.length,k=p.callback,j,o;if(p.wasSuccessful()){if(m=="create"||m=="update"){for(o=0;o<n;o++){j=i[o];j.phantom=false;j.join(this);l.replace(j)}}else{if(m=="destroy"){for(o=0;o<n;o++){j=i[o];j.unjoin(this);l.remove(j)}this.removed=[]}}this.fireEvent("datachanged")}if(typeof k=="function"){k.call(p.scope||this,i,p,p.wasSuccessful())}},getNewRecords:function(){return this.data.filterBy(this.filterNew).items},getUpdatedRecords:function(){return this.data.filterBy(this.filterDirty).items},sort:function(h,i){if(Ext.isString(h)){var j=h,f=this.sortToggle,g=Ext.util.Format.toggle;if(i==undefined){f[j]=g(f[j]||"","ASC","DESC");i=f[j]}h={property:j,direction:i}}if(arguments.length!=0){this.sorters.clear()}this.sorters.addAll(this.decodeSorters(h));if(this.remoteSort){this.load()}else{this.data.sort(this.sorters.items);this.fireEvent("datachanged",this)}},filter:function(d,c){if(Ext.isString(d)){d={property:d,value:c}}this.filters.addAll(this.decodeFilters(d));if(this.remoteFilter){this.load()}else{this.snapshot=this.snapshot||this.data.clone();this.data=this.data.filter(this.filters.items);if(this.sortOnFilter&&!this.remoteSort){this.sort()}else{this.fireEvent("datachanged",this)}}},clearFilter:function(b){this.filters.clear();if(this.isFiltered()){this.data=this.snapshot.clone();delete this.snapshot;if(b!==true){this.fireEvent("datachanged",this)}}},isFiltered:function(){return !!this.snapshot&&this.snapshot!=this.data},filterBy:function(c,d){this.snapshot=this.snapshot||this.data.clone();this.data=this.queryBy(c,d||this);this.fireEvent("datachanged",this)},queryBy:function(d,e){var f=this.snapshot||this.data;return f.filterBy(d,e||this)},loadData:function(i,h){var l=this.model,j=i.length,k,g;for(k=0;k<j;k++){g=i[k];if(!(g instanceof Ext.data.Model)){i[k]=Ext.ModelMgr.create(g,l)}}this.loadRecords(i,h)},loadRecords:function(f,g){if(!g){this.data.clear()}this.data.addAll(f);for(var e=0,h=f.length;e<h;e++){f[e].needsAdd=false;f[e].join(this)}this.suspendEvents();if(this.filterOnLoad&&!this.remoteFilter){this.filter()}if(this.sortOnLoad&&!this.remoteSort){this.sort()}this.resumeEvents();this.fireEvent("datachanged",this,f)},loadPage:function(b){this.currentPage=b;this.read({page:b,start:(b-1)*this.pageSize,limit:this.pageSize,addRecords:!this.clearOnPageLoad})},nextPage:function(){this.loadPage(this.currentPage+1)},previousPage:function(){this.loadPage(this.currentPage-1)},clearData:function(){this.data.each(function(b){b.unjoin()});this.data.clear()},find:function(l,m,j,k,i,n){var h=this.createFilterFn(l,m,k,i,n);return h?this.data.findIndexBy(h,null,j):-1},findRecord:function(){var b=this.find.apply(this,arguments);return b!=-1?this.getAt(b):null},createFilterFn:function(i,j,h,g,f){if(Ext.isEmpty(j)){return false}j=this.data.createValueMatcher(j,h,g,f);return function(a){return j.test(a.data[i])}},findExact:function(d,e,f){return this.data.findIndexBy(function(a){return a.get(d)===e},this,f)},findBy:function(d,e,f){return this.data.findIndexBy(d,e,f)},collect:function(o,n,u){var i=[],m={},t,l,p,q,s;if(u===true&&this.snapshot){q=this.snapshot.items}else{q=this.data.items}t=q.length;for(s=0;s<t;s++){l=q[s].data[o];p=String(l);if((n||!Ext.isEmpty(l))&&!m[p]){m[p]=true;i[i.length]=l}}return i},sum:function(j,i,h){var g=this.data.items,k=0,l;i=i||0;h=(h||h===0)?h:g.length-1;for(l=i;l<=h;l++){k+=(g[l].data[j]||0)}return k},getCount:function(){return this.data.length||0},getAt:function(b){return this.data.getAt(b)},getRange:function(c,d){return this.data.getRange(c,d)},getById:function(b){return(this.snapshot||this.data).findBy(function(a){return a.getId()===b})},indexOf:function(b){return this.data.indexOf(b)},indexOfId:function(b){return this.data.indexOfKey(b)},removeAll:function(c){var d=[];this.each(function(a){d.push(a)});this.clearData();if(this.snapshot){this.snapshot.clear()}if(c!==true){this.fireEvent("clear",this,d)}}});Ext.data.TreeStore=Ext.extend(Ext.data.AbstractStore,{clearOnLoad:true,nodeParam:"node",defaultRootId:"root",constructor:function(f){f=f||{};var e=f.root||{};e.id=e.id||this.defaultRootId;var d=new Ext.data.RecordNode(e);this.tree=new Ext.data.Tree(d);this.tree.treeStore=this;Ext.data.TreeStore.superclass.constructor.call(this,f);if(f.root){this.read({node:d,doPreload:true})}},getRootNode:function(){return this.tree.getRootNode()},getNodeById:function(b){return this.tree.getNodeById(b)},load:function(j){j=j||{};j.params=j.params||{};var i=j.node||this.tree.getRootNode(),k,l,h=this.proxy.reader,g;if(this.clearOnLoad){while(i.firstChild){i.removeChild(i.firstChild)}}if(!j.doPreload){Ext.applyIf(j,{node:i});l=i.getRecord();j.params[this.nodeParam]=l?l.getId():"root";return Ext.data.TreeStore.superclass.load.call(this,j)}else{g=h.getRoot(i.isRoot?i.attributes:i.getRecord().raw);k=h.extractData(g,true);this.fillNode(i,k);return true}},fillNode:function(j,n){j.loaded=true;var k=n.length,i,l=0,m,h=j.subStore;for(;l<k;l++){m=n[l].raw;n[l].data.leaf=m.leaf;i=new Ext.data.RecordNode({id:n[l].getId(),leaf:m.leaf,record:n[l],expanded:m.expanded});j.appendChild(i);if(n[l].doPreload){this.load({node:i,doPreload:true})}}if(h){if(this.clearOnLoad){h.removeAll()}h.add.apply(h,n)}},onProxyLoad:function(d){var e=d.getRecords();this.fillNode(d.node,e);this.fireEvent("read",this,d.node,e,d.wasSuccessful());var f=d.callback;if(typeof f=="function"){f.call(d.scope||this,e,d,d.wasSuccessful())}},getSubStore:function(b){if(b&&b.node){b=b.node}return b.getSubStore()},removeAll:function(){var b=this.getRootNode();b.destroy()}});Ext.StoreMgr=Ext.apply(new Ext.util.MixedCollection(),{register:function(){for(var d=0,c;(c=arguments[d]);d++){this.add(c)}},unregister:function(){for(var d=0,c;(c=arguments[d]);d++){this.remove(this.lookup(c))}},lookup:function(h){if(Ext.isArray(h)){var f=["field1"],i=!Ext.isArray(h[0]);if(!i){for(var j=2,g=h[0].length;j<=g;++j){f.push("field"+j)}}return new Ext.data.ArrayStore({data:h,fields:f,expandData:i,autoDestroy:true,autoCreated:true})}return Ext.isObject(h)?(h.events?h:Ext.create(h,"store")):this.get(h)},getKey:function(b){return b.storeId}});Ext.regStore=function(f,d){var e;if(Ext.isObject(f)){d=f}else{d.storeId=f}if(d instanceof Ext.data.Store){e=d}else{e=new Ext.data.Store(d)}return Ext.StoreMgr.register(e)};Ext.getStore=function(b){return Ext.StoreMgr.lookup(b)};Ext.data.WriterMgr=new Ext.AbstractManager({});Ext.data.Tree=Ext.extend(Ext.util.Observable,{constructor:function(b){this.nodeHash={};this.root=null;if(b){this.setRootNode(b)}this.addEvents("append","remove","move","insert","beforeappend","beforeremove","beforemove","beforeinsert");Ext.data.Tree.superclass.constructor.call(this)},pathSeparator:"/",proxyNodeEvent:function(){return this.fireEvent.apply(this,arguments)},getRootNode:function(){return this.root},setRootNode:function(b){this.root=b;b.ownerTree=this;b.isRoot=true;this.registerNode(b);return b},getNodeById:function(b){return this.nodeHash[b]},registerNode:function(b){this.nodeHash[b.id]=b},unregisterNode:function(b){delete this.nodeHash[b.id]},toString:function(){return"[Tree"+(this.id?" "+this.id:"")+"]"}});Ext.data.Node=Ext.extend(Ext.util.Observable,{constructor:function(b){this.attributes=b||{};this.leaf=!!this.attributes.leaf;this.id=this.attributes.id;if(!this.id){this.id=Ext.id(null,"xnode-");this.attributes.id=this.id}this.childNodes=[];this.parentNode=null;this.firstChild=null;this.lastChild=null;this.previousSibling=null;this.nextSibling=null;this.addEvents({append:true,remove:true,move:true,insert:true,beforeappend:true,beforeremove:true,beforemove:true,beforeinsert:true});this.listeners=this.attributes.listeners;Ext.data.Node.superclass.constructor.call(this)},fireEvent:function(c){if(Ext.data.Node.superclass.fireEvent.apply(this,arguments)===false){return false}var d=this.getOwnerTree();if(d){if(d.proxyNodeEvent.apply(d,arguments)===false){return false}}return true},isLeaf:function(){return this.leaf===true},setFirstChild:function(b){this.firstChild=b},setLastChild:function(b){this.lastChild=b},isLast:function(){return(!this.parentNode?true:this.parentNode.lastChild==this)},isFirst:function(){return(!this.parentNode?true:this.parentNode.firstChild==this)},hasChildNodes:function(){return !this.isLeaf()&&this.childNodes.length>0},isExpandable:function(){return this.attributes.expandable||this.hasChildNodes()},appendChild:function(l){var k=false,m,i;if(Ext.isArray(l)){k=l}else{if(arguments.length>1){k=arguments}}if(k){i=k.length;for(m=0;m<i;m++){this.appendChild(k[m])}}else{if(this.fireEvent("beforeappend",this.ownerTree,this,l)===false){return false}var h=this.childNodes.length;var n=l.parentNode;if(n){if(l.fireEvent("beforemove",l.getOwnerTree(),l,n,this,h)===false){return false}n.removeChild(l)}h=this.childNodes.length;if(h===0){this.setFirstChild(l)}this.childNodes.push(l);l.parentNode=this;var j=this.childNodes[h-1];if(j){l.previousSibling=j;j.nextSibling=l}else{l.previousSibling=null}l.nextSibling=null;this.setLastChild(l);l.setOwnerTree(this.getOwnerTree());this.fireEvent("append",this.ownerTree,this,l,h);if(n){l.fireEvent("move",this.ownerTree,l,n,this,h)}return l}},removeChild:function(f,d){var e=this.indexOf(f);if(e==-1){return false}if(this.fireEvent("beforeremove",this.ownerTree,this,f)===false){return false}this.childNodes.splice(e,1);if(f.previousSibling){f.previousSibling.nextSibling=f.nextSibling}if(f.nextSibling){f.nextSibling.previousSibling=f.previousSibling}if(this.firstChild==f){this.setFirstChild(f.nextSibling)}if(this.lastChild==f){this.setLastChild(f.previousSibling)}this.fireEvent("remove",this.ownerTree,this,f);if(d){f.destroy(true)}else{f.clear()}return f},clear:function(b){this.setOwnerTree(null,b);this.parentNode=this.previousSibling=this.nextSibling=null;if(b){this.firstChild=this.lastChild=null}},destroy:function(b){if(b===true){this.clearListeners();this.clear(true);Ext.each(this.childNodes,function(a){a.destroy(true)});this.childNodes=null}else{this.remove(true)}},insertBefore:function(k,h){if(!h){return this.appendChild(k)}if(k==h){return false}if(this.fireEvent("beforeinsert",this.ownerTree,this,k,h)===false){return false}var g=this.indexOf(h),l=k.parentNode,j=g;if(l==this&&this.indexOf(k)<g){j--}if(l){if(k.fireEvent("beforemove",k.getOwnerTree(),k,l,this,g,h)===false){return false}l.removeChild(k)}if(j===0){this.setFirstChild(k)}this.childNodes.splice(j,0,k);k.parentNode=this;var i=this.childNodes[j-1];if(i){k.previousSibling=i;i.nextSibling=k}else{k.previousSibling=null}k.nextSibling=h;h.previousSibling=k;k.setOwnerTree(this.getOwnerTree());this.fireEvent("insert",this.ownerTree,this,k,h);if(l){k.fireEvent("move",this.ownerTree,k,l,this,j,h)}return k},remove:function(c){var d=this.parentNode;if(d){d.removeChild(this,c)}return this},removeAll:function(e){var f=this.childNodes,d;while((d=f[0])){this.removeChild(d,e)}return this},getChildAt:function(b){return this.childNodes[b]},replaceChild:function(e,f){var d=f?f.nextSibling:null;this.removeChild(f);this.insertBefore(e,d);return f},indexOf:function(b){return this.childNodes.indexOf(b)},getOwnerTree:function(){if(!this.ownerTree){var b=this;while(b){if(b.ownerTree){this.ownerTree=b.ownerTree;break}b=b.parentNode}}return this.ownerTree},getDepth:function(){var c=0,d=this;while(d.parentNode){++c;d=d.parentNode}return c},setOwnerTree:function(d,c){if(d!=this.ownerTree){if(this.ownerTree){this.ownerTree.unregisterNode(this)}this.ownerTree=d;if(c!==true){Ext.each(this.childNodes,function(a){a.setOwnerTree(d)})}if(d){d.registerNode(this)}}},setId:function(c){if(c!==this.id){var d=this.ownerTree;if(d){d.unregisterNode(this)}this.id=this.attributes.id=c;if(d){d.registerNode(this)}this.onIdChange(c)}},onIdChange:Ext.emptyFn,getPath:function(h){h=h||"id";var f=this.parentNode,b=[this.attributes[h]];while(f){b.unshift(f.attributes[h]);f=f.parentNode}var g=this.getOwnerTree().pathSeparator;return g+b.join(g)},bubble:function(h,e,f){var g=this;while(g){if(h.apply(e||g,f||[g])===false){break}g=g.parentNode}},cascadeBy:function(k,l,h){if(k.apply(l||this,h||[this])!==false){var i=this.childNodes,j=i.length,g;for(g=0;g<j;g++){i[g].cascadeBy(k,l,h)}}},eachChild:function(k,l,h){var i=this.childNodes,j=i.length,g;for(g=0;g<j;g++){if(k.apply(l||this,h||[i[g]])===false){break}}},findChild:function(d,f,e){return this.findChildBy(function(){return this.attributes[d]==f},null,e)},findChildBy:function(l,m,i){var n=this.childNodes,j=n.length,o=0,k,p;for(;o<j;o++){k=n[o];if(l.call(m||k,k)===true){return k}else{if(i){p=k.findChildBy(l,m,i);if(p!=null){return p}}}}return null},sort:function(l,m){var n=this.childNodes,i=n.length,h,j;if(i>0){var k=m?function(){return l.apply(m,arguments)}:l;n.sort(k);for(h=0;h<i;h++){j=n[h];j.previousSibling=n[h-1];j.nextSibling=n[h+1];if(h===0){this.setFirstChild(j)}if(h==i-1){this.setLastChild(j)}}}},contains:function(b){return b.isAncestor(this)},isAncestor:function(d){var c=this.parentNode;while(c){if(c==d){return true}c=c.parentNode}return false},toString:function(){return"[Node"+(this.id?" "+this.id:"")+"]"}});Ext.data.RecordNode=Ext.extend(Ext.data.Node,{constructor:function(b){b=b||{};if(b.record){b.record.node=this}Ext.data.RecordNode.superclass.constructor.call(this,b)},getChildRecords:function(){var h=this.childNodes,i=h.length,f=0,g=[],j;for(;f<i;f++){j=h[f].attributes.record;j.data.leaf=h[f].leaf;g.push(j)}return g},getRecord:function(){return this.attributes.record},getSubStore:function(){if(this.isLeaf()){throw"Attempted to get a substore of a leaf node."}var c=this.getOwnerTree().treeStore;if(!this.subStore){this.subStore=new Ext.data.Store({model:c.model});var d=this.getChildRecords();this.subStore.add.apply(this.subStore,d)}if(!this.loaded){c.load({node:this})}return this.subStore},destroy:function(c){if(this.subStore){this.subStore.destroyStore()}var d=this.attributes;if(d.record){delete d.record.node;delete d.record}return Ext.data.RecordNode.superclass.destroy.call(this,c)}});Ext.data.Proxy=Ext.extend(Ext.util.Observable,{batchOrder:"create,update,destroy",defaultReaderType:"json",defaultWriterType:"json",constructor:function(b){b=b||{};if(b.model==undefined){delete b.model}Ext.data.Proxy.superclass.constructor.call(this,b);if(this.model!=undefined&&!(this.model instanceof Ext.data.Model)){this.setModel(this.model)}},setModel:function(e,h){this.model=Ext.ModelMgr.getModel(e);var f=this.reader,g=this.writer;this.setReader(f);this.setWriter(g);if(h&&this.store){this.store.setModel(this.model)}},getModel:function(){return this.model},setReader:function(b){if(b==undefined||typeof b=="string"){b={type:b}}if(b instanceof Ext.data.Reader){b.setModel(this.model)}else{Ext.applyIf(b,{proxy:this,model:this.model,type:this.defaultReaderType});b=Ext.data.ReaderMgr.create(b)}this.reader=b;return this.reader},getReader:function(){return this.reader},setWriter:function(b){if(b==undefined||typeof b=="string"){b={type:b}}if(!(b instanceof Ext.data.Writer)){Ext.applyIf(b,{model:this.model,type:this.defaultWriterType});b=Ext.data.WriterMgr.create(b)}this.writer=b;return this.writer},getWriter:function(){return this.writer},create:Ext.emptyFn,read:Ext.emptyFn,update:Ext.emptyFn,destroy:Ext.emptyFn,batch:function(d,f){var e=new Ext.data.Batch({proxy:this,listeners:f||{}});Ext.each(this.batchOrder.split(","),function(a){if(d[a]){e.add(new Ext.data.Operation({action:a,records:d[a]}))}},this);e.start();return e}});Ext.data.DataProxy=Ext.data.Proxy;Ext.data.ProxyMgr.registerType("proxy",Ext.data.Proxy);Ext.data.ServerProxy=Ext.extend(Ext.data.Proxy,{pageParam:"page",startParam:"start",limitParam:"limit",groupParam:"group",sortParam:"sort",filterParam:"filter",noCache:true,cacheString:"_dc",timeout:30000,constructor:function(b){b=b||{};Ext.data.ServerProxy.superclass.constructor.call(this,b);this.extraParams=b.extraParams||{};this.nocache=this.noCache},create:function(){return this.doRequest.apply(this,arguments)},read:function(){return this.doRequest.apply(this,arguments)},update:function(){return this.doRequest.apply(this,arguments)},destroy:function(){return this.doRequest.apply(this,arguments)},buildRequest:function(e){var f=Ext.applyIf(e.params||{},this.extraParams||{});f=Ext.applyIf(f,this.getParams(f,e));var d=new Ext.data.Request({params:f,action:e.action,records:e.records,operation:e});d.url=this.buildUrl(d);e.request=d;return d},encodeSorters:function(g){var e=[],h=g.length,f;for(f=0;f<h;f++){e[f]={property:g[f].property,direction:g[f].direction}}return Ext.encode(e)},encodeFilters:function(g){var e=[],h=g.length,f;for(f=0;f<h;f++){e[f]={property:g[f].property,value:g[f].value}}return Ext.encode(e)},encodeGroupers:function(b){return Ext.encode(b)},getParams:function(y,x){y=y||{};var q=x.group,s=x.sorters,z=x.filters,t=x.page,B=x.start,w=x.limit,o=this.pageParam,u=this.startParam,p=this.limitParam,v=this.groupParam,A=this.sortParam,C=this.filterParam;if(o&&t){y[o]=t}if(u&&B){y[u]=B}if(p&&w){y[p]=w}if(v&&q&&q.field){y[v]=this.encodeGroupers(q)}if(A&&s&&s.length>0){y[A]=this.encodeSorters(s)}if(C&&z&&z.length>0){y[C]=this.encodeFilters(z)}return y},buildUrl:function(c){var d=c.url||this.url;if(!d){throw new Error("You are using a ServerProxy but have not supplied it with a url.")}if(this.noCache){d=Ext.urlAppend(d,Ext.util.Format.format("{0}={1}",this.cacheString,(new Date().getTime())))}return d},doRequest:function(e,f,d){throw new Error("The doRequest function has not been implemented on your Ext.data.ServerProxy subclass. See src/data/ServerProxy.js for details")},afterRequest:Ext.emptyFn,onDestroy:function(){Ext.destroy(this.reader,this.writer);Ext.data.ServerProxy.superclass.destroy.apply(this,arguments)}});Ext.data.AjaxProxy=Ext.extend(Ext.data.ServerProxy,{actionMethods:{create:"POST",read:"GET",update:"POST",destroy:"POST"},constructor:function(){this.addEvents("exception");Ext.data.AjaxProxy.superclass.constructor.apply(this,arguments)},doRequest:function(g,h,f){var i=this.getWriter(),j=this.buildRequest(g,h,f);if(g.allowWrite()){j=i.write(j)}Ext.apply(j,{headers:this.headers,timeout:this.timeout,scope:this,callback:this.createRequestCallback(j,g,h,f),method:this.getMethod(j),disableCaching:false});Ext.Ajax.request(j);return j},getMethod:function(b){return this.actionMethods[b.action]},createRequestCallback:function(i,g,h,f){var j=this;return function(b,a,c){if(a===true){var d=j.getReader(),e=d.read(c);Ext.apply(g,{response:c,resultSet:e});g.setCompleted();g.setSuccessful()}else{j.fireEvent("exception",this,c,g);g.setException()}if(typeof h=="function"){h.call(f||j,g)}j.afterRequest(i,true)}}});Ext.data.ProxyMgr.registerType("ajax",Ext.data.AjaxProxy);Ext.data.HttpProxy=Ext.data.AjaxProxy;Ext.data.RestProxy=Ext.extend(Ext.data.AjaxProxy,{appendId:true,actionMethods:{create:"POST",read:"GET",update:"PUT",destroy:"DELETE"},api:{create:"create",read:"read",update:"update",destroy:"destroy"},buildUrl:function(i){var f=i.operation.records||[],g=f[0],h=this.format,j=i.url||this.url;if(this.appendId&&g){if(!j.match(/\/$/)){j+="/"}j+=g.getId()}if(h){if(!j.match(/\.$/)){j+="."}j+=h}i.url=j;return Ext.data.RestProxy.superclass.buildUrl.apply(this,arguments)}});Ext.data.ProxyMgr.registerType("rest",Ext.data.RestProxy);Ext.apply(Ext,{getHead:function(){var b;return function(){if(b==undefined){b=Ext.get(document.getElementsByTagName("head")[0])}return b}}()});Ext.data.ScriptTagProxy=Ext.extend(Ext.data.ServerProxy,{defaultWriterType:"base",callbackParam:"callback",scriptIdPrefix:"stcScript",callbackPrefix:"stcCallback",recordParam:"records",lastRequest:undefined,autoAppendParams:true,constructor:function(){this.addEvents("exception");Ext.data.ScriptTagProxy.superclass.constructor.apply(this,arguments)},doRequest:function(q,m,l){var n=Ext.util.Format.format,w=++Ext.data.ScriptTagProxy.TRANS_ID,u=n("{0}{1}",this.scriptIdPrefix,w),t=n("{0}{1}",this.callbackPrefix,w);var s=this.getWriter(),p=this.buildRequest(q),v=Ext.urlAppend(p.url,n("{0}={1}",this.callbackParam,t));if(q.allowWrite()){p=s.write(p)}Ext.apply(p,{url:v,transId:w,scriptId:u,stCallback:t});p.timeoutId=Ext.defer(this.createTimeoutHandler,this.timeout,this,[p,q]);window[t]=this.createRequestCallback(p,q,m,l);var o=document.createElement("script");o.setAttribute("src",v);o.setAttribute("async",true);o.setAttribute("type","text/javascript");o.setAttribute("id",u);Ext.getHead().appendChild(o);q.setStarted();this.lastRequest=p;return p},createRequestCallback:function(i,g,h,f){var j=this;return function(a){var b=j.getReader(),c=b.read(a);Ext.apply(g,{response:a,resultSet:c});g.setCompleted();g.setSuccessful();if(typeof h=="function"){h.call(f||j,g)}j.afterRequest(i,true)}},afterRequest:function(){var b=function(a){return function(){window[a]=undefined;try{delete window[a]}catch(d){}}};return function(f,a){Ext.get(f.scriptId).remove();clearTimeout(f.timeoutId);var e=f.stCallback;if(a){b(e)();this.lastRequest.completed=true}else{window[e]=b(e)}}}(),buildUrl:function(k){var h=Ext.data.ScriptTagProxy.superclass.buildUrl.call(this,k),j=Ext.apply({},k.params),l=j.filters,m,n;delete j.filters;if(this.autoAppendParams){h=Ext.urlAppend(h,Ext.urlEncode(j))}if(l&&l.length){for(n=0;n<l.length;n++){m=l[n];if(m.value){h=Ext.urlAppend(h,m.property+"="+m.value)}}}var i=k.records;if(Ext.isArray(i)&&i.length>0){h=Ext.urlAppend(h,Ext.util.Format.format("{0}={1}",this.recordParam,this.encodeRecords(i)))}return h},destroy:function(){this.abort();Ext.data.ScriptTagProxy.superclass.destroy.apply(this,arguments)},isLoading:function(){var b=this.lastRequest;return(b!=undefined&&!b.completed)},abort:function(){if(this.isLoading()){this.afterRequest(this.lastRequest)}},encodeRecords:function(f){var g="";for(var e=0,h=f.length;e<h;e++){g+=Ext.urlEncode(f[e].data)}return g},createTimeoutHandler:function(c,d){this.afterRequest(c,false);this.fireEvent("exception",this,c,d);if(typeof c.callback=="function"){c.callback.call(c.scope||window,null,c.options,false)}}});Ext.data.ScriptTagProxy.TRANS_ID=1000;Ext.data.ProxyMgr.registerType("scripttag",Ext.data.ScriptTagProxy);Ext.data.ClientProxy=Ext.extend(Ext.data.Proxy,{clear:function(){throw new Error("The Ext.data.ClientProxy subclass that you are using has not defined a 'clear' function. See src/data/ClientProxy.js for details.")}});Ext.data.MemoryProxy=Ext.extend(Ext.data.ClientProxy,{constructor:function(b){Ext.data.MemoryProxy.superclass.constructor.call(this,b);this.setReader(this.reader)},read:function(j,h,i){var f=this.getReader(),g=f.read(this.data);Ext.apply(j,{resultSet:g});j.setCompleted();if(typeof h=="function"){h.call(i||this,j)}},clear:Ext.emptyFn});Ext.data.ProxyMgr.registerType("memory",Ext.data.MemoryProxy);Ext.data.WebStorageProxy=Ext.extend(Ext.data.ClientProxy,{id:undefined,constructor:function(b){Ext.data.WebStorageProxy.superclass.constructor.call(this,b);this.cache={};if(this.getStorageObject()==undefined){throw"Local Storage is not supported in this browser, please use another type of data proxy"}this.id=this.id||(this.store?this.store.storeId:undefined);if(this.id==undefined){throw"No unique id was provided to the local storage proxy. See Ext.data.LocalStorageProxy documentation for details"}this.initialize()},create:function(n,k,i){var o=n.records,p=o.length,s=this.getIds(),q,l,m;n.setStarted();for(m=0;m<p;m++){l=o[m];if(l.phantom){l.phantom=false;q=this.getNextId()}else{q=l.getId()}this.setRecord(l,q);s.push(q)}this.setIds(s);n.setCompleted();n.setSuccessful();if(typeof k=="function"){k.call(i||this,n)}},read:function(n,k,i){var o=[],s=this.getIds(),p=s.length,m,q,l;if(n.id){l=this.getRecord(n.id);if(l){o.push(l);n.setSuccessful()}}else{for(m=0;m<p;m++){o.push(this.getRecord(s[m]))}n.setSuccessful()}n.setCompleted();n.resultSet=new Ext.data.ResultSet({records:o,total:o.length,loaded:true});if(typeof k=="function"){k.call(i||this,n)}},update:function(n,k,i){var o=n.records,p=o.length,s=this.getIds(),l,q,m;n.setStarted();for(m=0;m<p;m++){l=o[m];this.setRecord(l);q=l.getId();if(q!==undefined&&s.indexOf(q)==-1){s.push(q)}}this.setIds(s);n.setCompleted();n.setSuccessful();if(typeof k=="function"){k.call(i||this,n)}},destroy:function(i,k,n){var j=i.records,m=j.length,o=this.getIds(),l=[].concat(o),p;for(p=0;p<m;p++){l.remove(j[p].getId());this.removeRecord(j[p],false)}this.setIds(l);if(typeof k=="function"){k.call(n||this,i)}},getRecord:function(s){if(this.cache[s]==undefined){var u=Ext.decode(this.getStorageObject().getItem(this.getRecordKey(s))),o={},p=this.model,l=p.prototype.fields.items,q=l.length,n,i,t,m;for(n=0;n<q;n++){i=l[n];t=i.name;if(typeof i.decode=="function"){o[t]=i.decode(u[t])}else{o[t]=u[t]}}m=new p(o);m.phantom=false;this.cache[s]=m}return this.cache[s]},setRecord:function(p,w){if(w){p.setId(w)}else{w=p.getId()}var y=p.data,t={},q=this.model,o=q.prototype.fields.items,v=o.length,s,n,x;for(s=0;s<v;s++){n=o[s];x=n.name;if(typeof n.encode=="function"){t[x]=n.encode(y[x],p)}else{t[x]=y[x]}}var u=this.getStorageObject(),i=this.getRecordKey(w);this.cache[w]=p;u.removeItem(i);u.setItem(i,Ext.encode(t))},removeRecord:function(f,d){if(f instanceof Ext.data.Model){f=f.getId()}if(d!==false){var e=this.getIds();e.remove(f);this.setIds(e)}this.getStorageObject().removeItem(this.getRecordKey(f))},getRecordKey:function(b){if(b instanceof Ext.data.Model){b=b.getId()}return Ext.util.Format.format("{0}-{1}",this.id,b)},getRecordCounterKey:function(){return Ext.util.Format.format("{0}-counter",this.id)},getIds:function(){var d=(this.getStorageObject().getItem(this.id)||"").split(","),f=d.length,e;if(f==1&&d[0]==""){d=[]}else{for(e=0;e<f;e++){d[e]=parseInt(d[e],10)}}return d},setIds:function(e){var d=this.getStorageObject(),f=e.join(",");d.removeItem(this.id);if(!Ext.isEmpty(f)){d.setItem(this.id,f)}},getNextId:function(){var i=this.getStorageObject(),g=this.getRecordCounterKey(),j=i[g],f,h;if(j==undefined){f=this.getIds();j=f[f.length-1]||0}h=parseInt(j,10)+1;i.setItem(g,h);return h},initialize:function(){var b=this.getStorageObject();b.setItem(this.id,b.getItem(this.id)||"")},clear:function(){var g=this.getStorageObject(),h=this.getIds(),f=h.length,e;for(e=0;e<f;e++){this.removeRecord(h[e])}g.removeItem(this.getRecordCounterKey());g.removeItem(this.id)},getStorageObject:function(){throw new Error("The getStorageObject function has not been defined in your Ext.data.WebStorageProxy subclass")}});Ext.data.LocalStorageProxy=Ext.extend(Ext.data.WebStorageProxy,{getStorageObject:function(){return window.localStorage}});Ext.data.ProxyMgr.registerType("localstorage",Ext.data.LocalStorageProxy);Ext.data.SessionStorageProxy=Ext.extend(Ext.data.WebStorageProxy,{getStorageObject:function(){return window.sessionStorage}});Ext.data.ProxyMgr.registerType("sessionstorage",Ext.data.SessionStorageProxy);Ext.data.Reader=Ext.extend(Object,{idProperty:"id",totalProperty:"total",successProperty:"success",root:"",implicitIncludes:true,nullResultSet:new Ext.data.ResultSet({total:0,count:0,records:[],success:true}),constructor:function(b){Ext.apply(this,b||{});this.model=Ext.ModelMgr.getModel(b.model);if(this.model){this.buildExtractors()}},setModel:function(d,c){this.model=Ext.ModelMgr.getModel(d);this.buildExtractors(true);if(c&&this.proxy){this.proxy.setModel(this.model,true)}},read:function(d){var c=d;if(d){if(d.responseText){c=this.getResponseData(d)}return this.readRecords(c)}else{return this.nullResultSet}},readRecords:function(k){this.rawData=k;k=this.getData(k);var i=this.getRoot(k),m=i.length,j=true,l,h,n;if(this.totalProperty){l=parseInt(this.getTotal(k),10);if(!isNaN(l)){m=l}}if(this.successProperty){l=this.getSuccess(k);if(l===false||l==="false"){j=false}}h=this.extractData(i,true);n=h.length;return new Ext.data.ResultSet({total:m||n,count:n,records:h,success:j})},extractData:function(n,w){var m=[],q=[],t=this.model,u=n.length,i=this.idProperty,s,v,o,p;for(p=0;p<u;p++){s=n[p];m=this.extractValues(s);v=this.getId(s);if(w===true){o=new t(m,v);o.raw=s;q.push(o);if(this.implicitIncludes){this.readAssociated(o,s)}}else{m[i]=v;q.push(m)}}return q},readAssociated:function(t,u){var w=t.associations.items,A=w.length,x,o,i,y,z,q,s,p,v;for(v=0;v<A;v++){x=w[v];o=x.name;y=this.getAssociatedDataRoot(u,x.associationKey||o);i=x.associatedModel;if(y){q=i.proxy;if(q){s=q.getReader()}else{s=new this.constructor({model:x.associatedName})}if(x.type=="hasMany"){p=t[o]();p.add.apply(p,s.read(y).records);z=i.prototype.associations.findBy(function(a){return a.type=="belongsTo"&&a.associatedName==t.constructor.modelName});if(z){p.data.each(function(a){a[z.instanceName]=t})}}else{if(x.type=="belongsTo"){t[x.instanceName]=s.read([y]).records[0]}}}}},getAssociatedDataRoot:function(c,d){return c[d]},extractValues:function(k){var i=this.model.prototype.fields.items,m=i.length,h={},j,l,n;for(n=0;n<m;n++){j=i[n];l=this.extractorFunctions[n](k)||j.defaultValue;h[j.name]=l}return h},getData:function(b){return b},getRoot:function(b){return b},getResponseData:function(b){throw new Error("getResponseData must be implemented in the Ext.data.Reader subclass")},onMetaChange:function(f){var e=f.fields,d;Ext.apply(this,f);if(e){d=Ext.regModel("JsonReader-Model"+Ext.id(),{fields:e});this.setModel(d,true)}else{this.buildExtractors(true)}},buildExtractors:function(k){if(k===true){delete this.extractorFunctions}if(this.extractorFunctions){return}var i=this.id||this.idProperty,l=this.totalProperty,g=this.successProperty,j=this.messageProperty;if(l){this.getTotal=this.createAccessor(l)}if(g){this.getSuccess=this.createAccessor(g)}if(j){this.getMessage=this.createAccessor(j)}if(i){var h=this.createAccessor(i);this.getId=function(b){var a=h(b);return(a==undefined||a=="")?null:a}}else{this.getId=function(){return null}}this.buildFieldExtractors()},buildFieldExtractors:function(){var h=this.model.prototype.fields.items,l=h.length,g=0,i=[],j,k;for(;g<l;g++){j=h[g];k=(j.mapping!==undefined&&j.mapping!==null)?j.mapping:j.name;i.push(this.createAccessor(k))}this.extractorFunctions=i}});Ext.data.Writer=Ext.extend(Object,{constructor:function(b){Ext.apply(this,b)},write:function(j){var g=j.operation,h=g.records||[],k=h.length,l=0,i=[];for(;l<k;l++){i.push(this.getRecordData(h[l]))}return this.writeRecords(j,i)},getRecordData:function(b){return b.data}});Ext.data.WriterMgr.registerType("base",Ext.data.Writer);Ext.data.JsonWriter=Ext.extend(Ext.data.Writer,{root:"records",encode:false,writeRecords:function(d,c){if(this.encode===true){c=Ext.encode(c)}d.jsonData=d.jsonData||{};d.jsonData[this.root]=c;return d}});Ext.data.WriterMgr.registerType("json",Ext.data.JsonWriter);Ext.data.JsonReader=Ext.extend(Ext.data.Reader,{root:"",readRecords:function(b){if(b.metaData){this.onMetaChange(b.metaData)}this.jsonData=b;return Ext.data.JsonReader.superclass.readRecords.call(this,b)},getResponseData:function(e){try{var f=Ext.decode(e.responseText)}catch(d){throw"Ext.data.JsonReader.getResponseData: Unable to parse JSON returned by Server."}if(!f){throw"Ext.data.JsonReader.getResponseData: JSON object not found"}return f},buildExtractors:function(){Ext.data.JsonReader.superclass.buildExtractors.apply(this,arguments);if(this.root){this.getRoot=this.createAccessor(this.root)}else{this.getRoot=function(b){return b}}},extractData:function(h,l){var i=this.record,j=[],k,g;if(i){k=h.length;for(g=0;g<k;g++){j[g]=h[g][i]}}else{j=h}return Ext.data.XmlReader.superclass.extractData.call(this,j,l)},createAccessor:function(){var b=/[\[\.]/;return function(d){if(Ext.isEmpty(d)){return Ext.emptyFn}if(Ext.isFunction(d)){return d}var a=String(d).search(b);if(a>=0){return new Function("obj","return obj"+(a>0?".":"")+d)}return function(c){return c[d]}}}()});Ext.data.ReaderMgr.registerType("json",Ext.data.JsonReader);Ext.data.TreeReader=Ext.extend(Ext.data.JsonReader,{extractData:function(g,j){var l=Ext.data.TreeReader.superclass.extractData.call(this,g,j),i=l.length,k=0,h;if(j){for(;k<i;k++){h=l[k];h.doPreload=!!this.getRoot(h.raw)}}return l}});Ext.data.ReaderMgr.registerType("tree",Ext.data.TreeReader);Ext.data.ArrayReader=Ext.extend(Ext.data.JsonReader,{buildExtractors:function(){Ext.data.ArrayReader.superclass.buildExtractors.apply(this,arguments);var f=this.model.prototype.fields.items,h=f.length,g=[],e;for(e=0;e<h;e++){g.push(function(a){return function(b){return b[a]}}(f[e].mapping||e))}this.extractorFunctions=g}});Ext.data.ReaderMgr.registerType("array",Ext.data.ArrayReader);Ext.data.ArrayStore=Ext.extend(Ext.data.Store,{constructor:function(b){b=b||{};Ext.applyIf(b,{proxy:{type:"memory",reader:"array"}});Ext.data.ArrayStore.superclass.constructor.call(this,b)},loadData:function(h,g){if(this.expandData===true){var i=[],f=0,j=h.length;for(;f<j;f++){i[i.length]=[h[f]]}h=i}Ext.data.ArrayStore.superclass.loadData.call(this,h,g)}});Ext.reg("arraystore",Ext.data.ArrayStore);Ext.data.SimpleStore=Ext.data.ArrayStore;Ext.reg("simplestore",Ext.data.SimpleStore);Ext.data.JsonStore=Ext.extend(Ext.data.Store,{constructor:function(b){b=b||{};Ext.applyIf(b,{proxy:{type:"ajax",reader:"json",writer:"json"}});Ext.data.JsonStore.superclass.constructor.call(this,b)}});Ext.reg("jsonstore",Ext.data.JsonStore);Ext.data.JsonPStore=Ext.extend(Ext.data.Store,{constructor:function(b){Ext.data.JsonPStore.superclass.constructor.call(this,Ext.apply(b,{reader:new Ext.data.JsonReader(b),proxy:new Ext.data.ScriptTagProxy(b)}))}});Ext.reg("jsonpstore",Ext.data.JsonPStore);Ext.data.XmlWriter=Ext.extend(Ext.data.Writer,{documentRoot:"xmlData",header:"",record:"record",writeRecords:function(d,f){var e=this.buildTpl(d,f);d.xmlData=e.apply(f);return d},buildTpl:function(l,k){if(this.tpl){return this.tpl}var n=[],h=this.documentRoot,i=this.record,j,m;if(this.header){n.push(this.header)}n.push("<",h,">");if(k.length>0){n.push('<tpl for="."><',i,">");j=k[0];for(m in j){if(j.hasOwnProperty(m)){n.push("<",m,">{",m,"}</",m,">")}}n.push("</",i,"></tpl>")}n.push("</",h,">");this.tpl=new Ext.XTemplate(n.join(""));return this.tpl}});Ext.data.WriterMgr.registerType("xml",Ext.data.XmlWriter);Ext.data.XmlReader=Ext.extend(Ext.data.Reader,{createAccessor:function(){var b=function(i,j,a){var h=Ext.DomQuery.selectNode(i,j),g;if(h&&h.firstChild){g=h.firstChild.nodeValue}return Ext.isEmpty(g)?a:g};return function(a){var d;if(a==this.totalProperty){d=function(g,h){var c=b(a,g,h);return parseFloat(c)}}else{if(a==this.successProperty){d=function(g,h){var c=b(a,g,true);return(c!==false&&c!=="false")}}else{d=function(c,f){return b(a,c,f)}}}return d}}(),getResponseData:function(d){var c=d.responseXML;if(!c){throw {message:"Ext.data.XmlReader.read: XML data not found"}}return c},getData:function(b){return b.documentElement||b},getRoot:function(d){var f=d.nodeName,e=this.root;if(!e||(f&&f==e)){return d}else{return Ext.DomQuery.selectNode(e,d)}},constructor:function(b){b=b||{};Ext.applyIf(b,{idProperty:b.idPath||b.id,successProperty:b.success});Ext.data.XmlReader.superclass.constructor.call(this,b)},extractData:function(e,d){var f=this.record;if(f!=e.nodeName){e=Ext.DomQuery.select(f,e)}else{e=[e]}return Ext.data.XmlReader.superclass.extractData.call(this,e,d)},getAssociatedDataRoot:function(c,d){return Ext.DomQuery.select(d,c)[0]},readRecords:function(b){if(Ext.isArray(b)){b=b[0]}this.xmlData=b;return Ext.data.XmlReader.superclass.readRecords.call(this,b)}});Ext.data.ReaderMgr.registerType("xml",Ext.data.XmlReader);Ext.data.XmlStore=Ext.extend(Ext.data.Store,{constructor:function(b){b=b||{};b=b||{};Ext.applyIf(b,{proxy:{type:"ajax",reader:"xml",writer:"xml"}});Ext.data.XmlStore.superclass.constructor.call(this,b)}});Ext.reg("xmlstore",Ext.data.XmlStore);Ext.History=new Ext.util.Observable({constructor:function(){Ext.History.superclass.constructor.call(this,config);this.addEvents("change")},init:function(){var b=this;b.setToken(window.location.hash);if(Ext.supports.History){window.addEventListener("hashchange",this.onChange)}else{setInterval(function(){var d=b.cleanToken(window.location.hash),a=b.getToken();if(d!=a){b.onChange()}},50)}},onChange:function(){var c=Ext.History,d=c.cleanToken(window.location.hash);if(c.token!=d){c.fireEvent("change",d)}c.setToken(d)},setToken:function(b){return this.token=this.cleanToken(b)},cleanToken:function(b){return b[0]=="#"?b.substr(1):b},getToken:function(){return this.token},add:function(b){window.location.hash=this.setToken(b);if(!Ext.supports.History){this.onChange()}}});Ext.ControllerManager=new Ext.AbstractManager({register:function(f,d){d.id=f;Ext.applyIf(d,{application:Ext.ApplicationManager.currentApplication});var e=new Ext.Controller(d);if(e.init){e.init()}this.all.add(e);return e}});Ext.regController=function(){return Ext.ControllerManager.register.apply(Ext.ControllerManager,arguments)};Ext.Controller=Ext.extend(Ext.util.Observable,{constructor:function(b){this.addEvents("instance-created","instance-creation-failed","instance-updated","instance-update-failed","instance-destroyed","instance-destruction-failed");Ext.Controller.superclass.constructor.call(this,b);Ext.apply(this,b||{});if(typeof this.model=="string"){this.model=Ext.ModelMgr.getModel(this.model)}},index:function(){this.render("index",{listeners:{scope:this,edit:this.edit,build:this.build,create:this.onCreateInstance,destroy:this.onDestroyInstance}})},edit:function(d){var c=this.render("edit",{listeners:this.getEditListeners()});c.loadModel(d)},build:function(){this.render("build",{listeners:this.getBuildListeners()})},create:function(k,n){n=n||{};var h=this.getModel(),i=new h(k),l=n.success,j=n.failure,m=n.scope||this;i.save({scope:this,success:function(a){if(typeof l=="function"){l.call(m,a)}this.fireEvent("instance-created",a)},failure:function(b,a){if(typeof j=="function"){j.call(m,b,a)}this.fireEvent("instance-creation-failed",b,a)}})},update:function(h,j,g){g=g||{};var k=g.success,i=g.failure,l=g.scope||this;if(Ext.isObject(j)){h.set(j)}h.save({scope:this,success:function(a){if(typeof k=="function"){k.call(l,a)}this.fireEvent("instance-updated",a)},failure:function(b,a){if(typeof i=="function"){i.call(l,b,a)}this.fireEvent("instance-update-failed",b,a)}})},destroy:function(g,f){f=f||{};var i=f.success,h=f.failure,j=f.scope||this;g.destroy({scope:this,success:function(a){if(typeof i=="function"){i.call(j,a)}this.fireEvent("instance-destroyed",a)},failure:function(b,a){if(typeof h=="function"){h.call(j,b,a)}this.fireEvent("instance-destruction-failed",b,a)}})},getBuildListeners:function(){return{scope:this,save:this.onCreateInstance,cancel:this.onCancelBuild}},getEditListeners:function(){return{scope:this,save:this.onUpdateInstance,cancel:this.onCancelEdit}},onCancelEdit:function(b){return this.closeView(b)},onCancelBuild:function(b){return this.closeView(b)},onCreateInstance:function(b){this.create(b.getValues(),{scope:this,success:function(a){this.closeView(b)},failure:function(a,d){console.log("fail")}})},onUpdateInstance:function(b){this.update(b.getRecord(),b.getValues(),{scope:this,success:function(a){this.closeView(b)},failure:function(a,d){}})},onDestroyInstance:function(d,c){this.destroy(d,{scope:this,success:function(a){},failure:function(b,a){}})},setRenderTarget:function(b){Ext.Controller.renderTarget=b},render:function(n,j){var k=Ext.Controller,h=this.application,m=h?h.currentProfile:undefined,l,i;Ext.applyIf(n,{profile:m});i=Ext.ComponentMgr.create(n);if(j!==false){l=m?m.getRenderTarget(n,h):j;if(j==undefined){j=l||(h?h.defaultTarget:undefined)}if(typeof j=="string"){j=Ext.getCmp(j)}if(j!=undefined&&j.add){if(m){m.beforeLayout(i,j,h)}j.add(i);if(j.layout&&j.layout.setActiveItem){j.layout.setActiveItem(i)}j.doComponentLayout();if(m){m.afterLayout(i,j,h)}}}return i},control:function(n,o,j){if(!n||!n.isView){throw"Trying to control a view that doesnt exist"}var k=j?n.refs[j]:n,l,m,s,q,p;if(!k){throw"No item called "+j+" found inside the "+n.name+" view."}for(l in o){m=o[l];if(Ext.isObject(m)&&!m.fn){this.control(n,m,l)}else{if(k.refs){for(s in k.refs){q=k.refs[s];if(q.isObservable&&q.events[l]){q.enableBubble(l)}}}if(!m.fn){p={};p[l]=m;p.scope=this}else{p=m;if(p.scope===undefined){p.scope=this}}k.addListener(p)}}return n},getModel:function(){return Ext.ModelMgr.getModel(this.model)},closeView:function(d){var c=d.ownerCt;if(c){c.remove(d);c.doLayout();c.setActiveItem(c.items.last())}}});Ext.util.Dispatcher=Ext.extend(Ext.util.Observable,{constructor:function(b){this.addEvents("before-dispatch","dispatch");Ext.util.Dispatcher.superclass.constructor.call(this,b)},dispatch:function(j){var f=new Ext.Interaction(j),g=f.controller,h=f.action,i=Ext.History;if(this.fireEvent("before-dispatch",f)!==false){if(i&&j.historyUrl){i.suspendEvents(false);i.add(j.historyUrl);Ext.defer(i.resumeEvents,100,i)}if(g&&h){g[h].call(g,f);f.dispatched=true}this.fireEvent("dispatch",f)}},redirect:function(c){if(c instanceof Ext.data.Model){}else{if(typeof c=="string"){var d=Ext.Router.recognize(c);if(d){return this.dispatch(d)}}}return null},createRedirect:function(b){return function(){Ext.Dispatcher.redirect(b)}}});Ext.Dispatcher=new Ext.util.Dispatcher();Ext.dispatch=function(){return Ext.Dispatcher.dispatch.apply(Ext.Dispatcher,arguments)};Ext.redirect=function(){return Ext.Dispatcher.redirect.apply(Ext.Dispatcher,arguments)};Ext.createRedirect=Ext.Dispatcher.createRedirect;Ext.util.Router=Ext.extend(Ext.util.Observable,{constructor:function(b){b=b||{};Ext.apply(this,b,{defaults:{action:"index"}});this.routes=[];Ext.util.Router.superclass.constructor.call(this,b)},connect:function(d,f){f=Ext.apply({url:d},f||{},this.defaults);var e=new Ext.util.Route(f);this.routes.push(e);return e},recognize:function(j){var f=this.routes,h=f.length,i,g;for(i=0;i<h;i++){g=f[i].recognize(j);if(g!=undefined){return g}}return undefined},draw:function(b){b.call(this,this)}});Ext.Router=new Ext.util.Router();Ext.util.Route=Ext.extend(Object,{constructor:function(b){Ext.apply(this,b,{conditions:{}});this.paramMatchingRegex=new RegExp(/:([0-9A-Za-z\_]*)/g);this.paramsInMatchString=this.url.match(this.paramMatchingRegex)||[];this.matcherRegex=this.createMatcherRegex(this.url)},recognize:function(d){if(this.recognizes(d)){var c=this.matchesFor(d);return Ext.applyIf(c,{controller:this.controller,action:this.action,historyUrl:d})}},recognizes:function(b){return this.matcherRegex.test(b)},matchesFor:function(g){var i={},j=this.paramsInMatchString,h=g.match(this.matcherRegex),k=j.length,l;h.shift();for(l=0;l<k;l++){i[j[l].replace(":","")]=h[l]}return i},urlFor:function(b){},createMatcherRegex:function(h){var j=this.paramsInMatchString,k=j.length,g,l,i;for(g=0;g<k;g++){l=this.conditions[j[g]];i=Ext.util.Format.format("({0})",l||"[%a-zA-Z0-9\\_\\s,]+");h=h.replace(new RegExp(j[g]),i)}return new RegExp("^"+h+"$")}});Ext.Interaction=Ext.extend(Ext.util.Observable,{controller:"",action:"",dispatched:false,constructor:function(b){Ext.Interaction.superclass.constructor.apply(this,arguments);b=b||{};Ext.applyIf(b,{scope:this});Ext.apply(this,b);if(typeof this.controller=="string"){this.controller=Ext.ControllerManager.get(this.controller)}}});Ext.Application=Ext.extend(Ext.util.Observable,{scope:undefined,useHistory:true,autoUpdateComponentProfiles:true,setProfilesOnLaunch:true,constructor:function(c){this.addEvents("launch","beforeprofilechange","profilechange");Ext.Application.superclass.constructor.call(this,c);this.bindReady();var d=this.name;if(d){window[d]=this;Ext.ns(d,d+".views",d+".stores",d+".models",d+".controllers")}if(Ext.addMetaTags){Ext.addMetaTags(c)}},bindReady:function(){Ext.onReady(this.onReady,this)},launch:Ext.emptyFn,useLoadMask:false,loadMaskFadeDuration:1000,loadMaskRemoveDuration:1050,autoInitViewport:true,dispatch:function(b){return Ext.dispatch(b)},initLoadMask:function(){var l=this.useLoadMask,h="loading-mask",g=typeof l=="string"?l:h;if(l){if(g==h){Ext.getBody().createChild({id:h})}var j=Ext.get("loading-mask"),k=this.loadMaskFadeDuration,i=this.loadMaskRemoveDuration;Ext.defer(function(){j.addCls("fadeout");Ext.defer(function(){j.remove()},i)},k)}},onBeforeLaunch:function(){var g=Ext.History,h=g&&this.useHistory,e=this.determineProfile(true);if(h){this.historyForm=Ext.getBody().createChild({id:"history-form",cls:"x-hide-display",style:"display: none;",tag:"form",action:"#",children:[{tag:"div",children:[{tag:"input",id:g.fieldId,type:"hidden"},{tag:"iframe",id:g.iframeId}]}]});g.init();g.on("change",this.onHistoryChange,this);var f=g.getToken();if(this.launch.call(this.scope||this,e)!==false){Ext.redirect(f||this.defaultUrl||{controller:"application",action:"index"})}}else{this.launch.call(this.scope||this,e)}this.launched=true;this.fireEvent("launch",this);if(this.setProfilesOnLaunch){this.updateComponentProfiles(e)}},onReady:function(){if(this.useLoadMask){this.initLoadMask()}Ext.EventManager.onOrientationChange(this.determineProfile,this);if(this.autoInitViewport){Ext.Viewport.init(this.onBeforeLaunch,this)}else{this.onBeforeLaunch()}return this},determineProfile:function(e){var g=this.currentProfile,f=this.profiles,h;for(h in f){if(f[h]()===true){if(h!=g&&this.fireEvent("beforeprofilechange",h,g)!==false){if(this.autoUpdateComponentProfiles){this.updateComponentProfiles(h)}if(e!==true){this.fireEvent("profilechange",h,g)}}this.currentProfile=h;break}}return this.currentProfile},updateComponentProfiles:function(b){Ext.ComponentMgr.each(function(d,a){if(a.setProfile){a.setProfile(b)}})},getProfile:function(){return this.currentProfile},onHistoryChange:function(b){return Ext.redirect(b)}});Ext.ApplicationManager=new Ext.AbstractManager({register:function(f,d){if(Ext.isObject(f)){d=f}else{d.name=f}var e=new Ext.Application(d);this.all.add(e);this.currentApplication=e;return e}});Ext.regApplication=function(){return Ext.ApplicationManager.register.apply(Ext.ApplicationManager,arguments)};(function(){var f=Ext.Element=Ext.extend(Object,{defaultUnit:"px",constructor:function(h,c){var b=typeof h=="string"?document.getElementById(h):h,a;if(!b){return null}a=b.id;if(!c&&a&&Ext.cache[a]){return Ext.cache[a].el}this.dom=b;this.id=a||Ext.id(b);return this},set:function(a,i){var c=this.dom,j,b;for(j in a){if(a.hasOwnProperty(j)){b=a[j];if(j=="style"){this.applyStyles(b)}else{if(j=="cls"){c.className=b}else{if(i!==false){c.setAttribute(j,b)}else{c[j]=b}}}}}return this},is:function(a){return Ext.DomQuery.is(this.dom,a)},getValue:function(b){var a=this.dom.value;return b?parseInt(a,10):a},addListener:function(h,a,b,c){Ext.EventManager.on(this.dom,h,a,b||this,c);return this},removeListener:function(c,a,b){Ext.EventManager.un(this.dom,c,a,b);return this},removeAllListeners:function(){Ext.EventManager.removeAll(this.dom);return this},purgeAllListeners:function(){Ext.EventManager.purgeElement(this,true);return this},remove:function(){var b=this,a=b.dom;if(a){delete b.dom;Ext.removeNode(a)}},isAncestor:function(a){var b=this.dom;a=Ext.getDom(a);if(b&&a){return b.contains(a)}return false},isDescendent:function(a){return Ext.fly(a,"_internal").isAncestor(this)},contains:function(a){return !a?false:this.isAncestor(a)},getAttribute:function(c,b){var a=this.dom;return a.getAttributeNS(b,c)||a.getAttribute(b+":"+c)||a.getAttribute(c)||a[c]},setHTML:function(a){if(this.dom){this.dom.innerHTML=a}return this},getHTML:function(){return this.dom?this.dom.innerHTML:""},hide:function(){this.setVisible(false);return this},show:function(){this.setVisible(true);return this},setVisible:function(a,j){var i=this,b=i.dom,c=this.getVisibilityMode();switch(c){case f.VISIBILITY:this.removeCls(["x-hidden-display","x-hidden-offsets"]);this[a?"removeCls":"addCls"]("x-hidden-visibility");break;case f.DISPLAY:this.removeCls(["x-hidden-visibility","x-hidden-offsets"]);this[a?"removeCls":"addCls"]("x-hidden-display");break;case f.OFFSETS:this.removeCls(["x-hidden-visibility","x-hidden-display"]);this[a?"removeCls":"addCls"]("x-hidden-offsets");break}return i},getVisibilityMode:function(){var a=this.dom,b=f.data(a,"visibilityMode");if(b===undefined){f.data(a,"visibilityMode",b=f.DISPLAY)}return b},setDisplayMode:function(a){f.data(this.dom,"visibilityMode",a);return this}});var e=f.prototype;f.VISIBILITY=1;f.DISPLAY=2;f.OFFSETS=3;f.addMethods=function(a){Ext.apply(e,a)};e.on=e.addListener;e.un=e.removeListener;e.update=e.setHTML;f.get=function(j){var b,c,a;if(!j){return null}if(typeof j=="string"){if(!(c=document.getElementById(j))){return null}if(Ext.cache[j]&&Ext.cache[j].el){b=Ext.cache[j].el;b.dom=c}else{b=f.addToCache(new f(c))}return b}else{if(j.tagName){if(!(a=j.id)){a=Ext.id(j)}if(Ext.cache[a]&&Ext.cache[a].el){b=Ext.cache[a].el;b.dom=j}else{b=f.addToCache(new f(j))}return b}else{if(j instanceof f){if(j!=f.docEl){j.dom=document.getElementById(j.id)||j.dom}return j}else{if(j.isComposite){return j}else{if(Ext.isArray(j)){return f.select(j)}else{if(j==document){if(!f.docEl){var i=function(){};i.prototype=e;f.docEl=new i();f.docEl.dom=document;f.docEl.id=Ext.id(document)}return f.docEl}}}}}}return null};f.addToCache=function(b,a){a=a||b.id;Ext.cache[a]={el:b,data:{},events:{}};return b};f.data=function(c,h,b){c=f.get(c);if(!c){return null}var a=Ext.cache[c.id].data;if(arguments.length==2){return a[h]}else{return(a[h]=b)}};f.garbageCollect=function(){if(!Ext.enableGarbageCollector){clearInterval(f.collectorThreadId)}else{var a,b,c=Ext.cache;for(a in c){if(!c.hasOwnProperty(a)){continue}if(c[a].skipGarbageCollection){continue}b=c[a].el.dom;if(!b||!b.parentNode||(!b.offsetParent&&!document.getElementById(a))){if(Ext.enableListenerCollection){Ext.EventManager.removeAll(b)}delete c[a]}}}};f.Flyweight=function(a){this.dom=a};var d=function(){};d.prototype=e;f.Flyweight.prototype=new d;f.Flyweight.prototype.isFlyweight=true;f._flyweights={};f.fly=function(a,c){var b=null;c=c||"_global";a=Ext.getDom(a);if(a){(f._flyweights[c]=f._flyweights[c]||new f.Flyweight()).dom=a;b=f._flyweights[c]}return b};Ext.get=f.get;Ext.fly=f.fly})();Ext.applyIf(Ext.Element,{unitRe:/\d+(px|em|%|en|ex|pt|in|cm|mm|pc)$/i,camelRe:/(-[a-z])/gi,opacityRe:/alpha\(opacity=(.*)\)/i,propertyCache:{},defaultUnit:"px",borders:{l:"border-left-width",r:"border-right-width",t:"border-top-width",b:"border-bottom-width"},paddings:{l:"padding-left",r:"padding-right",t:"padding-top",b:"padding-bottom"},margins:{l:"margin-left",r:"margin-right",t:"margin-top",b:"margin-bottom"},addUnits:function(c,d){if(c===""||c=="auto"||c===null||c===undefined){c=c||""}else{if(!isNaN(c)||!this.unitRe.test(c)){c=c+(d||this.defaultUnit||"px")}}return c},parseBox:function(d){if(typeof d!="string"){d=d.toString()}var f=d.split(" "),e=f.length;if(e==1){f[1]=f[2]=f[3]=f[0]}else{if(e==2){f[2]=f[0];f[3]=f[1]}else{if(e==3){f[3]=f[1]}}}return{top:parseFloat(f[0])||0,right:parseFloat(f[1])||0,bottom:parseFloat(f[2])||0,left:parseFloat(f[3])||0}},unitizeBox:function(h,e){var f=this.addUnits,g=this.parseBox(h);return f(g.top,e)+" "+f(g.right,e)+" "+f(g.bottom,e)+" "+f(g.left,e)},camelReplaceFn:function(a,d){return d.charAt(1).toUpperCase()},normalize:function(b){return this.propertyCache[b]||(this.propertyCache[b]=b=="float"?"cssFloat":b.replace(this.camelRe,this.camelReplaceFn))},getDocumentHeight:function(){return Math.max(!Ext.isStrict?document.body.scrollHeight:document.documentElement.scrollHeight,this.getViewportHeight())},getDocumentWidth:function(){return Math.max(!Ext.isStrict?document.body.scrollWidth:document.documentElement.scrollWidth,this.getViewportWidth())},getViewportHeight:function(){return window.innerHeight},getViewportWidth:function(){return window.innerWidth},getViewSize:function(){return{width:window.innerWidth,height:window.innerHeight}},getOrientation:function(){if(Ext.supports.OrientationChange){return(window.orientation==0)?"portrait":"landscape"}return(window.innerHeight>window.innerWidth)?"portrait":"landscape"},fromPoint:function(d,c){return Ext.get(document.elementFromPoint(d,c))}});Ext.applyIf(Ext.Element,{getComputedTransformOffset:function(f){if(f instanceof Ext.Element){f=f.dom}var e=window.getComputedStyle(f).webkitTransform,d=e!="none"?new WebKitCSSMatrix(e):new WebKitCSSMatrix();if(typeof d.m41!="undefined"){return new Ext.util.Offset(d.m41,d.m42)}else{if(typeof d.d!="undefined"){return new Ext.util.Offset(d.d,d.e)}}return new Ext.util.Offset(0,0)},cssTransform:function(f,d){if(f instanceof Ext.Element){f=f.dom}var e=new WebKitCSSMatrix();Ext.iterate(d,function(a,b){b=Ext.isArray(b)?b:[b];e=e[a].apply(e,b)});if(Ext.supports.CSS3DTransform){f.style.webkitTransform="matrix3d("+e.m11+", "+e.m12+", "+e.m13+", "+e.m14+", "+e.m21+", "+e.m22+", "+e.m23+", "+e.m24+", "+e.m31+", "+e.m32+", "+e.m33+", "+e.m34+", "+e.m41+", "+e.m42+", "+e.m43+", "+e.m44+")"}else{f.style.webkitTransform=e}},cssTranslate:function(d,c){if(d instanceof Ext.Element){d=d.dom}if(Ext.supports.CSS3DTransform){d.style.webkitTransform="translate3d("+c.x+"px, "+c.y+"px, 0px)"}else{d.style.webkitTransform="translate("+c.x+"px, "+c.y+"px)"}}});Ext.Element.addMethods({getY:function(b){return this.getXY(b)[1]},getX:function(b){return this.getXY(b)[0]},getXY:function(){var b=window.webkitConvertPointFromNodeToPage(this.dom,new WebKitPoint(0,0));return[b.x,b.y]},getOffsetsTo:function(e){var f=this.getXY(),d=Ext.fly(e,"_internal").getXY();return[f[0]-d[0],f[1]-d[1]]},setXY:function(g){var e=this;if(arguments.length>1){g=[g,arguments[1]]}var h=e.translatePoints(g),f=e.dom.style;for(g in h){if(!h.hasOwnProperty(g)){continue}if(!isNaN(h[g])){f[g]=h[g]+"px"}}return e},setX:function(b){return this.setXY([b,this.getY()])},setY:function(b){return this.setXY([this.getX(),b])},setLeft:function(b){this.setStyle("left",Ext.Element.addUnits(b));return this},setTop:function(b){this.setStyle("top",Ext.Element.addUnits(b));return this},setTopLeft:function(f,d){var e=Ext.Element.addUnits;this.setStyle("top",e(f));this.setStyle("left",e(d));return this},setRight:function(b){this.setStyle("right",Ext.Element.addUnits(b));return this},setBottom:function(b){this.setStyle("bottom",Ext.Element.addUnits(b));return this},getLeft:function(b){return parseInt(this.getStyle("left"),10)||0},getRight:function(b){return parseInt(this.getStyle("right"),10)||0},getTop:function(b){return parseInt(this.getStyle("top"),10)||0},getBottom:function(b){return parseInt(this.getStyle("bottom"),10)||0},setBox:function(i,j,f,g){var h;if(Ext.isObject(i)){f=i.width;g=i.height;j=i.top;i=i.left}if(i!==h){this.setLeft(i)}if(j!==h){this.setTop(j)}if(f!==h){this.setWidth(f)}if(g!==h){this.setHeight(g)}return this},getBox:function(t,p){var s=this,v=s.dom,x=v.offsetWidth,o=v.offsetHeight,b,u,w,y,l,q;if(!p){b=s.getXY()}else{if(t){b=[0,0]}else{b=[parseInt(s.getStyle("left"),10)||0,parseInt(s.getStyle("top"),10)||0]}}if(!t){u={x:b[0],y:b[1],0:b[0],1:b[1],width:x,height:o}}else{w=s.getBorderWidth.call(s,"l")+s.getPadding.call(s,"l");y=s.getBorderWidth.call(s,"r")+s.getPadding.call(s,"r");l=s.getBorderWidth.call(s,"t")+s.getPadding.call(s,"t");q=s.getBorderWidth.call(s,"b")+s.getPadding.call(s,"b");u={x:b[0]+w,y:b[1]+l,0:b[0]+w,1:b[1]+l,width:x-(w+y),height:o-(l+q)}}u.left=u.x;u.top=u.y;u.right=u.x+u.width;u.bottom=u.y+u.height;return u},getPageBox:function(q){var o=this,t=o.dom,l=t.offsetWidth,p=t.offsetHeight,b=o.getXY(),h=b[1],u=b[0]+l,n=b[1]+p,s=b[0];if(!t){return new Ext.util.Region()}if(q){return new Ext.util.Region(h,u,n,s)}else{return{left:s,top:h,width:l,height:p,right:u,bottom:n}}},translatePoints:function(i,j){j=isNaN(i[1])?j:i[1];i=isNaN(i[0])?i:i[0];var m=this,l=m.isStyle("position","relative"),k=m.getXY(),h=parseInt(m.getStyle("left"),10),n=parseInt(m.getStyle("top"),10);h=!isNaN(h)?h:(l?0:m.dom.offsetLeft);n=!isNaN(n)?n:(l?0:m.dom.offsetTop);return{left:(i-k[0]+h),top:(j-k[1]+n)}}});(function(){Ext.Element.classReCache={};var c=Ext.Element,d=document.defaultView;c.addMethods({marginRightRe:/marginRight/i,trimRe:/^\s+|\s+$/g,spacesRe:/\s+/,addCls:function(b){var a=this,i,l,j,k=[];if(!Ext.isArray(b)){if(b&&!this.hasCls(b)){a.dom.className+=" "+b}}else{for(i=0,l=b.length;i<l;i++){j=b[i];if(j&&!a.hasCls(j)){k.push(j)}}if(k.length){a.dom.className+=" "+k.join(" ")}}return a},addClass:function(){throw new Error("Component: addClass has been deprecated. Please use addCls.")},removeCls:function(b){var a=this,i,m,n,k,l;if(!Ext.isArray(b)){b=[b]}if(a.dom&&a.dom.className){l=a.dom.className.replace(this.trimRe,"").split(this.spacesRe);for(i=0,n=b.length;i<n;i++){k=b[i];if(typeof k=="string"){k=k.replace(this.trimRe,"");m=l.indexOf(k);if(m!=-1){l.splice(m,1)}}}a.dom.className=l.join(" ")}return a},removeClass:function(){throw new Error("Component: removeClass has been deprecated. Please use removeCls.")},mask:function(q,o,l){var n=this,p=n.dom,s=Ext.Element.data(p,"mask"),a,b,m="";n.addCls("x-masked");if(n.getStyle("position")=="static"){n.addCls("x-masked-relative")}if(s){s.remove()}if(Ext.isString(o)&&!Ext.isEmpty(o)){m=" "+o}else{if(o){m=" x-mask-gray"}}a=n.createChild({cls:"x-mask"+((l!==false)?"":" x-mask-gray"),html:q?('<div class="'+(o||"x-mask-message")+'">'+q+"</div>"):""});b=n.getSize();Ext.Element.data(p,"mask",a);if(p===document.body){b.height=window.innerHeight;if(n.orientationHandler){Ext.EventManager.unOrientationChange(n.orientationHandler,n)}n.orientationHandler=function(){b=n.getSize();b.height=window.innerHeight;a.setSize(b)};Ext.EventManager.onOrientationChange(n.orientationHandler,n)}a.setSize(b);if(Ext.is.iPad){Ext.repaint()}},unmask:function(){var b=this,a=b.dom,f=Ext.Element.data(a,"mask");if(f){f.remove();Ext.Element.data(a,"mask",undefined)}b.removeCls(["x-masked","x-masked-relative"]);if(a===document.body){Ext.EventManager.unOrientationChange(b.orientationHandler,b);delete b.orientationHandler}},radioCls:function(b){var a=this.dom.parentNode.childNodes,i;b=Ext.isArray(b)?b:[b];for(var h=0,j=a.length;h<j;h++){i=a[h];if(i&&i.nodeType==1){Ext.fly(i,"_internal").removeCls(b)}}return this.addCls(b)},radioClass:function(){throw new Error("Component: radioClass has been deprecated. Please use radioCls.")},toggleCls:function(a){return this.hasCls(a)?this.removeCls(a):this.addCls(a)},toggleClass:function(){throw new Error("Component: toggleClass has been deprecated. Please use toggleCls.")},hasCls:function(a){return a&&(" "+this.dom.className+" ").indexOf(" "+a+" ")!=-1},hasClass:function(){throw new Error("Element: hasClass has been deprecated. Please use hasCls.");return this.hasCls.apply(this,arguments)},replaceCls:function(a,b){return this.removeCls(a).addCls(b)},replaceClass:function(){throw new Error("Component: replaceClass has been deprecated. Please use replaceCls.")},isStyle:function(b,a){return this.getStyle(b)==a},getStyle:function(a){var b=this.dom,m,j,k,n=Ext.is,l=b.style;a=c.normalize(a);k=(d)?d.getComputedStyle(b,""):b.currentStyle;m=(k)?k[a]:null;if(m&&!n.correctRightMargin&&this.marginRightRe.test(a)&&l.position!="absolute"&&m!="0px"){j=l.display;l.display="inline-block";m=d.getComputedStyle(b,null)[a];l.display=j}m||(m=l[a]);if(!n.correctTransparentColor&&m=="rgba(0, 0, 0, 0)"){m="transparent"}return m},setStyle:function(a,b){var h,g;if(typeof a=="string"){h={};h[a]=b;a=h}for(g in a){if(a.hasOwnProperty(g)){this.dom.style[c.normalize(g)]=a[g]}}return this},applyStyles:function(b){if(b){var g,h,a=this.dom;if(typeof b=="function"){b=b.call()}if(typeof b=="string"){b=Ext.util.Format.trim(b).split(/\s*(?::|;)\s*/);for(g=0,h=b.length;g<h;){a.style[c.normalize(b[g++])]=b[g++]}}else{if(typeof b=="object"){this.setStyle(b)}}}},getHeight:function(b){var a=this.dom,f=b?(a.clientHeight-this.getPadding("tb")):a.offsetHeight;return f>0?f:0},getWidth:function(f){var a=this.dom,b=f?(a.clientWidth-this.getPadding("lr")):a.offsetWidth;return b>0?b:0},setWidth:function(b){var a=this;a.dom.style.width=c.addUnits(b);return a},setHeight:function(b){var a=this;a.dom.style.height=c.addUnits(b);return a},setSize:function(b,h){var a=this,g=a.dom.style;if(Ext.isObject(b)){h=b.height;b=b.width}g.width=c.addUnits(b);g.height=c.addUnits(h);return a},getBorderWidth:function(a){return this.sumStyles(a,c.borders)},getPadding:function(a){return this.sumStyles(a,c.paddings)},getMargin:function(a){return this.sumStyles(a,c.margins)},getViewSize:function(){var b=document,a=this.dom;if(a==b||a==b.body){return{width:c.getViewportWidth(),height:c.getViewportHeight()}}else{return{width:a.clientWidth,height:a.clientHeight}}},getSize:function(a){var b=this.dom;return{width:Math.max(0,a?(b.clientWidth-this.getPadding("lr")):b.offsetWidth),height:Math.max(0,a?(b.clientHeight-this.getPadding("tb")):b.offsetHeight)}},repaint:function(){var a=this.dom;this.addCls("x-repaint");a.style.background="transparent none";setTimeout(function(){a.style.background=null;Ext.get(a).removeCls("x-repaint")},1);return this},getOuterWidth:function(){return this.getWidth()+this.getMargin("lr")},getOuterHeight:function(){return this.getHeight()+this.getMargin("tb")},sumStyles:function(b,i){var a=0,m=b.match(/\w/g),n=m.length,k,l;for(l=0;l<n;l++){k=m[l]&&parseFloat(this.getStyle(i[m[l]]))||0;if(k){a+=Math.abs(k)}}return a}})})();Ext.Element.addMethods({findParent:function(i,j,n){var l=this.dom,b=document.body,k=0,m;j=j||50;if(isNaN(j)){m=Ext.getDom(j);j=Number.MAX_VALUE}while(l&&l.nodeType==1&&k<j&&l!=b&&l!=m){if(Ext.DomQuery.is(l,i)){return n?Ext.get(l):l}k++;l=l.parentNode}return null},findParentNode:function(g,h,f){var e=Ext.fly(this.dom.parentNode,"_internal");return e?e.findParent(g,h,f):null},up:function(c,d){return this.findParentNode(c,d,true)},select:function(d,c){return Ext.Element.select(d,this.dom,c)},query:function(b){return Ext.DomQuery.select(b,this.dom)},down:function(e,d){var f=Ext.DomQuery.selectNode(e,this.dom);return d?f:Ext.get(f)},child:function(g,f){var i,j=this,h;h=Ext.get(j).id;h=h.replace(/[\.:]/g,"\\$0");i=Ext.DomQuery.selectNode("#"+h+" > "+g,j.dom);return f?i:Ext.get(i)},parent:function(d,c){return this.matchNode("parentNode","parentNode",d,c)},next:function(d,c){return this.matchNode("nextSibling","nextSibling",d,c)},prev:function(d,c){return this.matchNode("previousSibling","previousSibling",d,c)},first:function(d,c){return this.matchNode("nextSibling","firstChild",d,c)},last:function(d,c){return this.matchNode("previousSibling","lastChild",d,c)},matchNode:function(f,h,g,j){if(!this.dom){return null}var i=this.dom[h];while(i){if(i.nodeType==1&&(!g||Ext.DomQuery.is(i,g))){return !j?Ext.get(i):i}i=i[f]}return null}});Ext.Element.addMethods({getScrollParent:function(){var c=this.dom,d;while(c&&c!=document.body){if(c.id&&(d=Ext.ScrollManager.get(c.id))){return d}c=c.parentNode}return null}});Ext.Element.addMethods({appendChild:function(b){return Ext.get(b).appendTo(this)},appendTo:function(b){Ext.getDom(b).appendChild(this.dom);return this},insertBefore:function(b){b=Ext.getDom(b);b.parentNode.insertBefore(this.dom,b);return this},insertAfter:function(b){b=Ext.getDom(b);b.parentNode.insertBefore(this.dom,b.nextSibling);return this},insertFirst:function(c,d){c=c||{};if(c.nodeType||c.dom||typeof c=="string"){c=Ext.getDom(c);this.dom.insertBefore(c,this.dom.firstChild);return !d?Ext.get(c):c}else{return this.createChild(c,this.dom.firstChild,d)}},insertSibling:function(l,n,m){var k=this,h,i=(n||"before").toLowerCase()=="after",j;if(Ext.isArray(l)){j=k;Ext.each(l,function(a){h=Ext.fly(j,"_internal").insertSibling(a,n,m);if(i){j=h}});return h}l=l||{};if(l.nodeType||l.dom){h=k.dom.parentNode.insertBefore(Ext.getDom(l),i?k.dom.nextSibling:k.dom);if(!m){h=Ext.get(h)}}else{if(i&&!k.dom.nextSibling){h=Ext.DomHelper.append(k.dom.parentNode,l,!m)}else{h=Ext.DomHelper[i?"insertAfter":"insertBefore"](k.dom,l,!m)}}return h},replace:function(b){b=Ext.get(b);this.insertBefore(b);b.remove();return this},replaceWith:function(d){var c=this;if(d.nodeType||d.dom||typeof d=="string"){d=Ext.get(d);c.dom.parentNode.insertBefore(d,c.dom)}else{d=Ext.DomHelper.insertBefore(c.dom,d)}delete Ext.cache[c.id];Ext.removeNode(c.dom);c.id=Ext.id(c.dom=d);Ext.Element.addToCache(c.isFlyweight?new Ext.Element(c.dom):c);return c},createChild:function(d,e,f){d=d||{tag:"div"};if(e){return Ext.DomHelper.insertBefore(e,d,f!==true)}else{return Ext.DomHelper[!this.dom.firstChild?"overwrite":"append"](this.dom,d,f!==true)}},wrap:function(e,d){var f=Ext.DomHelper.insertBefore(this.dom,e||{tag:"div"},!d);f.dom?f.dom.appendChild(this.dom):f.appendChild(this.dom);return f},insertHtml:function(e,h,f){var g=Ext.DomHelper.insertHtml(e,this.dom,h);return f?Ext.get(g):g}});Ext.Element.addMethods({getAnchorXY:function(v,q,n){v=(v||"tl").toLowerCase();n=n||{};var s=this,A=s.dom==document.body||s.dom==document,z=n.width||A?window.innerWidth:s.getWidth(),p=n.height||A?window.innerHeight:s.getHeight(),o,y=Math.round,x=s.getXY(),t=A?0:!q?x[0]:0,u=A?0:!q?x[1]:0,w={c:[y(z*0.5),y(p*0.5)],t:[y(z*0.5),0],l:[0,y(p*0.5)],r:[z,y(p*0.5)],b:[y(z*0.5),p],tl:[0,0],bl:[0,p],br:[z,p],tr:[z,0]};o=w[v];return[o[0]+t,o[1]+u]},getAlignToXY:function(Q,y,N){Q=Ext.get(Q);if(!Q||!Q.dom){throw new Error("Element.alignToXY with an element that doesn't exist")}N=N||[0,0];if(!y||y=="?"){y="tl-bl?"}else{if(!(/-/).test(y)&&y!==""){y="tl-"+y}}y=y.toLowerCase();var B=this,R=y.match(/^([a-z]+)-([a-z]+)(\?)?$/),I=window.innerWidth,C=window.innerHeight,S="",U="",x,A,J,K,F,H,P,T,L,M,E,G,O,D;if(!R){throw"Element.alignTo with an invalid alignment "+y}S=R[1];U=R[2];D=!!R[3];x=B.getAnchorXY(S,true);A=Q.getAnchorXY(U,false);J=A[0]-x[0]+N[0];K=A[1]-x[1]+N[1];if(D){E=B.getWidth();G=B.getHeight();O=Q.getPageBox();T=S.charAt(0);P=S.charAt(S.length-1);M=U.charAt(0);L=U.charAt(U.length-1);H=((T=="t"&&M=="b")||(T=="b"&&M=="t"));F=((P=="r"&&L=="l")||(P=="l"&&L=="r"));if(J+E>I){J=F?O.left-E:I-E}if(J<0){J=F?O.right:0}if(K+G>C){K=H?O.top-G:C-G}if(K<0){K=H?O.bottom:0}}return[J,K]}});Ext.CompositeElement=function(c,d){this.elements=[];this.add(c,d);this.el=new Ext.Element.Flyweight()};Ext.CompositeElement.prototype={isComposite:true,getElement:function(d){var c=this.el;c.dom=d;c.id=d.id;return c},transformElement:function(b){return Ext.getDom(b)},getCount:function(){return this.elements.length},add:function(k,g){var j=this,i=j.elements;if(!k){return this}if(typeof k=="string"){k=Ext.Element.selectorFunction(k,g)}else{if(k.isComposite){k=k.elements}else{if(!Ext.isIterable(k)){k=[k]}}}for(var l=0,h=k.length;l<h;++l){i.push(j.transformElement(k[l]))}return j},invoke:function(l,e){var k=this,m=k.elements,i=m.length,j,n;for(n=0;n<i;n++){j=m[n];if(j){Ext.Element.prototype[l].apply(k.getElement(j),e)}}return k},item:function(e){var g=this,h=g.elements[e],f=null;if(h){f=g.getElement(h)}return f},addListener:function(e,l,m,n){var o=this.elements,i=o.length,p,k;for(p=0;p<i;p++){k=o[p];if(k){Ext.EventManager.on(k,e,l,m||k,n)}}return this},each:function(l,m){var k=this,n=k.elements,i=n.length,e,j;for(e=0;e<i;e++){j=n[e];if(j){j=this.getElement(j);if(l.call(m||j,j,k,e)){break}}}return k},fill:function(d){var c=this;c.elements=[];c.add(d);return c},filter:function(g){var f=[],i=this,h=i.elements,j=Ext.isFunction(g)?g:function(a){return a.is(g)};i.each(function(a,c,b){if(j(a,b)!==false){f[f.length]=i.transformElement(a)}});i.elements=f;return i},first:function(){return this.item(0)},last:function(){return this.item(this.getCount()-1)},contains:function(b){return this.indexOf(b)!=-1},indexOf:function(b){return this.elements.indexOf(this.transformElement(b))},clear:function(){this.elements=[]}};Ext.CompositeElement.prototype.on=Ext.CompositeElement.prototype.addListener;(function(){var f,d=Ext.Element.prototype,e=Ext.CompositeElement.prototype;for(f in d){if(Ext.isFunction(d[f])){(function(a){e[a]=e[a]||function(){return this.invoke(a,arguments)}}).call(e,f)}}})();if(Ext.DomQuery){Ext.Element.selectorFunction=Ext.DomQuery.select}Ext.Element.select=function(f,e,g){var h;g=(g===false)?false:true;if(typeof f=="string"){h=Ext.Element.selectorFunction(f,e)}else{if(f.length!==undefined){h=f}else{throw new Error("Invalid selector")}}return g?new Ext.CompositeElement(h):h};Ext.select=Ext.Element.select;Ext.CompositeElementLite=Ext.CompositeElement;Ext.apply(Ext.CompositeElementLite.prototype,{addElements:function(f,e){if(!f){return this}if(typeof f=="string"){f=Ext.Element.selectorFunction(f,e)}var d=this.elements;Ext.each(f,function(a){d.push(Ext.get(a))});return this},removeElement:function(i,h){var j=this,g=this.elements,f;Ext.each(i,function(a){if((f=(g[a]||g[a=j.indexOf(a)]))){if(h){if(f.dom){f.remove()}else{Ext.removeNode(f)}}g.splice(a,1)}});return this},replaceElement:function(i,j,g){var d=!isNaN(i)?i:this.indexOf(i),h;if(d>-1){j=Ext.getDom(j);if(g){h=this.elements[d];h.parentNode.insertBefore(j,h);Ext.removeNode(h)}this.elements.splice(d,1,j)}return this}});Ext.DomHelper={emptyTags:/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i,confRe:/tag|children|cn|html$/i,endRe:/end/i,markup:function(k){var o="",p,l,m,b,i;if(typeof k=="string"){o=k}else{if(Ext.isArray(k)){for(var n=0;n<k.length;n++){if(k[n]){o+=this.markup(k[n])}}}else{o+="<"+(k.tag=k.tag||"div");for(p in k){if(!k.hasOwnProperty(p)){continue}l=k[p];if(!this.confRe.test(p)){if(typeof l=="object"){o+=" "+p+'="';for(m in l){if(!l.hasOwnProperty(m)){continue}o+=m+":"+l[m]+";"}o+='"'}else{o+=" "+({cls:"class",htmlFor:"for"}[p]||p)+'="'+l+'"'}}}if(this.emptyTags.test(k.tag)){o+="/>"}else{o+=">";if((i=k.children||k.cn)){o+=this.markup(i)}else{if(k.html){o+=k.html}}o+="</"+k.tag+">"}}}return o},applyStyles:function(i,h){if(h){var f=0,g,j;i=Ext.fly(i);if(typeof h=="function"){h=h.call()}if(typeof h=="string"){h=Ext.util.Format.trim(h).split(/\s*(?::|;)\s*/);for(g=h.length;f<g;){i.setStyle(h[f++],h[f++])}}else{if(Ext.isObject(h)){i.setStyle(h)}}}},insertHtml:function(o,u,n){var p={},s,l,m,k,q,t;o=o.toLowerCase();p.beforebegin=["BeforeBegin","previousSibling"];p.afterend=["AfterEnd","nextSibling"];m=u.ownerDocument.createRange();l="setStart"+(this.endRe.test(o)?"After":"Before");if(p[o]){m[l](u);k=m.createContextualFragment(n);u.parentNode.insertBefore(k,o=="beforebegin"?u:u.nextSibling);return u[(o=="beforebegin"?"previous":"next")+"Sibling"]}else{q=(o=="afterbegin"?"first":"last")+"Child";if(u.firstChild){m[l](u[q]);k=m.createContextualFragment(n);if(o=="afterbegin"){u.insertBefore(k,u.firstChild)}else{u.appendChild(k)}}else{u.innerHTML=n}return u[q]}throw'Illegal insertion point -> "'+o+'"'},insertBefore:function(e,f,d){return this.doInsert(e,f,d,"beforebegin")},insertAfter:function(e,f,d){return this.doInsert(e,f,d,"afterend","nextSibling")},insertFirst:function(e,f,d){return this.doInsert(e,f,d,"afterbegin","firstChild")},append:function(e,f,d){return this.doInsert(e,f,d,"beforeend","",true)},overwrite:function(e,f,d){e=Ext.getDom(e);e.innerHTML=this.markup(f);return d?Ext.get(e.firstChild):e.firstChild},doInsert:function(m,k,l,j,n,i){var h=this.insertHtml(j,Ext.getDom(m),this.markup(k));return l?Ext.get(h,true):h}};Ext.DomQuery={select:function(k,i){var l=[],o,m,n,p,j;i=i||document;if(typeof i=="string"){i=document.getElementById(i)}k=k.split(",");for(m=0,p=k.length;m<p;m++){if(typeof k[m]=="string"){o=i.querySelectorAll(k[m]);for(n=0,j=o.length;n<j;n++){l.push(o[n])}}}return l},selectNode:function(c,d){return Ext.DomQuery.select(c,d)[0]},is:function(d,c){if(typeof d=="string"){d=document.getElementById(d)}return Ext.DomQuery.select(c).indexOf(d)!==-1}};Ext.Element.selectorFunction=Ext.DomQuery.select;Ext.query=Ext.DomQuery.select;Ext.Anim=Ext.extend(Object,{isAnim:true,disableAnimations:false,defaultConfig:{from:{},to:{},duration:250,delay:0,easing:"ease-in-out",autoClear:true,out:true,direction:null,reverse:false},opposites:{left:"right",right:"left",up:"down",down:"up"},constructor:function(b){b=Ext.apply({},b||{},this.defaultConfig);this.config=b;Ext.Anim.superclass.constructor.call(this);this.running=[]},initConfig:function(j,f){var h=this,i={},g=Ext.apply({},f||{},h.config);g.el=j=Ext.get(j);if(g.reverse&&h.opposites[g.direction]){g.direction=h.opposites[g.direction]}if(h.config.before){h.config.before.call(g,j,g)}if(f.before){f.before.call(g.scope||g,j,g)}return g},run:function(l,h){l=Ext.get(l);h=h||{};var k=this,g=l.dom.style,j,i=h.after;h=this.initConfig(l,h);if(this.disableAnimations){for(j in h.to){if(!h.to.hasOwnProperty(j)){continue}g[j]=h.to[j]}this.onTransitionEnd(null,l,{config:h,after:i});return k}l.un("webkitTransitionEnd",k.onTransitionEnd,k);g.webkitTransitionDuration="0ms";for(j in h.from){if(!h.from.hasOwnProperty(j)){continue}g[j]=h.from[j]}setTimeout(function(){if(!l.dom){return}if(h.is3d===true){l.parent().setStyle({"-webkit-perspective":"1200","-webkit-transform-style":"preserve-3d"})}g.webkitTransitionDuration=h.duration+"ms";g.webkitTransitionProperty="all";g.webkitTransitionTimingFunction=h.easing;l.on("webkitTransitionEnd",k.onTransitionEnd,k,{single:true,config:h,after:i});for(j in h.to){if(!h.to.hasOwnProperty(j)){continue}g[j]=h.to[j]}},h.delay||5);k.running[l.id]=h;return k},onTransitionEnd:function(l,n,j){n=Ext.get(n);var h=n.dom.style,i=j.config,k,m=this;if(i.autoClear){for(k in i.to){if(!i.to.hasOwnProperty(k)){continue}h[k]=""}}h.webkitTransitionDuration=null;h.webkitTransitionProperty=null;h.webkitTransitionTimingFunction=null;if(i.is3d){n.parent().setStyle({"-webkit-perspective":"","-webkit-transform-style":""})}if(m.config.after){m.config.after.call(i,n,i)}if(j.after){j.after.call(i.scope||m,n,i)}delete m.running[n.id]}});Ext.Anim.seed=1000;Ext.Anim.run=function(d,f,e){if(d.isComponent){d=d.el}e=e||{};if(f.isAnim){f.run(d,e)}else{if(Ext.isObject(f)){if(e.before&&f.before){e.before=Ext.createInterceptor(e.before,f.before,f.scope)}if(e.after&&f.after){e.after=Ext.createInterceptor(e.after,f.after,f.scope)}e=Ext.apply({},e,f);f=f.type}if(!Ext.anims[f]){throw f+" is not a valid animation type."}else{if(d&&d.dom){Ext.anims[f].run(d,e)}}}};Ext.anims={fade:new Ext.Anim({before:function(f){var j=1,g=1,h=f.getStyle("z-index")=="auto"?0:f.getStyle("z-index"),i=h;if(this.out){g=0}else{i=h+1;j=0}this.from={opacity:j,"z-index":i};this.to={opacity:g,"z-index":i}}}),slide:new Ext.Anim({direction:"left",cover:false,reveal:false,before:function(q){var s=q.getStyle("z-index")=="auto"?0:q.getStyle("z-index"),n=s+1,k=0,m=0,j=0,l=0,p=q.getHeight(),o=q.getWidth();if(this.direction=="left"||this.direction=="right"){if(this.out==true){k=-o}else{j=o}}else{if(this.direction=="up"||this.direction=="down"){if(this.out==true){m=-p}else{l=p}}}if(this.direction=="right"||this.direction=="down"){m*=-1;k*=-1;l*=-1;j*=-1}if(this.cover&&this.out){k=0;m=0;n=s}else{if(this.reveal&&!this.out){j=0;l=0;n=s}}this.from={"-webkit-transform":"translate3d("+j+"px, "+l+"px, 0)","z-index":n,opacity:0.99};this.to={"-webkit-transform":"translate3d("+k+"px, "+m+"px, 0)","z-index":n,opacity:1}}}),pop:new Ext.Anim({scaleOnExit:true,before:function(o){var i=1,p=1,l=1,j=1,k=o.getStyle("z-index")=="auto"?0:o.getStyle("z-index"),m=k,n=k;if(!this.out){i=0.01;m=k+1;n=k+1;l=0}else{if(this.scaleOnExit){p=0.01;j=0}else{j=0.8}}this.from={"-webkit-transform":"scale("+i+")","-webkit-transform-origin":"50% 50%",opacity:l,"z-index":m};this.to={"-webkit-transform":"scale("+p+")","-webkit-transform-origin":"50% 50%",opacity:j,"z-index":n}}})};Ext.apply(Ext.anims,{flip:new Ext.Anim({is3d:true,direction:"left",before:function(l){var i="Y",h=1,g=1,j=0,k=0;if(this.out){k=-180;g=0.8}else{j=180;h=0.8}if(this.direction=="up"||this.direction=="down"){i="X"}if(this.direction=="right"||this.direction=="left"){k*=-1;j*=-1}this.from={"-webkit-transform":"rotate"+i+"("+j+"deg) scale("+h+")","-webkit-backface-visibility":"hidden"};this.to={"-webkit-transform":"rotate"+i+"("+k+"deg) scale("+g+")","-webkit-backface-visibility":"hidden"}}}),cube:new Ext.Anim({is3d:true,direction:"left",style:"outer",before:function(D){var q="0% 0%",p=0,E=0,u="Y",x=0,w=0,t=1,A=1,y,z=D.getWidth(),B=D.getHeight(),s=true,C=" translateX(0)",v="";if(this.direction=="left"||this.direction=="right"){if(this.out){q="100% 100%";w=z;A=0.5;E=-90}else{q="0% 0%";x=z;t=0.5;p=90}}else{if(this.direction=="up"||this.direction=="down"){u="X";if(this.out){q="100% 100%";w=B;E=90}else{q="0% 0%";x=B;p=-90}}}if(this.direction=="down"||this.direction=="right"){p*=-1;E*=-1;q=(q=="0% 0%")?"100% 100%":"0% 0%"}if(this.style=="inner"){x*=-1;w*=-1;p*=-1;E*=-1;if(!this.out){v=" translateX(0px)";q="0% 50%"}else{v=C;q="100% 50%"}}this.from={"-webkit-transform":"rotate"+u+"("+p+"deg)"+(s?" translateZ("+x+"px)":"")+C,"-webkit-transform-origin":q};this.to={"-webkit-transform":"rotate"+u+"("+E+"deg) translateZ("+w+"px)"+v,"-webkit-transform-origin":q}},duration:250}),wipe:new Ext.Anim({before:function(i){var h=i.getStyle("z-index"),g="",f="100%",j="100%";if(!this.out){zIndex=h+1;g="-webkit-gradient(linear, left bottom, right bottom, from(transparent), to(#000), color-stop(66%, #000), color-stop(33%, transparent))";f=i.getHeight()*100+"px";j=i.getHeight();this.from={"-webkit-mask-image":g,"-webkit-mask-size":i.getWidth()*3+"px "+i.getHeight()+"px","z-index":zIndex,"-webkit-mask-position-x":0};this.to={"-webkit-mask-image":g,"-webkit-mask-size":i.getWidth()*3+"px "+i.getHeight()+"px","z-index":zIndex,"-webkit-mask-position-x":-i.getWidth()*2+"px"}}},duration:500})});Ext.apply(Ext,{version:"1.0.1",versionDetail:{major:1,minor:0,patch:1},setup:function(d){if(d&&typeof d=="object"){if(d.addMetaTags!==false){this.addMetaTags(d)}if(Ext.isFunction(d.onReady)){var c=this;Ext.onReady(function(){var a=arguments;if(d.fullscreen!==false){Ext.Viewport.init(function(){d.onReady.apply(c,a)})}else{d.onReady.apply(this,a)}},d.scope)}}},getDom:function(b){if(!b||!document){return null}return b.dom?b.dom:(typeof b=="string"?document.getElementById(b):b)},removeNode:function(b){if(b&&b.parentNode&&b.tagName!="BODY"){Ext.EventManager.removeAll(b);b.parentNode.removeChild(b);delete Ext.cache[b.id]}},addMetaTags:function(e){if(!Ext.isObject(e)){return}var h=Ext.get(document.getElementsByTagName("head")[0]),f,g;if(!Ext.is.Desktop){f=Ext.get(document.createElement("meta"));f.set({name:"viewport",content:"width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0;"});h.appendChild(f)}if(Ext.is.iOS){if(e.fullscreen!==false){f=Ext.get(document.createElement("meta"));f.set({name:"apple-mobile-web-app-capable",content:"yes"});h.appendChild(f);if(Ext.isString(e.statusBarStyle)){f=Ext.get(document.createElement("meta"));f.set({name:"apple-mobile-web-app-status-bar-style",content:e.statusBarStyle});h.appendChild(f)}}if(e.tabletStartupScreen&&Ext.is.iPad){f=Ext.get(document.createElement("link"));f.set({rel:"apple-touch-startup-image",href:e.tabletStartupScreen});h.appendChild(f)}if(e.phoneStartupScreen&&!Ext.is.iPad){f=Ext.get(document.createElement("link"));f.set({rel:"apple-touch-startup-image",href:e.phoneStartupScreen});h.appendChild(f)}if(e.icon){e.phoneIcon=e.tabletIcon=e.icon}g=(e.glossOnIcon===false)?"-precomposed":"";if(Ext.is.iPad&&Ext.isString(e.tabletIcon)){f=Ext.get(document.createElement("link"));f.set({rel:"apple-touch-icon"+g,href:e.tabletIcon});h.appendChild(f)}else{if(!Ext.is.iPad&&Ext.isString(e.phoneIcon)){f=Ext.get(document.createElement("link"));f.set({rel:"apple-touch-icon"+g,href:e.phoneIcon});h.appendChild(f)}}}}});(function(){var b=function(){var f=Ext.getBody(),a=[];if(!f){return false}var e=Ext.is;if(e.Phone){a.push("x-phone")}else{if(e.Tablet){a.push("x-tablet")}else{if(e.Desktop){a.push("x-desktop")}}}if(e.iPad){a.push("x-ipad")}if(e.iOS){a.push("x-ios")}if(e.Android){a.push("x-android")}if(e.Blackberry){a.push("x-bb")}if(e.Standalone){a.push("x-standalone")}if(a.length){f.addCls(a)}return true};if(!b()){Ext.onReady(b)}})();Ext.Viewport=new (Ext.extend(Ext.util.Observable,{constructor:function(){var b=this;this.addEvents("orientationchange","resize");this.stretchSizes={};if(Ext.supports.OrientationChange){window.addEventListener("orientationchange",Ext.createDelegate(b.onOrientationChange,b),false)}else{window.addEventListener("resize",Ext.createDelegate(b.onResize,b),false)}if(!Ext.desktop){document.addEventListener("touchstart",Ext.createDelegate(b.onTouchStartCapturing,b),true)}},init:function(j,f){var i=this,h=Math.max(window.innerHeight,window.innerWidth)*2,g=Ext.getBody();i.updateOrientation();this.initialHeight=window.innerHeight;this.initialOrientation=this.orientation;g.setHeight(h);Ext.gesture.Manager.freeze();this.scrollToTop();setTimeout(function(){i.scrollToTop();setTimeout(function(){i.scrollToTop();i.initialHeight=Math.max(i.initialHeight,window.innerHeight);if(j){j.apply(f||window)}i.updateBodySize();Ext.gesture.Manager.thaw()},500)},500)},scrollToTop:function(){if(Ext.is.iOS){document.body.scrollTop=document.body.scrollHeight}else{window.scrollTo(0,1)}},updateBodySize:function(){Ext.getBody().setSize(window.innerWidth,window.innerHeight)},updateOrientation:function(){this.lastSize=this.getSize();this.orientation=this.getOrientation()},onTouchStartCapturing:function(b){if(!Ext.currentlyFocusedField&&Ext.is.iOS){this.scrollToTop()}},onOrientationChange:function(){var c=this,d=Ext.getBody();Ext.gesture.Manager.freeze();d.setHeight(d.getWidth());this.updateOrientation();this.fireEvent("orientationchange",this,this.orientation);setTimeout(function(){c.scrollToTop();setTimeout(function(){c.updateBodySize();c.fireResizeEvent();Ext.gesture.Manager.thaw()},200)},200)},fireResizeEvent:function(){var b=this;if(!Ext.is.iOS){if(this.resizeEventTimer){clearTimeout(this.resizeEventTimer)}this.resizeEventTimer=setTimeout(function(){b.fireEvent("resize",b,b.getSize())},500)}else{b.fireEvent("resize",b,b.getSize())}},onResize:function(){if(this.orientation!=this.getOrientation()){this.onOrientationChange()}else{var b=this.getSize();if(!Ext.is.iOS&&!Ext.is.Desktop){if((b.width==this.lastSize.width&&b.height>this.lastSize.height)||(b.height==this.lastSize.height&&b.width>this.lastSize.width)){this.fireEvent("resize",this,b)}}else{this.fireEvent("resize",this,b)}}},getSize:function(){var b={width:window.innerWidth,height:window.innerHeight};if(!Ext.is.Desktop){b.height=(this.orientation==this.initialOrientation)?Math.max(this.initialHeight,b.height):b.height}return b},getOffset:function(){return{x:window.pageXOffset,y:window.pageYOffset}},getOrientation:function(){var b=this.getSize();if(window.hasOwnProperty("orientation")){return(window.orientation==0||window.orientation==180)?"portrait":"landscape"}else{if(!Ext.is.iOS&&!Ext.is.Desktop){if((b.width==this.lastSize.width&&b.height<this.lastSize.height)||(b.height==this.lastSize.height&&b.width<this.lastSize.width)){return this.orientation}}return(window.innerHeight>window.innerWidth)?"portrait":"landscape"}}}));Ext.util.TapRepeater=Ext.extend(Ext.util.Observable,{constructor:function(c,d){this.el=Ext.get(c);Ext.apply(this,d);this.addEvents("touchstart","tap","touchend");this.el.on({touchstart:this.onTouchStart,touchend:this.onTouchEnd,scope:this});if(this.preventDefault||this.stopDefault){this.el.on("tap",this.eventOptions,this)}Ext.util.TapRepeater.superclass.constructor.call(this)},interval:10,delay:250,preventDefault:true,stopDefault:false,timer:0,eventOptions:function(b){if(this.preventDefault){b.preventDefault()}if(this.stopDefault){b.stopEvent()}},destroy:function(){Ext.destroy(this.el);this.clearListeners()},onTouchStart:function(b){clearTimeout(this.timer);if(this.pressClass){this.el.addCls(this.pressClass)}this.tapStartTime=new Date();this.fireEvent("touchstart",this,b);this.fireEvent("tap",this,b);if(this.accelerate){this.delay=400}this.timer=Ext.defer(this.tap,this.delay||this.interval,this,[b])},tap:function(b){this.fireEvent("tap",this,b);this.timer=Ext.defer(this.tap,this.accelerate?this.easeOutExpo(Ext.util.Date.getElapsed(this.tapStartTime),400,-390,12000):this.interval,this,[b])},easeOutExpo:function(h,b,c,d){return(h==d)?b+c:c*(-Math.pow(2,-10*h/d)+1)+b},onTouchEnd:function(b){clearTimeout(this.timer);this.el.removeCls(this.pressClass);this.fireEvent("touchend",this,b)}});if(!this.JSON){this.JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){k=rep[i];if(typeof k==="string"){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}return v}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());Ext.util.JSON={encode:function(b){return JSON.stringify(b)},decode:function(b){return JSON.parse(b)}};Ext.encode=Ext.util.JSON.encode;Ext.decode=Ext.util.JSON.decode;Ext.util.JSONP={queue:[],current:null,request:function(g){g=g||{};if(!g.url){return}var e=this;g.params=g.params||{};if(g.callbackKey){g.params[g.callbackKey]="Ext.util.JSONP.callback"}var h=Ext.urlEncode(g.params);var f=document.createElement("script");f.type="text/javascript";this.queue.push({url:g.url,script:f,callback:g.callback||function(){},scope:g.scope||window,params:h||null});if(!this.current){this.next()}},next:function(){this.current=null;if(this.queue.length){this.current=this.queue.shift();this.current.script.src=this.current.url+(this.current.params?("?"+this.current.params):"");document.getElementsByTagName("head")[0].appendChild(this.current.script)}},callback:function(b){this.current.callback.call(this.current.scope,b);document.getElementsByTagName("head")[0].removeChild(this.current.script);this.next()}};Ext.util.Draggable=Ext.extend(Ext.util.Observable,{baseCls:"x-draggable",draggingCls:"x-dragging",proxyCls:"x-draggable-proxy",outOfBoundRestrictFactor:1,direction:"both",constrain:window,threshold:0,delay:0,cancelSelector:null,disabled:false,revert:false,group:"base",useCssTransform:true,grid:null,snap:null,proxy:null,stack:false,animationDuration:300,updateBoundaryOnTouchStart:true,offsetBoundary:null,dragging:false,vertical:false,horizontal:false,monitorOrientation:true,constructor:function(c,d){this.el=Ext.get(c);this.id=c.id;d=d||{};Ext.apply(this,d);this.addEvents("offsetchange");Ext.util.Draggable.superclass.constructor.call(this,d);if(this.eventTarget==="parent"){this.eventTarget=this.el.parent()}else{this.eventTarget=(this.eventTarget)?Ext.get(this.eventTarget):this.el}if(this.direction=="both"){this.horizontal=true;this.vertical=true}else{if(this.direction=="horizontal"){this.horizontal=true}else{this.vertical=true}}this.el.addCls(this.baseCls);if(this.proxy){this.getProxyEl().addCls(this.proxyCls)}this.startEventName=(this.delay>0)?"taphold":"dragstart";this.dragOptions=(this.delay>0)?{holdThreshold:this.delay}:{direction:this.direction,dragThreshold:this.threshold};this.container=window;if(this.constrain){if(this.constrain==="parent"){this.container=this.el.parent()}else{if(this.constrain!==window){this.container=Ext.get(this.constrain)}}}this.offset=new Ext.util.Offset();this.linearAnimation={x:new Ext.util.Draggable.Animation.Linear(),y:new Ext.util.Draggable.Animation.Linear()};this.updateBoundary(true);this.setDragging(false);if(!this.disabled){this.enable()}return this},enable:function(){return this.setEnabled(true)},disable:function(){return this.setEnabled(false)},setEnabled:function(b){this.eventTarget[b?"on":"un"](this.startEventName,this.onStart,this,this.dragOptions);this.eventTarget[b?"on":"un"]("drag",this.onDrag,this,this.dragOptions);this.eventTarget[b?"on":"un"]("dragend",this.onDragEnd,this,this.dragOptions);this.eventTarget[b?"on":"un"]("touchstart",this.onTouchStart,this);if(b){Ext.EventManager.onOrientationChange(this.onOrientationChange,this)}else{Ext.EventManager.orientationEvent.removeListener(this.onOrientationChange,this)}this.disabled=!b;return this},setUseCssTransform:function(d){if(typeof d=="undefined"){d=true}if(d!=this.useCssTransform){this.useCssTransform=d;var c=new Ext.util.Offset();if(d==false){this.setStyleOffset(this.offset);this.setTransformOffset(c,true)}else{this.setTransformOffset(this.offset);this.setStyleOffset(c)}}return this},setOffset:function(c,d){if(!this.horizontal){c.x=0}if(!this.vertical){c.y=0}if(!(c instanceof Ext.util.Offset)){c=Ext.util.Offset.fromObject(c)}c.round();if(!this.offset.equals(c)){if(d){this.startAnimation(c,d)}else{this.offset=c;this.region=new Ext.util.Region(this.initialRegion.top+c.y,this.initialRegion.right+c.x,this.initialRegion.bottom+c.y,this.initialRegion.left+c.x);if(this.useCssTransform){this.setTransformOffset(c)}else{this.setStyleOffset(c)}this.fireEvent("offsetchange",this,this.offset)}}return this},setTransformOffset:function(c,d){if(d){this.getProxyEl().dom.style.webkitTransform=""}else{Ext.Element.cssTranslate(this.getProxyEl(),c)}return this},setStyleOffset:function(b){this.getProxyEl().setLeft(b.x);this.getProxyEl().setTop(b.y);return this},startAnimation:function(f,e){this.stopAnimation();var d=Date.now();e=Ext.isNumber(e)?e:this.animationDuration;this.linearAnimation.x.set({startOffset:this.offset.x,endOffset:f.x,startTime:d,duration:e});this.linearAnimation.y.set({startOffset:this.offset.y,endOffset:f.y,startTime:d,duration:e});this.isAnimating=true;this.animationTimer=Ext.defer(this.handleAnimationFrame,0,this);return this},stopAnimation:function(){if(this.isAnimating){clearTimeout(this.animationTimer);this.isAnimating=false;this.setDragging(false)}return this},handleAnimationFrame:function(){if(!this.isAnimating){return}var b=new Ext.util.Offset();b.x=this.linearAnimation.x.getOffset();b.y=this.linearAnimation.y.getOffset();this.setOffset(b);this.animationTimer=Ext.defer(this.handleAnimationFrame,10,this);if((b.x===this.linearAnimation.x.endOffset)&&(b.y===this.linearAnimation.y.endOffset)){this.stopAnimation()}},getOffset:function(){var b=this.offset.copy();b.y=-b.y;b.x=-b.x;return b},updateBoundary:function(m){var k;if(typeof m=="undefined"){m=false}this.size={width:this.el.dom.scrollWidth,height:this.el.dom.scrollHeight};if(this.container===window){this.containerBox={left:0,top:0,right:this.container.innerWidth,bottom:this.container.innerHeight,width:this.container.innerWidth,height:this.container.innerHeight}}else{this.containerBox=this.container.getPageBox()}var j=this.el.getXY();this.elBox={left:j[0]-this.offset.x,top:j[1]-this.offset.y,width:this.size.width,height:this.size.height};this.elBox.bottom=this.elBox.top+this.elBox.height;this.elBox.right=this.elBox.left+this.elBox.width;this.initialRegion=this.region=new Ext.util.Region(j[1],j[0]+this.elBox.width,j[1]+this.elBox.height,j[0]);var n=0,p=0,i=0,o=0;if(this.elBox.left<this.containerBox.left){p+=this.containerBox.left-this.elBox.left}else{o-=this.elBox.left-this.containerBox.left}if(this.elBox.right>this.containerBox.right){o-=this.elBox.right-this.containerBox.right}else{p+=this.containerBox.right-this.elBox.right}if(this.elBox.top<this.containerBox.top){i+=this.containerBox.top-this.elBox.top}else{n-=this.elBox.top-this.containerBox.top}if(this.elBox.bottom>this.containerBox.bottom){n-=this.elBox.bottom-this.containerBox.bottom}else{i+=this.containerBox.bottom-this.elBox.bottom}k=new Ext.util.Region(n,p,i,o).round();if(this.offsetBoundary&&this.offsetBoundary.equals(k)){return this}this.offsetBoundary=k;var l;if(this.useCssTransform){l=Ext.Element.getComputedTransformOffset(this.getProxyEl())}else{l=new Ext.util.Offset(this.getProxyEl().getLeft(),this.getProxyEl().getTop())}if(!this.offset.equals(l)||m){this.setOffset(l)}return this},onTouchStart:function(){},onStart:function(b){if(this.updateBoundaryOnTouchStart){this.updateBoundary()}this.stopAnimation();if(this.dragging){this.onDragEnd(b)}this.setDragging(true);this.startTouchPoint=new Ext.util.Point(b.startX,b.startY);this.startOffset=this.offset.copy();this.fireEvent("dragstart",this,b);return true},getNewOffsetFromTouchPoint:function(f){var h=f.x-this.startTouchPoint.x,e=f.y-this.startTouchPoint.y,g=this.offset.copy();if(h==0&&e==0){return g}if(this.horizontal){g.x=this.startOffset.x+h}if(this.vertical){g.y=this.startOffset.y+e}return g},onDrag:function(d){if(!this.dragging){return}this.lastTouchPoint=Ext.util.Point.fromEvent(d);var c=this.getNewOffsetFromTouchPoint(this.lastTouchPoint);if(this.offsetBoundary!=null){c=this.offsetBoundary.restrict(c,this.outOfBoundRestrictFactor)}this.setOffset(c);this.fireEvent("drag",this,d);return true},onDragEnd:function(b){if(this.dragging){this.fireEvent("beforedragend",this,b);if(this.revert&&!this.cancelRevert){this.setOffset(this.startOffset,true)}else{this.setDragging(false)}this.fireEvent("dragend",this,b)}return true},onOrientationChange:function(){this.updateBoundary()},setDragging:function(b){if(b){if(!this.dragging){this.dragging=true;this.getProxyEl().addCls(this.draggingCls)}}else{if(this.dragging){this.dragging=false;this.getProxyEl().removeCls(this.draggingCls)}}return this},getProxyEl:function(){return this.proxy||this.el},destroy:function(){this.el.removeCls(this.baseCls);this.getProxyEl().removeCls(this.proxyCls);this.clearListeners();this.disable()},reset:function(){this.startOffset=new Ext.util.Offset(0,0);this.setOffset(this.startOffset);var b=this.initialRegion.copy();this.updateBoundary();this.initialRegion=this.region=this.getProxyEl().getPageBox(true);this.startTouchPoint.x+=this.initialRegion.left-b.left;this.startTouchPoint.y+=this.initialRegion.top-b.top},moveTo:function(d,c){this.setOffset(new Ext.util.Offset(d-this.initialRegion.left,c-this.initialRegion.top));return this},isDragging:function(){return this.dragging},isVertical:function(){return this.vertical},isHorizontal:function(){return this.horizontal}});Ext.util.Draggable.Animation={};Ext.util.Draggable.Animation.Abstract=Ext.extend(Object,{startTime:null,startOffset:0,constructor:function(b){b=b||{};this.set(b);if(!this.startTime){this.startTime=Date.now()}},set:function(d,c){if(Ext.isObject(d)){Ext.apply(this,d)}else{this[d]=c}return this},getOffset:Ext.emptyFn});Ext.util.Draggable.Animation.Linear=Ext.extend(Ext.util.Draggable.Animation.Abstract,{duration:0,endOffset:0,getOffset:function(){var f=this.endOffset-this.startOffset,e=Date.now()-this.startTime,d=Math.min(1,(e/this.duration));return this.startOffset+(d*f)}});Ext.util.Droppable=Ext.extend(Ext.util.Observable,{baseCls:"x-droppable",activeCls:"x-drop-active",invalidCls:"x-drop-invalid",hoverCls:"x-drop-hover",validDropMode:"intersect",disabled:false,group:"base",tolerance:null,monitoring:false,constructor:function(c,d){d=d||{};Ext.apply(this,d);this.addEvents("dropactivate","dropdeactivate","dropenter","dropleave","drop");this.el=Ext.get(c);Ext.util.Droppable.superclass.constructor.call(this);if(!this.disabled){this.enable()}this.el.addCls(this.baseCls)},onDragStart:function(d,c){if(d.group===this.group){this.monitoring=true;this.el.addCls(this.activeCls);this.region=this.el.getPageBox(true);d.on({drag:this.onDrag,beforedragend:this.onBeforeDragEnd,dragend:this.onDragEnd,scope:this});if(this.isDragOver(d)){this.setCanDrop(true,d,c)}this.fireEvent("dropactivate",this,d,c)}else{d.on({dragend:function(){this.el.removeCls(this.invalidCls)},scope:this,single:true});this.el.addCls(this.invalidCls)}},isDragOver:function(d,c){return this.region[this.validDropMode](d.region)},onDrag:function(d,c){this.setCanDrop(this.isDragOver(d),d,c)},setCanDrop:function(f,e,d){if(f&&!this.canDrop){this.canDrop=true;this.el.addCls(this.hoverCls);this.fireEvent("dropenter",this,e,d)}else{if(!f&&this.canDrop){this.canDrop=false;this.el.removeCls(this.hoverCls);this.fireEvent("dropleave",this,e,d)}}},onBeforeDragEnd:function(d,c){d.cancelRevert=this.canDrop},onDragEnd:function(d,c){this.monitoring=false;this.el.removeCls(this.activeCls);d.un({drag:this.onDrag,beforedragend:this.onBeforeDragEnd,dragend:this.onDragEnd,scope:this});if(this.canDrop){this.canDrop=false;this.el.removeCls(this.hoverCls);this.fireEvent("drop",this,d,c)}this.fireEvent("dropdeactivate",this,d,c)},enable:function(){if(!this.mgr){this.mgr=Ext.util.Observable.observe(Ext.util.Draggable)}this.mgr.on({dragstart:this.onDragStart,scope:this});this.disabled=false},disable:function(){this.mgr.un({dragstart:this.onDragStart,scope:this});this.disabled=true},isDisabled:function(){return this.disabled},isMonitoring:function(){return this.monitoring}});(function(){Ext.ScrollManager=new Ext.AbstractManager();Ext.util.ScrollView=Ext.extend(Ext.util.Observable,{useIndicators:true,indicatorConfig:{},indicatorMargin:4,constructor:function(e,f){var h=[],g=["vertical","horizontal"];Ext.util.ScrollView.superclass.constructor.call(this);["useIndicators","indicatorConfig","indicatorMargin"].forEach(function(a){if(f.hasOwnProperty(a)){this[a]=f[a];delete f[a]}},this);f.scrollView=this;this.scroller=new Ext.util.Scroller(e,f);if(this.useIndicators===true){g.forEach(function(a){if(this.scroller[a]){h.push(a)}},this)}else{if(g.indexOf(this.useIndicators)!==-1){h.push(this.useIndicators)}}this.indicators={};h.forEach(function(a){this.indicators[a]=new Ext.util.Scroller.Indicator(this.scroller.container,Ext.apply({},this.indicatorConfig,{type:a}))},this);this.mon(this.scroller,{scrollstart:this.onScrollStart,scrollend:this.onScrollEnd,scroll:this.onScroll,scope:this})},onScrollStart:function(){this.showIndicators()},onScrollEnd:function(){this.hideIndicators()},onScroll:function(h){if(h.offsetBoundary==null||(!this.indicators.vertical&&!this.indicators.horizontal)){return}var l,g,j,i=h.offsetBoundary,k=h.offset;this.containerSize=h.containerBox;this.scrollerSize=h.size;this.outOfBoundOffset=i.getOutOfBoundOffset(k);this.restrictedOffset=i.restrict(k);this.boundarySize=i.getSize();if(!this.indicatorSizes){this.indicatorSizes={vertical:0,horizontal:0}}if(!this.indicatorOffsets){this.indicatorOffsets={vertical:0,horizontal:0}}Ext.iterate(this.indicators,function(a,b){l=(a=="vertical")?"height":"width";g=(a=="vertical")?"y":"x";j=(a=="vertical")?"bottom":"right";if(this.scrollerSize[l]<this.containerSize[l]){this.indicatorSizes[a]=this.containerSize[l]*(this.scrollerSize[l]/this.containerSize[l])}else{this.indicatorSizes[a]=this.containerSize[l]*(this.containerSize[l]/this.scrollerSize[l])}this.indicatorSizes[a]-=Math.abs(this.outOfBoundOffset[g]);this.indicatorSizes[a]=Math.max(this.indicatorMargin*4,this.indicatorSizes[a]);if(this.boundarySize[l]!=0){this.indicatorOffsets[a]=(((i[j]-this.restrictedOffset[g])/this.boundarySize[l])*(this.containerSize[l]-this.indicatorSizes[a]))}else{if(k[g]<i[j]){this.indicatorOffsets[a]=this.containerSize[l]-this.indicatorSizes[a]}else{this.indicatorOffsets[a]=0}}b.setOffset(this.indicatorOffsets[a]+this.indicatorMargin);b.setSize(this.indicatorSizes[a]-(this.indicatorMargin*2))},this)},showIndicators:function(){Ext.iterate(this.indicators,function(c,d){d.show()},this);return this},hideIndicators:function(){Ext.iterate(this.indicators,function(c,d){d.hide()},this)},destroy:function(){this.scroller.destroy();if(this.indicators){Ext.iterate(this.indicators,function(c,d){d.destroy()},this)}return Ext.util.ScrollView.superclass.destroy.apply(this,arguments)}});Ext.util.Scroller=Ext.extend(Ext.util.Draggable,{baseCls:"",draggingCls:"",direction:"both",constrain:"parent",outOfBoundRestrictFactor:0.5,acceleration:30,fps:Ext.is.Blackberry?22:80,autoAdjustFps:!Ext.is.Blackberry,friction:0.5,startMomentumResetTime:350,springTension:0.3,minVelocityForAnimation:1,bounces:true,momentum:true,cancelRevert:true,threshold:5,constructor:function(i,k){i=Ext.get(i);var h=Ext.ScrollManager.get(i.id);if(h){return Ext.apply(h,k)}Ext.util.Scroller.superclass.constructor.apply(this,arguments);this.addEvents("scrollstart","scroll","scrollend","bouncestart","bounceend");this.on({dragstart:this.onDragStart,offsetchange:this.onOffsetChange,scope:this});Ext.ScrollManager.register(this);this.el.addCls("x-scroller");this.container.addCls("x-scroller-parent");if(this.bounces!==false){var j=this.bounces==="both"||this.bounces===true,g=j||this.bounces==="horizontal",l=j||this.bounces==="vertical";this.bounces={x:g,y:l}}this.theta=Math.log(1-(this.friction/10));if(!this.decelerationAnimation){this.decelerationAnimation={}}if(!this.bouncingAnimation){this.bouncingAnimation={}}["x","y"].forEach(function(a){if(!this.decelerationAnimation[a]){this.decelerationAnimation[a]=new Ext.util.Scroller.Animation.Deceleration({acceleration:this.acceleration,theta:this.theta})}if(!this.bouncingAnimation[a]){this.bouncingAnimation[a]=new Ext.util.Scroller.Animation.Bouncing({acceleration:this.acceleration,springTension:this.springTension})}},this);return this},getFrameDuration:function(){return 1000/this.fps},updateBoundary:function(){Ext.util.Scroller.superclass.updateBoundary.apply(this,arguments);this.snapToBoundary();return this},onOffsetChange:function(d,c){this.fireEvent("scroll",d,{x:-c.x,y:-c.y})},onTouchStart:function(b){Ext.util.Scroller.superclass.onTouchStart.apply(this,arguments);this.stopMomentumAnimation()},onDragStart:function(b){this.fireEvent("scrollstart",this,b)},setStartTime:function(b){this.startTime=b.time;this.originalStartTime=(b.event.originalTimeStamp)?b.event.originalTimeStamp:b.time},onStart:function(b){if(Ext.util.Scroller.superclass.onStart.apply(this,arguments)!==true){return}this.setStartTime(b);this.lastEventTime=b.time;this.startTimeOffset=this.offset.copy();this.isScrolling=true;this.momentumAnimationFramesHandled=0},onDrag:function(b){if(Ext.util.Scroller.superclass.onDrag.apply(this,arguments)!==true){return}this.lastEventTime=b.time;if(this.lastEventTime-this.startTime>this.startMomentumResetTime){this.setStartTime(b);this.startTimeOffset=this.offset.copy()}},onDragEnd:function(b){if(Ext.util.Scroller.superclass.onDragEnd.apply(this,arguments)!==true){return}if(!this.startMomentumAnimation(b)){this.fireScrollEndEvent()}},onOrientationChange:function(){Ext.util.Scroller.superclass.onOrientationChange.apply(this,arguments);this.snapToBoundary()},fireScrollEndEvent:function(){this.isScrolling=false;this.isMomentumAnimating=false;this.snapToBoundary();this.fireEvent("scrollend",this,this.getOffset());this.snapToSlot()},getLastActualFps:function(){var b=(this.momentumAnimationEndTime-this.momentumAnimationStartTime-this.momentumAnimationProcessingTime)/1000;return this.momentumAnimationFramesHandled/b},scrollTo:function(f,e){this.stopMomentumAnimation();var d=this.offsetBoundary.restrict(new Ext.util.Offset(-f.x,-f.y));this.setOffset(d,e);return this},scrollBy:function(d,e){this.stopMomentumAnimation();var f=this.offset.copy();f.x+=d.x;f.y+=d.y;this.setOffset(f,e);return this},setSnap:function(b){this.snap=b},snapToBoundary:function(){var b=this.offsetBoundary.restrict(this.offset);this.setOffset(b);return this},snapToSlot:function(){var b=this.offsetBoundary.restrict(this.offset);b.round();if(this.snap){if(this.snap===true){this.snap={x:50,y:50}}else{if(Ext.isNumber(this.snap)){this.snap={x:this.snap,y:this.snap}}}if(this.snap.y){b.y=Math.round(b.y/this.snap.y)*this.snap.y}if(this.snap.x){b.x=Math.round(b.x/this.snap.x)*this.snap.x}if(!this.offset.equals(b)){this.scrollTo({x:-b.x,y:-b.y},this.snapDuration)}}},startMomentumAnimation:function(j){var k=(j.event.originalTimeStamp)?j.event.originalTimeStamp:j.time,l=k-this.originalStartTime;if((!this.momentum||!(l<=this.startMomentumResetTime))&&!this.offsetBoundary.isOutOfBound(this.offset)){return false}var m=this.minVelocityForAnimation,e,n=this.offset.copy(),i;this.isBouncing={x:false,y:false};this.isDecelerating={x:false,y:false};this.momentumAnimationStartTime=j.time;this.momentumAnimationProcessingTime=0;this.momentumAnimationStartVelocity={x:(this.offset.x-this.startTimeOffset.x)/(l/this.acceleration),y:(this.offset.y-this.startTimeOffset.y)/(l/this.acceleration)};this.momentumAnimationStartOffset=n;["x","y"].forEach(function(a){this.isDecelerating[a]=(Math.abs(this.momentumAnimationStartVelocity[a])>m);if(this.bounces&&this.bounces[a]){i=this.offsetBoundary.restrict(a,n[a]);if(i!=n[a]){e=(n[a]-i)*this.springTension*Math.E;this.bouncingAnimation[a].set({startTime:this.momentumAnimationStartTime-((1/this.springTension)*this.acceleration),startOffset:i,startVelocity:e});this.isBouncing[a]=true;this.fireEvent("bouncestart",this,{axis:a,offset:i,time:this.momentumAnimationStartTime,velocity:e});this.isDecelerating[a]=false}}if(this.isDecelerating[a]){this.decelerationAnimation[a].set({startVelocity:this.momentumAnimationStartVelocity[a],startOffset:this.momentumAnimationStartOffset[a],startTime:this.momentumAnimationStartTime})}},this);if(this.isDecelerating.x||this.isDecelerating.y||this.isBouncing.x||this.isBouncing.y){this.isMomentumAnimating=true;this.momentumAnimationFramesHandled=0;this.fireEvent("momentumanimationstart");this.momentumAnimationTimer=Ext.defer(this.handleMomentumAnimationFrame,this.getFrameDuration(),this);return true}return false},stopMomentumAnimation:function(){if(this.isMomentumAnimating){if(this.momentumAnimationTimer){clearTimeout(this.momentumAnimationTimer)}this.momentumAnimationEndTime=Date.now();var b=this.getLastActualFps();if(!this.maxFps||b>this.maxFps){this.maxFps=b}if(this.autoAdjustFps){this.fps=this.maxFps}this.isDecelerating={};this.isBouncing={};this.fireEvent("momentumanimationend");this.fireScrollEndEvent()}return this},handleMomentumAnimationFrame:function(){if(!this.isMomentumAnimating){return}this.momentumAnimationTimer=Ext.defer(this.handleMomentumAnimationFrame,this.getFrameDuration(),this);var j=Date.now(),h=this.offset.copy(),f,g,i;["x","y"].forEach(function(a){if(this.isDecelerating[a]){h[a]=this.decelerationAnimation[a].getOffset();f=this.momentumAnimationStartVelocity[a]*this.decelerationAnimation[a].getFrictionFactor();i=this.offsetBoundary.getOutOfBoundOffset(a,h[a]);if(i!=0){g=this.offsetBoundary.restrict(a,h[a]);if(this.bounces&&this.bounces[a]){this.bouncingAnimation[a].set({startTime:j,startOffset:g,startVelocity:f});this.isBouncing[a]=true;this.fireEvent("bouncestart",this,{axis:a,offset:g,time:j,velocity:f})}this.isDecelerating[a]=false}else{if(Math.abs(f)<=1){this.isDecelerating[a]=false}}}else{if(this.isBouncing[a]){h[a]=this.bouncingAnimation[a].getOffset();g=this.offsetBoundary.restrict(a,h[a]);if(Math.abs(h[a]-g)<=1){this.isBouncing[a]=false;this.fireEvent("bounceend",this,{axis:a,offset:g,time:j,velocity:0});h[a]=g}}}},this);if(!this.isDecelerating.x&&!this.isDecelerating.y&&!this.isBouncing.x&&!this.isBouncing.y){this.stopMomentumAnimation();return}this.momentumAnimationFramesHandled++;this.momentumAnimationProcessingTime+=Date.now()-j;this.setOffset(h)},destroy:function(){return Ext.util.Scroller.superclass.destroy.apply(this,arguments)}});Ext.util.Scroller.Animation={};Ext.util.Scroller.Animation.Deceleration=Ext.extend(Ext.util.Draggable.Animation.Abstract,{acceleration:30,theta:null,startVelocity:null,getOffset:function(){return this.startOffset-this.startVelocity*(1-this.getFrictionFactor())/this.theta},getFrictionFactor:function(){var b=Date.now()-this.startTime;return Math.exp(b/this.acceleration*this.theta)}});Ext.util.Scroller.Animation.Bouncing=Ext.extend(Ext.util.Draggable.Animation.Abstract,{springTension:0.3,acceleration:30,startVelocity:null,getOffset:function(){var c=(Date.now()-this.startTime),d=(c/this.acceleration)*Math.pow(Math.E,-this.springTension*(c/this.acceleration));return this.startOffset+(this.startVelocity*d)}});Ext.util.Scroller.Indicator=Ext.extend(Object,{baseCls:"x-scrollbar",ui:"dark",type:"horizontal",constructor:function(d,c){this.container=d;Ext.apply(this,c);this.el=this.container.createChild({cls:[this.baseCls,this.baseCls+"-"+this.type,this.baseCls+"-"+this.ui].join(" ")});this.offset=new Ext.util.Offset();this.hide()},hide:function(){var b=this;if(this.hideTimer){clearTimeout(this.hideTimer)}this.hideTimer=setTimeout(function(){b.el.setStyle("opacity",0)},100);return this},show:function(){if(this.hideTimer){clearTimeout(this.hideTimer)}this.el.setStyle("opacity",1);return this},setVisibility:function(b){return this[b?"show":"hide"]()},setSize:function(b){if(this.size&&b>this.size){b=Math.round(b)}this.el.dom.style[(this.type=="horizontal")?"width":"height"]=b+"px";this.size=b;return this},setOffset:function(b){if(this.type=="vertical"){this.offset.y=b}else{this.offset.x=b}if(!Ext.is.iOS&&!Ext.is.Desktop){if(this.type=="vertical"){this.el.dom.style.top=this.offset.y+"px"}else{this.el.dom.style.left=this.offset.x+"px"}}else{Ext.Element.cssTranslate(this.el,this.offset)}return this}})})();Ext.util.Sortable=Ext.extend(Ext.util.Observable,{baseCls:"x-sortable",direction:"vertical",cancelSelector:null,constrain:window,group:"base",revert:true,itemSelector:null,handleSelector:null,disabled:false,delay:0,sorting:false,vertical:false,vertical:false,constructor:function(c,d){d=d||{};Ext.apply(this,d);this.addEvents("sortstart","sortend","sortchange");this.el=Ext.get(c);Ext.util.Sortable.superclass.constructor.call(this);if(this.direction=="horizontal"){this.horizontal=true}else{if(this.direction=="vertical"){this.vertical=true}else{this.horizontal=this.vertical=true}}this.el.addCls(this.baseCls);if(!this.disabled){this.enable()}},onTouchStart:function(c,d){if(this.cancelSelector&&c.getTarget(this.cancelSelector)){return}if(this.handleSelector&&!c.getTarget(this.handleSelector)){return}if(!this.sorting){this.onSortStart(c,d)}},onSortStart:function(f,d){this.sorting=true;var e=new Ext.util.Draggable(d,{delay:this.delay,revert:this.revert,direction:this.direction,constrain:this.constrain===true?this.el:this.constrain,animationDuration:100});e.on({dragThreshold:0,drag:this.onDrag,dragend:this.onDragEnd,scope:this});this.dragEl=d;this.calculateBoxes();if(!e.dragging){e.onStart(f)}this.fireEvent("sortstart",this,f)},calculateBoxes:function(){this.items=[];var g=this.el.select(this.itemSelector,false),i=g.length,h,j,l,k;for(h=0;h<i;h++){l=g[h];if(l!=this.dragEl){j=Ext.fly(l).getPageBox(true);j.el=l;this.items.push(j)}}},onDrag:function(e,s){var o=this.items,p=o.length,n=e.region,q=false,t,u,m,i;for(t=0;t<p;t++){i=o[t];u=n.intersect(i);if(u){if(this.vertical&&Math.abs(u.top-u.bottom)>(n.bottom-n.top)/2){if(n.bottom>i.top&&i.top>n.top){e.el.insertAfter(i.el)}else{e.el.insertBefore(i.el)}q=true}else{if(this.horizontal&&Math.abs(u.left-u.right)>(n.right-n.left)/2){if(n.right>i.left&&i.left>n.left){e.el.insertAfter(i.el)}else{e.el.insertBefore(i.el)}q=true}}if(q){e.reset();e.moveTo(n.left,n.top);this.calculateBoxes();this.fireEvent("sortchange",this,e.el,this.el.select(this.itemSelector,false).indexOf(e.el.dom));return}}}},onDragEnd:function(d,c){d.destroy();this.sorting=false;this.fireEvent("sortend",this,d,c)},enable:function(){this.el.on("touchstart",this.onTouchStart,this,{delegate:this.itemSelector});this.disabled=false},disable:function(){this.el.un("touchstart",this.onTouchStart,this);this.disabled=true},isDisabled:function(){return this.disabled},isSorting:function(){return this.sorting},isVertical:function(){return this.vertical},isHorizontal:function(){return this.horizontal}});(function(){Date.useStrict=false;function c(a){var b=Array.prototype.slice.call(arguments,1);return a.replace(/\{(\d+)\}/g,function(h,g){return b[g]})}Date.formatCodeToRegex=function(b,f){var a=Date.parseCodes[b];if(a){a=typeof a=="function"?a():a;Date.parseCodes[b]=a}return a?Ext.applyIf({c:a.c?c(a.c,f||"{0}"):a.c},a):{g:0,c:null,s:Ext.util.Format.escapeRegex(b)}};var d=Date.formatCodeToRegex;Ext.apply(Date,{parseFunctions:{"M$":function(g,h){var b=new RegExp("\\/Date\\(([-+])?(\\d+)(?:[+-]\\d{4})?\\)\\/");var a=(g||"").match(b);return a?new Date(((a[1]||"")+a[2])*1):null}},parseRegexes:[],formatFunctions:{"M$":function(){return"\\/Date("+this.getTime()+")\\/"}},y2kYear:50,MILLI:"ms",SECOND:"s",MINUTE:"mi",HOUR:"h",DAY:"d",MONTH:"mo",YEAR:"y",defaults:{},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNumbers:{Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},getShortMonthName:function(a){return Date.monthNames[a].substring(0,3)},getShortDayName:function(a){return Date.dayNames[a].substring(0,3)},getMonthNumber:function(a){return Date.monthNumbers[a.substring(0,1).toUpperCase()+a.substring(1,3).toLowerCase()]},formatCodes:{d:"Ext.util.Format.leftPad(this.getDate(), 2, '0')",D:"Date.getShortDayName(this.getDay())",j:"this.getDate()",l:"Date.dayNames[this.getDay()]",N:"(this.getDay() ? this.getDay() : 7)",S:"this.getSuffix()",w:"this.getDay()",z:"this.getDayOfYear()",W:"Ext.util.Format.leftPad(this.getWeekOfYear(), 2, '0')",F:"Date.monthNames[this.getMonth()]",m:"Ext.util.Format.leftPad(this.getMonth() + 1, 2, '0')",M:"Date.getShortMonthName(this.getMonth())",n:"(this.getMonth() + 1)",t:"this.getDaysInMonth()",L:"(this.isLeapYear() ? 1 : 0)",o:"(this.getFullYear() + (this.getWeekOfYear() == 1 && this.getMonth() > 0 ? +1 : (this.getWeekOfYear() >= 52 && this.getMonth() < 11 ? -1 : 0)))",Y:"this.getFullYear()",y:"('' + this.getFullYear()).substring(2, 4)",a:"(this.getHours() < 12 ? 'am' : 'pm')",A:"(this.getHours() < 12 ? 'AM' : 'PM')",g:"((this.getHours() % 12) ? this.getHours() % 12 : 12)",G:"this.getHours()",h:"Ext.util.Format.leftPad((this.getHours() % 12) ? this.getHours() % 12 : 12, 2, '0')",H:"Ext.util.Format.leftPad(this.getHours(), 2, '0')",i:"Ext.util.Format.leftPad(this.getMinutes(), 2, '0')",s:"Ext.util.Format.leftPad(this.getSeconds(), 2, '0')",u:"Ext.util.Format.leftPad(this.getMilliseconds(), 3, '0')",O:"this.getGMTOffset()",P:"this.getGMTOffset(true)",T:"this.getTimezone()",Z:"(this.getTimezoneOffset() * -60)",c:function(){for(var a="Y-m-dTH:i:sP",e=[],i=0,k=a.length;i<k;++i){var b=a.charAt(i);e.push(b=="T"?"'T'":Date.getFormatCode(b))}return e.join(" + ")},U:"Math.round(this.getTime() / 1000)"},isValid:function(q,p,a,h,m,i,o){h=h||0;m=m||0;i=i||0;o=o||0;var b=new Date(q,p-1,a,h,m,i,o);return q==b.getFullYear()&&p==b.getMonth()+1&&a==b.getDate()&&h==b.getHours()&&m==b.getMinutes()&&i==b.getSeconds()&&o==b.getMilliseconds()},parseDate:function(g,a,h){var b=Date.parseFunctions;if(b[a]==null){Date.createParser(a)}return b[a](g,Ext.isDefined(h)?h:Date.useStrict)},getFormatCode:function(a){var b=Date.formatCodes[a];if(b){b=typeof b=="function"?b():b;Date.formatCodes[a]=b}return b||("'"+Ext.util.Format.escape(a)+"'")},createFormat:function(a){var b=[],j=false,h="";for(var i=0;i<a.length;++i){h=a.charAt(i);if(!j&&h=="\\"){j=true}else{if(j){j=false;b.push("'"+Ext.util.Format.escape(h)+"'")}else{b.push(Date.getFormatCode(h))}}}Date.formatFunctions[a]=new Function("return "+b.join("+"))},createParser:function(){var a=["var dt, y, m, d, h, i, s, ms, o, z, zz, u, v,","def = Date.defaults,","results = String(input).match(Date.parseRegexes[{0}]);","if(results){","{1}","if(u != null){","v = new Date(u * 1000);","}else{","dt = (new Date()).clearTime();","y = Ext.num(y, Ext.num(def.y, dt.getFullYear()));","m = Ext.num(m, Ext.num(def.m - 1, dt.getMonth()));","d = Ext.num(d, Ext.num(def.d, dt.getDate()));","h  = Ext.num(h, Ext.num(def.h, dt.getHours()));","i  = Ext.num(i, Ext.num(def.i, dt.getMinutes()));","s  = Ext.num(s, Ext.num(def.s, dt.getSeconds()));","ms = Ext.num(ms, Ext.num(def.ms, dt.getMilliseconds()));","if(z >= 0 && y >= 0){","v = new Date(y, 0, 1, h, i, s, ms);","v = !strict? v : (strict === true && (z <= 364 || (v.isLeapYear() && z <= 365))? v.add(Date.DAY, z) : null);","}else if(strict === true && !Date.isValid(y, m + 1, d, h, i, s, ms)){","v = null;","}else{","v = new Date(y, m, d, h, i, s, ms);","}","}","}","if(v){","if(zz != null){","v = v.add(Date.SECOND, -v.getTimezoneOffset() * 60 - zz);","}else if(o){","v = v.add(Date.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn));","}","}","return v;"].join("\n");return function(o){var v=Date.parseRegexes.length,b=1,u=[],p=[],q=false,w="",s=0,t,i;for(;s<o.length;++s){w=o.charAt(s);if(!q&&w=="\\"){q=true}else{if(q){q=false;p.push(Ext.util.Format.escape(w))}else{t=d(w,b);b+=t.g;p.push(t.s);if(t.g&&t.c){if(t.last){i=t}else{u.push(t.c)}}}}}if(i){u.push(i)}Date.parseRegexes[v]=new RegExp("^"+p.join("")+"$");Date.parseFunctions[o]=new Function("input","strict",c(a,v,u.join("")))}}(),parseCodes:{d:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},j:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(\\d{1,2})"},D:function(){for(var b=[],a=0;a<7;b.push(Date.getShortDayName(a)),++a){}return{g:0,c:null,s:"(?:"+b.join("|")+")"}},l:function(){return{g:0,c:null,s:"(?:"+Date.dayNames.join("|")+")"}},N:{g:0,c:null,s:"[1-7]"},S:{g:0,c:null,s:"(?:st|nd|rd|th)"},w:{g:0,c:null,s:"[0-6]"},z:{g:1,c:"z = parseInt(results[{0}], 10);\n",s:"(\\d{1,3})"},W:{g:0,c:null,s:"(?:\\d{2})"},F:function(){return{g:1,c:"m = parseInt(Date.getMonthNumber(results[{0}]), 10);\n",s:"("+Date.monthNames.join("|")+")"}},M:function(){for(var b=[],a=0;a<12;b.push(Date.getShortMonthName(a)),++a){}return Ext.applyIf({s:"("+b.join("|")+")"},d("F"))},m:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(\\d{2})"},n:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(\\d{1,2})"},t:{g:0,c:null,s:"(?:\\d{2})"},L:{g:0,c:null,s:"(?:1|0)"},o:function(){return d("Y")},Y:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},y:{g:1,c:"var ty = parseInt(results[{0}], 10);\ny = ty > Date.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"},a:function(){return d("A")},A:{calcLast:true,g:1,c:"if (results[{0}] == 'AM') {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(AM|PM)"},g:function(){return d("G")},G:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(\\d{1,2})"},h:function(){return d("H")},H:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},i:{g:1,c:"i = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},s:{g:1,c:"s = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},u:{g:1,c:"ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n",s:"(\\d+)"},O:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),","mn = o.substring(3,5) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.util.Format.leftPad(hr, 2, '0') + Ext.util.Format.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{4})"},P:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),","mn = o.substring(4,6) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.util.Format.leftPad(hr, 2, '0') + Ext.util.Format.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{2}:\\d{2})"},T:{g:0,c:null,s:"[A-Z]{1,4}"},Z:{g:1,c:"zz = results[{0}] * 1;\nzz = (-43200 <= zz && zz <= 50400)? zz : null;\n",s:"([+-]?\\d{1,5})"},c:function(){var b=[],h=[d("Y",1),d("m",2),d("d",3),d("h",4),d("i",5),d("s",6),{c:"ms = results[7] || '0'; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"},{c:["if(results[8]) {","if(results[8] == 'Z'){","zz = 0;","}else if (results[8].indexOf(':') > -1){",d("P",8).c,"}else{",d("O",8).c,"}","}"].join("\n")}];for(var a=0,g=h.length;a<g;++a){b.push(h[a].c)}return{g:1,c:b.join(""),s:[h[0].s,"(?:","-",h[1].s,"(?:","-",h[2].s,"(?:","(?:T| )?",h[3].s,":",h[4].s,"(?::",h[5].s,")?","(?:(?:\\.|,)(\\d+))?","(Z|(?:[-+]\\d{2}(?::)?\\d{2}))?",")?",")?",")?"].join("")}},U:{g:1,c:"u = parseInt(results[{0}], 10);\n",s:"(-?\\d+)"}}})}());Ext.apply(Date.prototype,{dateFormat:function(b){if(Date.formatFunctions[b]==null){Date.createFormat(b)}return Date.formatFunctions[b].call(this)},getTimezone:function(){return this.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,4})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,"$1$2").replace(/[^A-Z]/g,"")},getGMTOffset:function(b){return(this.getTimezoneOffset()>0?"-":"+")+Ext.util.Format.leftPad(Math.floor(Math.abs(this.getTimezoneOffset())/60),2,"0")+(b?":":"")+Ext.util.Format.leftPad(Math.abs(this.getTimezoneOffset()%60),2,"0")},getDayOfYear:function(){var d=0,g=this.clone(),f=this.getMonth(),h;for(h=0,g.setDate(1),g.setMonth(0);h<f;g.setMonth(++h)){d+=g.getDaysInMonth()}return d+this.getDate()-1},getWeekOfYear:function(){var d=86400000,c=7*d;return function(){var b=Date.UTC(this.getFullYear(),this.getMonth(),this.getDate()+3)/d,f=Math.floor(b/7),a=new Date(f*c).getUTCFullYear();return f-Math.floor(Date.UTC(a,0,7)/c)+1}}(),isLeapYear:function(){var b=this.getFullYear();return !!((b&3)==0&&(b%100||(b%400==0&&b)))},getFirstDayOfMonth:function(){var b=(this.getDay()-(this.getDate()-1))%7;return(b<0)?(b+7):b},getLastDayOfMonth:function(){return this.getLastDateOfMonth().getDay()},getFirstDateOfMonth:function(){return new Date(this.getFullYear(),this.getMonth(),1)},getLastDateOfMonth:function(){return new Date(this.getFullYear(),this.getMonth(),this.getDaysInMonth())},getDaysInMonth:function(){var b=[31,28,31,30,31,30,31,31,30,31,30,31];return function(){var a=this.getMonth();return a==1&&this.isLeapYear()?29:b[a]}}(),getSuffix:function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},clone:function(){return new Date(this.getTime())},isDST:function(){return new Date(this.getFullYear(),0,1).getTimezoneOffset()!=this.getTimezoneOffset()},clearTime:function(g){if(g){return this.clone().clearTime()}var c=this.getDate();this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);if(this.getDate()!=c){for(var d=1,h=this.add(Date.HOUR,d);h.getDate()!=c;d++,h=this.add(Date.HOUR,d)){}this.setDate(c);this.setHours(h.getHours())}return this},add:function(d,h){var g=this.clone();if(!d||h===0){return g}switch(d.toLowerCase()){case Date.MILLI:g.setMilliseconds(this.getMilliseconds()+h);break;case Date.SECOND:g.setSeconds(this.getSeconds()+h);break;case Date.MINUTE:g.setMinutes(this.getMinutes()+h);break;case Date.HOUR:g.setHours(this.getHours()+h);break;case Date.DAY:g.setDate(this.getDate()+h);break;case Date.MONTH:var f=this.getDate();if(f>28){f=Math.min(f,this.getFirstDateOfMonth().add("mo",h).getLastDateOfMonth().getDate())}g.setDate(f);g.setMonth(this.getMonth()+h);break;case Date.YEAR:g.setFullYear(this.getFullYear()+h);break}return g},between:function(f,e){var d=this.getTime();return f.getTime()<=d&&d<=e.getTime()}});Date.prototype.format=Date.prototype.dateFormat;Ext.data.Connection=Ext.extend(Ext.util.Observable,{method:"post",url:null,disableCaching:true,disableCachingParam:"_dc",timeout:30000,useDefaultHeader:true,defaultPostHeader:"application/x-www-form-urlencoded; charset=UTF-8",useDefaultXhrHeader:true,defaultXhrHeader:"XMLHttpRequest",constructor:function(b){b=b||{};Ext.apply(this,b);this.addEvents("beforerequest","requestcomplete","requestexception");this.requests={};Ext.data.Connection.superclass.constructor.call(this)},request:function(C){var u=this;if(u.fireEvent("beforerequest",u,C)!==false){var z=C.params,D=C.url||u.url,B=C.urlParams,v=u.extraParams,y,x,A,E,e,G;if(Ext.isFunction(z)){z=z.call(C.scope||window,C)}if(Ext.isFunction(D)){D=D.call(C.scope||window,C)}x=C.rawData||C.xmlData||C.jsonData||null;if(C.jsonData&&!Ext.isPrimitive(C.jsonData)){x=Ext.encode(x)}z=Ext.urlEncode(v,Ext.isObject(z)?Ext.urlEncode(z):z);B=Ext.isObject(B)?Ext.urlEncode(B):B;E=(C.method||((z||x)?"POST":"GET")).toUpperCase();if(E==="GET"&&C.disableCaching!==false&&u.disableCaching){D=Ext.urlAppend(D,C.disableCachingParam||u.disableCachingParam+"="+(new Date().getTime()))}if((E=="GET"||x)&&z){D=Ext.urlAppend(D,z);z=null}if(B){D=Ext.urlAppend(D,B)}if(C.autoAbort===true||u.autoAbort){u.abort()}G=this.getXhrInstance();G.open(E.toUpperCase(),D,true);A=Ext.apply({},C.headers||{},u.defaultHeaders||{});if(!A["Content-Type"]&&(x||z)){var o=u.defaultPostHeader,t=C.jsonData,F=C.xmlData;if(x){if(C.rawData){o="text/plain"}else{if(F&&Ext.isDefined(F)){o="text/xml"}else{if(t&&Ext.isDefined(t)){o="application/json"}}}}A["Content-Type"]=o}if(u.useDefaultXhrHeader&&!A["X-Requested-With"]){A["X-Requested-With"]=u.defaultXhrHeader}for(e in A){if(A.hasOwnProperty(e)){try{G.setRequestHeader(e,A[e])}catch(w){u.fireEvent("exception",e,A[e])}}}y={id:++Ext.data.Connection.requestId,xhr:G,headers:A,options:C,timeout:setTimeout(function(){y.timedout=true;u.abort(y)},C.timeout||u.timeout)};u.requests[y.id]=y;G.onreadystatechange=Ext.createDelegate(u.onStateChange,u,[y]);G.send(x||z||null);return y}else{return C.callback?C.callback.apply(C.scope,[C,undefined,undefined]):null}},getXhrInstance:function(){return new XMLHttpRequest()},isLoading:function(b){return b&&!{0:true,4:true}[b.xhr.readyState]},abort:function(d){if(d&&this.isLoading(d)){d.xhr.abort();clearTimeout(d.timeout);delete (d.timeout);d.aborted=true;this.onComplete(d)}else{if(!d){var c;for(c in this.requests){if(!this.requests.hasOwnProperty(c)){continue}this.abort(this.requests[c])}}}},onStateChange:function(b){if(b.xhr.readyState==4){clearTimeout(b.timeout);delete b.timeout;this.onComplete(b)}},onComplete:function(i){var g=i.xhr.status,j=i.options,h=true,f;if((g>=200&&g<300)||g==304){f=this.createResponse(i);this.fireEvent("requestcomplete",this,f,j);if(j.success){if(!j.scope){j.success(f,j)}else{j.success.call(j.scope,f,j)}}}else{h=false;switch(g){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:f=this.createException(i);break;default:f=this.createResponse(i)}this.fireEvent("requestexception",this,f,j);if(j.failure){if(!j.scope){j.failure(f,j)}else{j.failure.call(j.scope,f,j)}}}if(j.callback){if(!j.scope){j.callback(j,h,f)}else{j.callback.call(j.scope,j,h,f)}}delete this.requests[i.id]},createResponse:function(s){var l=s.xhr,q={},k=l.getAllResponseHeaders().replace(/\r\n/g,"\n").split("\n"),p=k.length,j,o,m,n;while(p--){j=k[p];o=j.indexOf(":");if(o>=0){m=j.substr(0,o).toLowerCase();if(j.charAt(o+1)==" "){++o}q[m]=j.substr(o+1)}}delete s.xhr;return{request:s,requestId:s.id,status:l.status,statusText:l.statusText,getResponseHeader:function(a){return q[a.toLowerCase()]},getAllResponseHeaders:function(){return q},responseText:l.responseText,responseXML:l.responseXML}},createException:function(b){return{request:b,requestId:b.id,status:b.aborted?-1:0,statusText:b.aborted?"transaction aborted":"communication failure",aborted:b.aborted,timedout:b.timedout}}});Ext.data.Connection.requestId=0;Ext.Ajax=new Ext.data.Connection({autoAbort:false});Ext.util.EventSimulator=Ext.extend(Object,{supportedEvents:{touch:["touchstart","touchmove","touchend","gesturestart","gesturechange","gestureend"],mouse:["mousedown","mousemove","mouseup","click"]},getEventTypeByName:function(c){var d=null;Ext.iterate(this.supportedEvents,function(a,b){if(b.indexOf(c)!=-1){d=a}});return d},fire:function(d,f,e){d=d.toLowerCase();if(arguments.length==2){e=f;f=document}switch(this.getEventTypeByName(d)){case"touch":this.fireTouchEvent.call(this,d,f,e);break;case"mouse":this.fireMouseEvent.call(this,d,f,e);break;default:throw new Error("Event type "+d+" is currently not supported")}return this},createEvent:function(c,d){},createEventData:function(c,d){switch(this.getEventTypeByName(c.type)){case"touch":return this.createTouchEventData(c.type,c.target,c,d);break;case"mouse":return this.createMouseEventData(c.type,c.target,c,d);break;default:throw new Error("Event type "+c.type+" is currently not supported")}},fireTouchEvent:function(j,i,f){var h=this.createTouchEventData(j,i,f);var g=this.createTouchEvent(j,h);g.isSimulated=true;return i.dispatchEvent(g)},createTouchEventData:function(j,i,g,f){var h={type:j,timeStamp:Date.now(),bubbles:true,cancelable:true,detail:1,screenX:0,screenY:0,pageX:0,pageY:0,clientX:0,clientY:0,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false,scale:1,rotation:0};if(!f){h.target=i;h.view=document.defaultView}if(g){Ext.iterate(h,function(b,a){if(g.hasOwnProperty(b)){h[b]=g[b]}})}["touches","targetTouches","changedTouches"].forEach(function(a){if(g.hasOwnProperty(a)){h[a]=this.createTouchList(g[a],i,f)}else{h[a]=this.createTouchList(h,i,f)}},this);return h},createTouchEvent:function(d,f){if(typeof d!="string"){f=d;d=d.type}var e=document.createEvent("TouchEvent");if(e.initTouchEvent.length==9){e.initTouchEvent(f.touches,f.targetTouches,f.changedTouches,d,f.view,f.screenX,f.screenY,f.clientX,f.clientY)}else{e.initTouchEvent(d,f.bubbles,f.cancelable,f.view,f.detail,f.screenX,f.screenY,f.pageX,f.pageY,f.ctrlKey,f.altKey,f.shiftKey,f.metaKey,f.touches,f.targetTouches,f.changedTouches,f.scale,f.rotation)}return e},createTouch:function(f,e,d){if(!document.createTouch||d){return{pageX:e.pageX,pageY:e.pageY,clientX:e.pageX,clientY:e.pageY,screenX:e.pageX,screenY:e.pageY,identifier:+e.identifier||0}}return document.createTouch(document.defaultView,f,+e.identifier||0,+e.pageX||0,+e.pageY||0,+e.screenX||0,+e.screenY||0)},createTouchList:function(l,j,g){var i,k=[];if(Ext.isObject(l)&&typeof l.target!="undefined"){l=[l]}if(l){for(var h=0;h<l.length;h++){if(!g&&!l[h].target){l[h].target=j}i=this.createTouch(l[h].target,l[h],g);k.push(i)}}if(!document.createTouchList||g){return k}return document.createTouchList.apply(document,k)},fireMouseEvent:function(f,h,g){var i=this.createMouseEventData(f,h,g);var j=this.createMouseEvent(f,i);j.isSimulated=true;j.originalTimeStamp=i.timeStamp;return h.dispatchEvent(j)},createMouseEventData:function(n,j,i,h){var k={type:n,timeStamp:Date.now(),bubbles:true,cancelable:(n!="mousemove"),detail:1,screenX:0,screenY:0,pageX:0,pageY:0,clientX:0,clientY:0,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false,button:0,relatedTarget:null},l=["screen","client","page"],m={x:0,y:0};if(!h){k.target=j;k.view=window}if(i){Ext.iterate(k,function(b,a){if(i.hasOwnProperty(b)){k[b]=i[b]}})}l.forEach(function(a){if(k[a+"X"]!=0){m.x=k[a+"X"]}if(k[a+"Y"]!=0){m.y=k[a+"Y"]}});l.forEach(function(a){if(k[a+"X"]==0&&m.x!=0){k[a+"X"]=m.x}if(k[a+"Y"]==0&&m.y!=0){k[a+"Y"]=m.y}});return k},createMouseEvent:function(e,d){var f=document.createEvent("MouseEvents");f.initMouseEvent(e,d.bubbles,d.cancelable,d.view,d.detail,d.screenX,d.screenY,d.clientX,d.clientY,d.ctrlKey,d.altKey,d.shiftKey,d.metaKey,d.button,d.relatedTarget);return f}});Ext.util.EventRecorder=Ext.extend(Ext.util.Observable,{eventCollection:null,currentEventSetName:null,constructor:function(){this.addEvents("replaystart","beforecalculatetarget","beforefire","afterfire","aftercalculatetarget","replayend","interrupted");this.eventSets={};this.interruptedIndexes={};return this},getEventSet:function(b){if(typeof b!="string"){if(this.currentEventSetName==null){throw new Error("No EventSet is currently used")}b=this.currentEventSetName}if(typeof this.eventSets[b]=="undefined"){this.eventSets[b]=[]}return this.eventSets[b]},start:function(b){this.currentEventSetName=b},record:function(e,f){if(typeof e!="string"){if(this.currentEventSetName==null){return}f=e;e=this.currentEventSetName}var d=this.getEventSimulator().createEventData(f,true);this.getEventSet(e).push(d)},setEventSet:function(d,c){this.eventSets[d]=c},erase:function(b){this.getEventSet(b).length=0},stopReplay:function(){this.interruptFlag=true},resumeReplay:function(c){var d=this.interruptedIndexes[c]||0;this.replay(c,d)},replay:function(w,o){var m=this.getEventSimulator(),n=this.getEventSet(w),p,v=0,u=0,x,q,t,y=["touchmove","touchend","mousemove","mouseup"],s=this;if(typeof o=="undefined"){o=0}u=o;p=n.length;this.interruptFlag=false;if(p>0){this.fireEvent("replaystart",w,o);setTimeout(function(){x=n[u];if(x){if(y.indexOf(x.type)===-1){s.fireEvent("beforecalculatetarget",x.type,x);q=Ext.util.Point.fromEvent(x);t=document.elementFromPoint(q.x,q.y);s.fireEvent("aftercalculatetarget",x.type,t,x)}if(t){if(s.interruptFlag===true){s.interruptFlag=false;s.interruptedIndexes[w]=u;s.fireEvent("interrupted",u);s.fireEvent("replayend",w,true);return}s.fireEvent("beforefire",x.type,t,x);m.fire(x.type,t,x);s.fireEvent("afterfire",x.type,t,x)}if(++u<p){setTimeout(arguments.callee,n[u].timeStamp-x.timeStamp)}else{s.fireEvent("replayend",w,false)}}},v)}},end:function(){this.currentEventSetName=null},getEventSimulator:function(){if(!this._eventSimulator){this._eventSimulator=new Ext.util.EventSimulator()}return this._eventSimulator},setEventSimulator:function(b){if(!(b instanceof Ext.util.EventSimulator)){throw new Error("eventSimulator must be an instance of Ext.util.EventSimulator")}this._eventSimulator=b},save:function(b){}});Ext.gesture.Manager=new Ext.AbstractManager({eventNames:{start:"touchstart",move:"touchmove",end:"touchend"},defaultPreventedMouseEvents:["click"],clickMoveThreshold:5,init:function(){this.targets=[];this.followTouches=[];this.currentGestures=[];this.currentTargets=[];if(!Ext.supports.Touch){Ext.apply(this.eventNames,{start:"mousedown",move:"mousemove",end:"mouseup"})}this.listenerWrappers={start:Ext.createDelegate(this.onTouchStart,this),move:Ext.createDelegate(this.onTouchMove,this),end:Ext.createDelegate(this.onTouchEnd,this),mouse:Ext.createDelegate(this.onMouseEvent,this)};this.attachListeners()},freeze:function(){this.isFrozen=true},thaw:function(){this.isFrozen=false},getEventSimulator:function(){if(!this.eventSimulator){this.eventSimulator=new Ext.util.EventSimulator()}return this.eventSimulator},attachListeners:function(){Ext.iterate(this.eventNames,function(c,d){document.body.addEventListener(d,this.listenerWrappers[c],false)},this);if(Ext.supports.Touch){this.defaultPreventedMouseEvents.forEach(function(b){document.body.addEventListener(b,this.listenerWrappers.mouse,true)},this)}},detachListeners:function(){Ext.iterate(this.eventNames,function(c,d){document.body.removeEventListener(d,this.listenerWrappers[c],false)},this);if(Ext.supports.Touch){this.defaultPreventedMouseEvents.forEach(function(b){document.body.removeEventListener(b,this.listenerWrappers.mouse,true)},this)}},onMouseEvent:function(b){if(!b.isSimulated){b.preventDefault();b.stopPropagation()}},onTouchStart:function(g){var f=[],h=g.target,e=this;if(g.stopped===true){return}if(!Ext.is.iOS){if(!(h.tagName&&["input","textarea","select"].indexOf(h.tagName.toLowerCase())!==-1)){g.preventDefault()}}if(this.isFrozen){return}if(this.startEvent){this.onTouchEnd(g)}this.locks={};this.currentTargets=[h];while(h){if(this.targets.indexOf(h)!==-1){f.unshift(h)}h=h.parentNode;this.currentTargets.push(h)}this.startEvent=g;this.startPoint=Ext.util.Point.fromEvent(g);this.lastMovePoint=null;this.isClick=true;this.handleTargets(f,g)},onTouchMove:function(j){if(!this.startEvent){return}if(Ext.is.Desktop){j.target=this.startEvent.target}if(Ext.is.iOS){j.preventDefault()}if(this.isFrozen){return}var i=this.currentGestures,e,h=j.changedTouches?j.changedTouches[0]:j;this.lastMovePoint=Ext.util.Point.fromEvent(j);if(Ext.supports.Touch&&this.isClick&&!this.lastMovePoint.isWithin(this.startPoint,this.clickMoveThreshold)){this.isClick=false}for(var g=0;g<i.length;g++){if(j.stopped){break}e=i[g];if(e.listenForMove){e.onTouchMove(j,h)}}},onTouchEnd:function(m){if(this.isFrozen){return}var l=this.currentGestures.slice(0),o=l.length,p,e,i,n=false,k=m.changedTouches?m.changedTouches[0]:m;if(this.startPoint){i=Ext.util.Point.fromEvent(m);if(!(this.lastMovePoint||this.startPoint)["equals"](i)){n=true}}for(p=0;p<o;p++){e=l[p];if(!m.stopped&&e.listenForEnd){if(n){e.onTouchMove(m,k)}e.onTouchEnd(m,k)}this.stopGesture(e)}if(Ext.supports.Touch&&this.isClick){this.isClick=false;this.getEventSimulator().fire("click",this.startEvent.target,k)}this.lastMovePoint=null;this.followTouches=[];this.startedChangedTouch=false;this.currentTargets=[];this.startEvent=null;this.startPoint=null},handleTargets:function(f,g){var h=f.length,e;this.startedChangedTouch=false;this.startedTouches=Ext.supports.Touch?g.touches:[g];for(e=0;e<h;e++){if(g.stopped){break}this.handleTarget(f[e],g,true)}for(e=h-1;e>=0;e--){if(g.stopped){break}this.handleTarget(f[e],g,false)}if(this.startedChangedTouch){this.followTouches=this.followTouches.concat((Ext.supports.Touch&&g.targetTouches)?Ext.toArray(g.targetTouches):[g])}},handleTarget:function(k,l,i){var j=Ext.Element.data(k,"x-gestures")||[],m=j.length,n,e;for(n=0;n<m;n++){e=j[n];if((!!e.capture===!!i)&&(this.followTouches.length<e.touches)&&((Ext.supports.Touch&&l.targetTouches)?(l.targetTouches.length===e.touches):true)){this.startedChangedTouch=true;this.startGesture(e);if(e.listenForStart){e.onTouchStart(l,l.changedTouches?l.changedTouches[0]:l)}if(l.stopped){break}}}},startGesture:function(b){b.started=true;this.currentGestures.push(b)},stopGesture:function(b){b.started=false;this.currentGestures.remove(b)},addEventListener:function(l,i,m,o){l=Ext.getDom(l);var j=this.targets,p=this.getGestureName(i),k=Ext.Element.data(l,"x-gestures"),n;if(!k){k=[];Ext.Element.data(l,"x-gestures",k)}if(!p){throw new Error("Trying to subscribe to unknown event "+i)}if(j.indexOf(l)===-1){this.targets.push(l)}n=this.get(l.id+"-"+p);if(!n){n=this.create(Ext.apply({},o||{},{target:l,type:p}));k.push(n)}n.addListener(i,m);if(this.startedChangedTouch&&this.currentTargets.contains(l)&&!n.started&&!o.subsequent){this.startGesture(n);if(n.listenForStart){n.onTouchStart(this.startEvent,this.startedTouches[0])}}},removeEventListener:function(j,h,k){j=Ext.getDom(j);var g=this.getGestureName(h),i=Ext.Element.data(j,"x-gestures")||[],l;l=this.get(j.id+"-"+g);if(l){l.removeListener(h,k);for(g in l.listeners){return}l.destroy();i.remove(l);Ext.Element.data(j,"x-gestures",i)}},getGestureName:function(b){return this.names&&this.names[b]},registerType:function(i,g){var j=g.prototype.handles,f,h;this.types[i]=g;g[this.typeName]=i;if(!j){j=g.prototype.handles=[i]}this.names=this.names||{};for(f=0,h=j.length;f<h;f++){this.names[j[f]]=i}}});Ext.regGesture=function(){return Ext.gesture.Manager.registerType.apply(Ext.gesture.Manager,arguments)};Ext.TouchEventObjectImpl=Ext.extend(Object,{constructor:function(c,d){if(c){this.setEvent(c,d)}},setEvent:function(c,d){Ext.apply(this,{event:c,time:c.timeStamp});this.touches=c.touches||[c];this.changedTouches=c.changedTouches||[c];this.targetTouches=c.targetTouches||[c];if(d){this.target=d.target;Ext.apply(this,d)}else{this.target=c.target}return this},stopEvent:function(){this.stopPropagation();this.preventDefault()},stopPropagation:function(){this.event.stopped=true},preventDefault:function(){this.event.preventDefault()},getTarget:function(d,f,e){if(d){return Ext.fly(this.target).findParent(d,f,e)}else{return e?Ext.get(this.target):this.target}}});Ext.TouchEventObject=new Ext.TouchEventObjectImpl();Ext.gesture.Gesture=Ext.extend(Object,{listenForStart:true,listenForEnd:true,listenForMove:true,disableLocking:false,touches:1,constructor:function(b){b=b||{};Ext.apply(this,b);this.target=Ext.getDom(this.target);this.listeners={};if(!this.target){throw new Error("Trying to bind a "+this.type+" event to element that does'nt exist: "+this.target)}this.id=this.target.id+"-"+this.type;Ext.gesture.Gesture.superclass.constructor.call(this);Ext.gesture.Manager.register(this)},addListener:function(d,c){this.listeners[d]=this.listeners[d]||[];this.listeners[d].push(c)},removeListener:function(e,f){var d=this.listeners[e];if(d){d.remove(f);if(d.length==0){delete this.listeners[e]}for(e in this.listeners){if(this.listeners.hasOwnProperty(e)){return}}this.listeners={}}},fire:function(k,i,h){var l=this.listeners[k],j=l&&l.length,e;if(!this.disableLocking&&this.isLocked(k)){return false}if(j){h=Ext.apply(h||{},{time:i.timeStamp,type:k,gesture:this,target:(i.target.nodeType==3)?i.target.parentNode:i.target});for(e=0;e<j;e++){l[e](i,h)}}return true},stop:function(){Ext.gesture.Manager.stopGesture(this)},lock:function(){if(!this.disableLocking){var e=arguments,f=e.length,d;for(d=0;d<f;d++){Ext.gesture.Manager.locks[e[d]]=this.id}}},unlock:function(){if(!this.disableLocking){var e=arguments,f=e.length,d;for(d=0;d<f;d++){if(Ext.gesture.Manager.locks[e[d]]==this.id){delete Ext.gesture.Manager.locks[e[d]]}}}},isLocked:function(c){var d=Ext.gesture.Manager.locks[c];return !!(d&&d!==this.id)},getLockingGesture:function(c){var d=Ext.gesture.Manager.locks[c];if(d){return Ext.gesture.Manager.get(d)||null}return null},onTouchStart:Ext.emptyFn,onTouchMove:Ext.emptyFn,onTouchEnd:Ext.emptyFn,destroy:function(){this.stop();this.listeners=null;Ext.gesture.Manager.unregister(this)}});Ext.gesture.Touch=Ext.extend(Ext.gesture.Gesture,{handles:["touchstart","touchmove","touchend","touchdown"],touchDownInterval:500,onTouchStart:function(d,c){this.startX=this.previousX=c.pageX;this.startY=this.previousY=c.pageY;this.startTime=this.previousTime=d.timeStamp;this.fire("touchstart",d);this.lastEvent=d;if(this.listeners&&this.listeners.touchdown){this.touchDownIntervalId=setInterval(Ext.createDelegate(this.touchDownHandler,this),this.touchDownInterval)}},onTouchMove:function(d,c){this.fire("touchmove",d,this.getInfo(c));this.lastEvent=d},onTouchEnd:function(b){this.fire("touchend",b,this.lastInfo);clearInterval(this.touchDownIntervalId)},touchDownHandler:function(){this.fire("touchdown",this.lastEvent,this.lastInfo)},getInfo:function(h){var i=Date.now(),f=h.pageX-this.startX,g=h.pageY-this.startY,j={startX:this.startX,startY:this.startY,previousX:this.previousX,previousY:this.previousY,pageX:h.pageX,pageY:h.pageY,deltaX:f,deltaY:g,absDeltaX:Math.abs(f),absDeltaY:Math.abs(g),previousDeltaX:h.pageX-this.previousX,previousDeltaY:h.pageY-this.previousY,time:i,startTime:this.startTime,previousTime:this.previousTime,deltaTime:i-this.startTime,previousDeltaTime:i-this.previousTime};this.previousTime=j.time;this.previousX=j.pageX;this.previousY=j.pageY;this.lastInfo=j;return j}});Ext.regGesture("touch",Ext.gesture.Touch);Ext.gesture.Tap=Ext.extend(Ext.gesture.Gesture,{handles:["tapstart","tapcancel","tap","doubletap","taphold","singletap"],cancelThreshold:10,doubleTapThreshold:800,singleTapThreshold:400,holdThreshold:1000,fireClickEvent:false,onTouchStart:function(d,f){var e=this;e.startX=f.pageX;e.startY=f.pageY;e.fire("tapstart",d,e.getInfo(f));if(this.listeners.taphold){e.timeout=setTimeout(function(){e.fire("taphold",d,e.getInfo(f));delete e.timeout},e.holdThreshold)}e.lastTouch=f},onTouchMove:function(d,f){var e=this;if(e.isCancel(f)){e.fire("tapcancel",d,e.getInfo(f));if(e.timeout){clearTimeout(e.timeout);delete e.timeout}e.stop()}e.lastTouch=f},onTouchEnd:function(f){var e=this,d=e.getInfo(e.lastTouch);this.fireTapEvent(f,d);if(e.lastTapTime&&f.timeStamp-e.lastTapTime<=e.doubleTapThreshold){e.lastTapTime=null;f.preventDefault();e.fire("doubletap",f,d)}else{e.lastTapTime=f.timeStamp}if(e.listeners&&e.listeners.singletap&&e.singleTapThreshold&&!e.preventSingleTap){e.fire("singletap",f,d);e.preventSingleTap=true;setTimeout(function(){e.preventSingleTap=false},e.singleTapThreshold)}if(e.timeout){clearTimeout(e.timeout);delete e.timeout}},fireTapEvent:function(g,h){this.fire("tap",g,h);if(g.event){g=g.event}var e=(g.changedTouches?g.changedTouches[0]:g).target;if(!e.disabled&&this.fireClickEvent){var f=document.createEvent("MouseEvent");f.initMouseEvent("click",g.bubbles,g.cancelable,document.defaultView,g.detail,g.screenX,g.screenY,g.clientX,g.clientY,g.ctrlKey,g.altKey,g.shiftKey,g.metaKey,g.metaKey,g.button,g.relatedTarget);f.isSimulated=true;e.dispatchEvent(f)}},getInfo:function(b){return{pageX:b.pageX,pageY:b.pageY}},isCancel:function(c){var d=this;return(Math.abs(c.pageX-d.startX)>=d.cancelThreshold||Math.abs(c.pageY-d.startY)>=d.cancelThreshold)}});Ext.regGesture("tap",Ext.gesture.Tap);Ext.gesture.Swipe=Ext.extend(Ext.gesture.Gesture,{listenForEnd:false,swipeThreshold:35,swipeTime:1000,onTouchStart:function(d,c){this.startTime=d.timeStamp;this.startX=c.pageX;this.startY=c.pageY;this.lock("scroll","scrollstart","scrollend")},onTouchMove:function(k,j){var e=j.pageY-this.startY,m=j.pageX-this.startX,i=Math.abs(e),n=Math.abs(m),l=k.timeStamp-this.startTime;if(i-n>3||l>this.swipeTime){this.unlock("scroll","scrollstart","scrollend");this.stop()}else{if(n>this.swipeThreshold&&n>i){this.fire("swipe",k,{direction:(m<0)?"left":"right",distance:n,deltaTime:l,deltaX:m});this.stop()}}}});Ext.regGesture("swipe",Ext.gesture.Swipe);Ext.gesture.Drag=Ext.extend(Ext.gesture.Touch,{handles:["dragstart","drag","dragend"],dragThreshold:5,direction:"both",horizontal:false,vertical:false,constructor:function(){Ext.gesture.Drag.superclass.constructor.apply(this,arguments);if(this.direction=="both"){this.horizontal=true;this.vertical=true}else{if(this.direction=="horizontal"){this.horizontal=true}else{this.vertical=true}}return this},onTouchStart:function(d,c){this.startX=this.previousX=c.pageX;this.startY=this.previousY=c.pageY;this.startTime=this.previousTime=d.timeStamp;this.dragging=false},onTouchMove:function(d,f){if(this.isLocked("drag")){return}var e=this.getInfo(f);if(!this.dragging){if(this.isDragging(e)&&this.fire("dragstart",d,e)){this.dragging=true;this.lock("drag","dragstart","dragend")}}else{this.fire("drag",d,e)}},onTouchEnd:function(b){if(this.dragging){this.fire("dragend",b,this.lastInfo)}this.dragging=false},isDragging:function(b){return((this.horizontal&&b.absDeltaX>=this.dragThreshold)||(this.vertical&&b.absDeltaY>=this.dragThreshold))},isVertical:function(){return this.vertical},isHorizontal:function(){return this.horizontal}});Ext.regGesture("drag",Ext.gesture.Drag);Ext.gesture.Pinch=Ext.extend(Ext.gesture.Gesture,{handles:["pinchstart","pinch","pinchend"],touches:2,onTouchStart:function(h){var e=this;if(Ext.supports.Touch&&h.targetTouches.length>=2){e.lock("swipe","scroll","scrollstart","scrollend","touchmove","touchend","touchstart","tap","tapstart","taphold","tapcancel","doubletap");e.pinching=true;var j=h.targetTouches,i=e.firstTouch=j[0],g=e.secondTouch=j[1];e.previousDistance=e.startDistance=e.getDistance();e.previousScale=1;e.fire("pinchstart",h,{distance:e.startDistance,scale:e.previousScale})}else{if(e.pinching){e.unlock("swipe","scroll","scrollstart","scrollend","touchmove","touchend","touchstart","tap","tapstart","taphold","tapcancel","doubletap");e.pinching=false}}},onTouchMove:function(b){if(this.pinching){this.fire("pinch",b,this.getPinchInfo())}},onTouchEnd:function(b){if(this.pinching){this.fire("pinchend",b,this.getPinchInfo())}},getPinchInfo:function(){var g=this,i=g.getDistance(),j=i/g.startDistance,k=g.firstTouch,h=g.secondTouch,l={scale:j,deltaScale:j-1,previousScale:g.previousScale,previousDeltaScale:j-g.previousScale,distance:i,deltaDistance:i-g.startDistance,startDistance:g.startDistance,previousDistance:g.previousDistance,previousDeltaDistance:i-g.previousDistance,firstTouch:k,secondTouch:h,firstPageX:k.pageX,firstPageY:k.pageY,secondPageX:h.pageX,secondPageY:h.pageY,midPointX:(k.pageX+h.pageX)/2,midPointY:(k.pageY+h.pageY)/2};g.previousScale=j;g.previousDistance=i;return l},getDistance:function(){var b=this;return Math.sqrt(Math.pow(Math.abs(b.firstTouch.pageX-b.secondTouch.pageX),2)+Math.pow(Math.abs(b.firstTouch.pageY-b.secondTouch.pageY),2))}});Ext.regGesture("pinch",Ext.gesture.Pinch);Ext.lib.Component=Ext.extend(Ext.util.Observable,{isComponent:true,renderTpl:null,tplWriteMode:"overwrite",baseCls:"x-component",disabledCls:"x-item-disabled",hidden:false,disabled:false,draggable:false,floating:false,styleHtmlContent:false,styleHtmlCls:"x-html",allowDomMove:true,autoShow:false,autoRender:false,needsLayout:false,rendered:false,constructor:function(d){d=d||{};this.initialConfig=d;Ext.apply(this,d);this.addEvents("beforeactivate","activate","beforedeactivate","deactivate","added","disable","enable","beforeshow","show","beforehide","hide","removed","beforerender","render","afterrender","beforedestroy","destroy","resize","move","beforestaterestore","staterestore","beforestatesave","statesave");this.getId();this.mons=[];this.additionalCls=[];this.renderData=this.renderData||{};this.renderSelectors=this.renderSelectors||{};this.initComponent();Ext.ComponentMgr.register(this);Ext.lib.Component.superclass.constructor.call(this);if(this.plugins){this.plugins=[].concat(this.plugins);for(var f=0,e=this.plugins.length;f<e;f++){this.plugins[f]=this.initPlugin(this.plugins[f])}}if(this.applyTo){this.applyToMarkup(this.applyTo);delete this.applyTo}else{if(this.renderTo){this.render(this.renderTo);delete this.renderTo}}if(Ext.isDefined(this.disabledClass)){throw"Component: disabledClass has been deprecated. Please use disabledCls."}},initComponent:Ext.emptyFn,applyToMarkup:Ext.emptyFn,show:Ext.emptyFn,onShow:function(){var b=this.needsLayout;if(Ext.isObject(b)){this.doComponentLayout(b.width,b.height,b.isSetSize)}},initPlugin:function(b){if(b.ptype&&typeof b.init!="function"){b=Ext.PluginMgr.create(b)}else{if(typeof b=="string"){b=Ext.PluginMgr.create({ptype:b})}}b.init(this);return b},render:function(c,d){if(!this.rendered&&this.fireEvent("beforerender",this)!==false){if(this.el){this.el=Ext.get(this.el)}c=this.initContainer(c);this.onRender(c,d);this.fireEvent("render",this);this.initContent();this.afterRender(c);this.fireEvent("afterrender",this);this.initEvents();if(this.autoShow){this.show()}if(this.hidden){this.onHide(false)}if(this.disabled){this.disable(true)}}return this},onRender:function(f,g){var j=this.el,h,i;g=this.getInsertPosition(g);if(!j){if(g){j=Ext.DomHelper.insertBefore(g,this.getElConfig(),true)}else{j=Ext.DomHelper.append(f,this.getElConfig(),true)}}else{if(this.allowDomMove!==false){f.dom.insertBefore(j.dom,g)}}j.addCls(this.initCls());j.setStyle(this.initStyles());h=this.initRenderTpl();if(h){i=this.initRenderData();h.append(j,i)}this.el=j;this.applyRenderSelectors();this.rendered=true},initCls:function(){var b=[this.baseCls];if(this.componentCls){b.push(this.componentCls)}else{this.componentCls=this.baseCls}if(this.cls){b.push(this.cls);delete this.cls}if(this.ui){b.push(this.componentCls+"-"+this.ui)}return b.concat(this.additionalCls)},afterRender:function(){this.getComponentLayout();if(this.x||this.y){this.setPosition(this.x,this.y)}if(this.styleHtmlContent){this.getTargetEl().addCls(this.styleHtmlCls)}if(!this.ownerCt){this.setSize(this.width,this.height)}},getElConfig:function(){return{tag:"div",id:this.id}},getInsertPosition:function(b){if(b!==undefined){if(Ext.isNumber(b)){b=this.container.dom.childNodes[b]}else{b=Ext.getDom(b)}}return b},initContainer:function(b){if(!b&&this.el){b=this.el.dom.parentNode;this.allowDomMove=false}this.container=Ext.get(b);if(this.ctCls){this.container.addCls(this.ctCls)}return this.container},initRenderData:function(){return Ext.applyIf(this.renderData,{baseCls:this.baseCls,componentCls:this.componentCls})},initRenderTpl:function(){var b=this.renderTpl;if(b){if(this.proto.renderTpl!==b){if(Ext.isArray(b)||typeof b==="string"){b=new Ext.XTemplate(b)}}else{if(Ext.isArray(this.proto.renderTpl)){b=this.proto.renderTpl=new Ext.XTemplate(b)}}}return b},initStyles:function(){var k={},h=Ext.Element,l,j,g,i;if(Ext.isString(this.style)){g=this.style.split(";");for(l=0,j=g.length;l<j;l++){if(!Ext.isEmpty(g[l])){i=g[l].split(":");k[Ext.util.Format.trim(i[0])]=Ext.util.Format.trim(i[1])}}}else{k=Ext.apply({},this.style)}if(this.padding!=undefined){k.padding=h.unitizeBox((this.padding===true)?5:this.padding)}if(this.margin!=undefined){k.margin=h.unitizeBox((this.margin===true)?5:this.margin)}if(this.border!=undefined){k.borderWidth=h.unitizeBox((this.border===true)?1:this.border)}delete this.style;return k},initContent:function(){var c=this.getTargetEl();if(this.html){c.update(Ext.DomHelper.markup(this.html));delete this.html}if(this.contentEl){var d=Ext.get(this.contentEl);d.show();c.appendChild(d.dom)}if(this.tpl){if(!this.tpl.isTemplate){this.tpl=new Ext.XTemplate(this.tpl)}if(this.data){this.tpl[this.tplWriteMode](c,this.data);delete this.data}}},initEvents:function(){var f=this.afterRenderEvents,d,e;if(f){for(d in f){if(!f.hasOwnProperty(d)){continue}e=f[d];if(this[d]&&this[d].on){this.mon(this[d],e)}}}},applyRenderSelectors:function(){var d=this.renderSelectors||{},f=this.el.dom,e;for(e in d){if(!d.hasOwnProperty(e)){continue}this[e]=Ext.get(Ext.DomQuery.selectNode(d[e],f))}},is:function(b){return Ext.ComponentQuery.is(this,b)},up:function(c){var d=this.ownerCt;if(c){for(;d;d=d.ownerCt){if(Ext.ComponentQuery.is(d,c)){return d}}}return d},nextSibling:function(c){var j=this.ownerCt,l,k,h,i;if(j){l=j.items;h=l.indexOf(this)+1;if(h){if(c){for(k=l.getCount();h<k;h++){if((i=l.getAt(h)).is(c)){return i}}}else{if(h<l.getCount()){return l.getAt(h)}}}}return null},previousSibling:function(c){var i=this.ownerCt,j,g,h;if(i){j=i.items;g=j.indexOf(this);if(g!=-1){if(c){for(--g;g>=0;g--){if((h=j.getAt(g)).is(c)){return h}}}else{if(g){return j.getAt(--g)}}}}return null},getId:function(){return this.id||(this.id="ext-comp-"+(++Ext.lib.Component.AUTO_ID))},getItemId:function(){return this.itemId||this.id},getEl:function(){return this.el},getTargetEl:function(){return this.el},isXType:function(c,d){if(Ext.isFunction(c)){c=c.xtype}else{if(Ext.isObject(c)){c=c.constructor.xtype}}return !d?("/"+this.getXTypes()+"/").indexOf("/"+c+"/")!=-1:this.constructor.xtype==c},getXTypes:function(){var f=this.constructor,e=[],g=this,h;if(!f.xtypes){while(g){h=g.constructor.xtype;if(h!=undefined){e.unshift(h)}g=g.constructor.superclass}f.xtypeChain=e;f.xtypes=e.join("/")}return f.xtypes},update:function(d,f,e){if(this.tpl&&!Ext.isString(d)){this.data=d;if(this.rendered){this.tpl[this.tplWriteMode](this.getTargetEl(),d||{})}}else{this.html=Ext.isObject(d)?Ext.DomHelper.markup(d):d;if(this.rendered){this.getTargetEl().update(this.html,f,e)}}if(this.rendered){this.doComponentLayout()}},setVisible:function(b){return this[b?"show":"hide"]()},isVisible:function(){var c=!this.hidden,d=this.ownerCt;this.hiddenOwnerCt=false;if(this.destroyed){return false}if(c&&this.rendered&&d){while(d){if(d.hidden||d.collapsed){this.hiddenOwnerCt=d;c=false;break}d=d.ownerCt}}return c},enable:function(b){if(this.rendered){this.el.removeCls(this.disabledCls);this.el.dom.disabled=false;this.onEnable()}this.disabled=false;if(b!==true){this.fireEvent("enable",this)}return this},disable:function(b){if(this.rendered){this.el.addCls(this.disabledCls);this.el.dom.disabled=true;this.onDisable()}this.disabled=true;if(b!==true){this.fireEvent("disable",this)}return this},isDisabled:function(){return this.disabled},setDisabled:function(b){return this[b?"disable":"enable"]()},isHidden:function(){return this.hidden},addCls:function(){var c=this,d=Ext.toArray(arguments);if(c.rendered){c.el.addCls(d)}else{c.additionalCls=c.additionalCls.concat(d)}return c},addClass:function(){throw"Component: addClass has been deprecated. Please use addCls."},removeCls:function(){var c=this,d=Ext.toArray(arguments);if(c.rendered){c.el.removeCls(d)}else{if(c.additionalCls.length){Ext.each(d,function(a){c.additionalCls.remove(a)})}}return c},removeClass:function(){throw"Component: removeClass has been deprecated. Please use removeCls."},addListener:function(g,i,j,h){if(Ext.isString(g)&&(Ext.isObject(i)||h&&h.element)){if(h.element){var k=i,l;i={};i[g]=k;g=h.element;if(j){i.scope=j}for(l in h){if(!h.hasOwnProperty(l)){continue}if(this.eventOptionsRe.test(l)){i[l]=h[l]}}}if(this[g]&&this[g].on){this.mon(this[g],i)}else{this.afterRenderEvents=this.afterRenderEvents||{};this.afterRenderEvents[g]=i}}return Ext.lib.Component.superclass.addListener.apply(this,arguments)},getBubbleTarget:function(){return this.ownerCt},isFloating:function(){return this.floating},isDraggable:function(){return !!this.draggable},isDroppable:function(){return !!this.droppable},onAdded:function(d,c){this.ownerCt=d;this.fireEvent("added",this,d,c)},onRemoved:function(){this.fireEvent("removed",this,this.ownerCt);delete this.ownerCt},onEnable:Ext.emptyFn,onDisable:Ext.emptyFn,beforeDestroy:Ext.emptyFn,onResize:Ext.emptyFn,setSize:function(d,e){if(Ext.isObject(d)){e=d.height;d=d.width}if(!this.rendered||!this.isVisible()){if(this.hiddenOwnerCt){var f=this.hiddenOwnerCt.layoutOnShow;f.remove(this);f.add(this)}this.needsLayout={width:d,height:e,isSetSize:true};if(!this.rendered){this.width=(d!==undefined)?d:this.width;this.height=(e!==undefined)?e:this.height}return this}this.doComponentLayout(d,e,true);return this},setCalculatedSize:function(d,e){if(Ext.isObject(d)){e=d.height;d=d.width}if(!this.rendered||!this.isVisible()){if(this.hiddenOwnerCt){var f=this.hiddenOwnerCt.layoutOnShow;f.remove(this);f.add(this)}this.needsLayout={width:d,height:e,isSetSize:false};return this}this.doComponentLayout(d,e);return this},doComponentLayout:function(g,f,e){var h=this.getComponentLayout();if(this.rendered&&h){g=(g!==undefined||this.collapsed===true)?g:this.width;f=(f!==undefined||this.collapsed===true)?f:this.height;if(e){this.width=g;this.height=f}h.layout(g,f)}return this},setComponentLayout:function(c){var d=this.componentLayout;if(d&&d.isLayout&&d!=c){d.setOwner(null)}this.componentLayout=c;c.setOwner(this)},getComponentLayout:function(){if(!this.componentLayout||!this.componentLayout.isLayout){this.setComponentLayout(Ext.layout.LayoutManager.create(this.componentLayout,"autocomponent"))}return this.componentLayout},afterComponentLayout:Ext.emptyFn,setPosition:function(d,c){if(Ext.isObject(d)){c=d.y;d=d.x}if(!this.rendered){return this}if(d!==undefined||c!==undefined){this.el.setBox(d,c);this.onPosition(d,c);this.fireEvent("move",this,d,c)}return this},onPosition:Ext.emptyFn,setWidth:function(b){return this.setSize(b)},setHeight:function(b){return this.setSize(undefined,b)},getSize:function(){return this.el.getSize()},getWidth:function(){return this.el.getWidth()},getHeight:function(){return this.el.getHeight()},setLoading:function(d,c){if(this.rendered){if(d){this.loadMask=this.loadMask||new Ext.LoadMask(c?this.getTargetEl():this.el,Ext.applyIf(Ext.isObject(d)?d:{}));this.loadMask.show()}else{Ext.destroy(this.loadMask);this.loadMask=null}}return this.loadMask},setDocked:function(d,c){this.dock=d;if(c&&this.ownerCt&&this.rendered){this.ownerCt.doComponentLayout()}return this},onDestroy:function(){if(this.monitorResize&&Ext.EventManager.resizeEvent){Ext.EventManager.resizeEvent.removeListener(this.setSize,this)}Ext.destroy(this.componentLayout,this.loadMask)},destroy:function(){if(!this.isDestroyed){if(this.fireEvent("beforedestroy",this)!==false){this.destroying=true;this.beforeDestroy();if(this.ownerCt&&this.ownerCt.remove){this.ownerCt.remove(this,false)}if(this.rendered){this.el.remove()}this.onDestroy();Ext.ComponentMgr.unregister(this);this.fireEvent("destroy",this);this.clearListeners();this.destroying=false;this.isDestroyed=true}}}});Ext.lib.Component.prototype.on=Ext.lib.Component.prototype.addListener;Ext.lib.Component.prototype.prev=Ext.lib.Component.prototype.previousSibling;Ext.lib.Component.prototype.next=Ext.lib.Component.prototype.nextSibling;Ext.lib.Component.AUTO_ID=1000;Ext.Component=Ext.extend(Ext.lib.Component,{});Ext.reg("component",Ext.Component);Ext.Component=Ext.extend(Ext.lib.Component,{showAnimation:null,monitorOrientation:false,floatingCls:"x-floating",hideOnMaskTap:true,stopMaskTapEvent:true,centered:false,modal:false,fullscreen:false,layoutOnOrientationChange:null,initComponent:function(){this.addEvents("beforeorientationchange","orientationchange");if(this.fullscreen||this.floating){this.monitorOrientation=true;this.autoRender=true}if(this.fullscreen){var b=Ext.Viewport.getSize();this.width=b.width;this.height=b.height;this.cls=(this.cls||"")+" x-fullscreen";this.renderTo=document.body}},onRender:function(){Ext.Component.superclass.onRender.apply(this,arguments);if(this.monitorOrientation){this.el.addCls("x-"+Ext.Viewport.orientation)}if(this.floating){this.setFloating(true)}if(this.draggable){this.setDraggable(this.draggable)}if(this.scroll){this.setScrollable(this.scroll)}},afterRender:function(){if(this.fullscreen){this.layoutOrientation(Ext.Viewport.orientation,this.width,this.height)}Ext.Component.superclass.afterRender.call(this)},initEvents:function(){Ext.Component.superclass.initEvents.call(this);if(this.monitorOrientation){Ext.EventManager.onOrientationChange(this.setOrientation,this)}},afterComponentLayout:function(){var f=this.scrollEl,e=this.scroller,d;if(f){d=f.parent();if(e.horizontal){f.setStyle("min-width",d.getWidth(true)+"px");f.setHeight(d.getHeight(true)||null)}if(e.vertical){f.setStyle("min-height",d.getHeight(true)+"px");f.setWidth(d.getWidth(true)||null)}e.updateBoundary(true)}if(this.fullscreen&&Ext.is.iPad){Ext.repaint()}},layoutOrientation:Ext.emptyFn,update:function(){Ext.Component.superclass.update.apply(this,arguments);var b=this.scroller;if(b&&b.updateBoundary){b.updateBoundary(true)}},show:function(d){var c=this.rendered;if((this.hidden||!c)&&this.fireEvent("beforeshow",this)!==false){if(this.anchorEl){this.anchorEl.hide()}if(!c&&this.autoRender){this.render(Ext.isBoolean(this.autoRender)?Ext.getBody():this.autoRender)}this.hidden=false;if(this.rendered){this.onShow(d);this.fireEvent("show",this)}}return this},showBy:function(e,h,g,f){if(!this.floating){return this}if(e.isComponent){e=e.el}else{e=Ext.get(e)}this.x=0;this.y=0;this.show(h);if(f!==false){if(!this.anchorEl){this.anchorEl=this.el.createChild({cls:"x-anchor"})}this.anchorEl.show()}this.alignTo(e,g,20)},alignTo:function(F,G,E){var J=F.getPageBox(),u={width:window.innerWidth,height:window.innerHeight},z=this.getSize(),K={width:Math.min(z.width,u.width),height:Math.min(z.height,u.height)},t,B=2,H=["tl-bl","t-b","tr-br","l-r","l-r","r-l","bl-tl","b-t","br-tr"],v=this.anchorEl,D=[0,E],C,I,A=false,x=[0,0],w=J.left+(J.width/2),y=J.top+(J.height/2);if(w<=u.width*(1/3)){B=1;x[0]=25}else{if(w>=u.width*(2/3)){B=3;x[0]=-30}}if(y>=u.height*(2/3)){B+=6;D=[0,-E];x[1]=-10}else{if(G!==false&&y>=u.height*(1/3)){B+=3;D=(B<=5)?[E,0]:[-E,0];x=(B<=5)?[10,0]:[-10,0];A=true}else{x[1]=10}}t=H[B-1];C=this.el.getAlignToXY(F,t,D);if(A){if(C[0]<0){K.width=J.left-E}else{if(C[0]+K.width>u.width){K.width=u.width-J.right-E}}}else{if(C[1]<0){K.height=J.top-E}else{if(C[1]+K.height>u.height){K.height=u.height-J.bottom-E}}}if(K.width!=z.width){this.setSize(K.width)}else{if(K.height!=z.height){this.setSize(undefined,K.height)}}C=this.el.getAlignToXY(F,t,D);this.setPosition(C[0],C[1]);if(v){v.removeCls(["x-anchor-bottom","x-anchor-left","x-anchor-right","x-anchor-top"]);if(D[1]==E){I="x-anchor-top"}else{if(D[1]==-E){I="x-anchor-bottom"}else{if(D[0]==E){I="x-anchor-left"}else{I="x-anchor-right"}}}C=v.getAlignToXY(F,t,x);v.setXY(C);v.addCls(I)}return t},setCentered:function(e,g){this.centered=e;if(this.rendered&&g){var f,h;if(!this.ownerCt){f=(Ext.Element.getViewportWidth()/2)-(this.getWidth()/2);h=(Ext.Element.getViewportHeight()/2)-(this.getHeight()/2)}else{f=(this.ownerCt.getTargetEl().getWidth()/2)-(this.getWidth()/2);h=(this.ownerCt.getTargetEl().getHeight()/2)-(this.getHeight()/2)}this.setPosition(f,h)}return this},hide:function(b){if(!this.hidden&&this.fireEvent("beforehide",this)!==false){this.hidden=true;if(this.rendered){this.onHide(b,true)}}return this},onShow:function(b){this.el.show();Ext.Component.superclass.onShow.call(this,b);if(b===undefined||b===true){b=this.showAnimation}if(this.floating){this.el.dom.parentNode||this.el.appendTo(document.body);if(b){this.el.setStyle("opacity",0.01)}if(this.centered){this.setCentered(true,true)}else{this.setPosition(this.x,this.y)}if(this.modal){this.el.parent().mask(null,"x-mask-gray")}if(this.hideOnMaskTap){Ext.getDoc().on("touchstart",this.onFloatingTouchStart,this,{capture:true,subsequent:true})}}if(b){Ext.Anim.run(this,b,{out:false,autoClear:true});this.showAnimation=b}},onFloatingTouchStart:function(b){if(!this.el.contains(b.target)){this.hide();if(this.stopMaskTapEvent||Ext.fly(b.target).hasCls("x-mask")){b.stopEvent()}}},onHide:function(c,d){if(c===undefined||c===true){c=this.showAnimation}if(this.hideOnMaskTap&&this.floating){Ext.getDoc().un("touchstart",this.onFloatingTouchStart,this,{capture:true,subsequent:true})}if(c){Ext.Anim.run(this,c,{out:true,reverse:true,autoClear:true,scope:this,fireHideEvent:d,after:this.doHide})}else{this.doHide(null,{fireHideEvent:d})}},doHide:function(f,e){var d=this.el.parent();this.el.hide();if(d&&this.floating&&this.modal){d.unmask()}if(e&&e.fireHideEvent){this.fireEvent("hide",this)}},setScrollable:function(d){if(!this.rendered){this.scroll=d;return}Ext.destroy(this.scroller);this.scroller=null;if(d!==false){var c=Ext.isObject(d)?d.direction:d;d=Ext.apply({},Ext.isObject(d)?d:{},{direction:c});if(!this.scrollEl){this.scrollEl=this.getTargetEl().createChild();this.originalGetTargetEl=this.getTargetEl;this.getTargetEl=function(){return this.scrollEl}}this.scroller=(new Ext.util.ScrollView(this.scrollEl,d)).scroller}else{this.getTargetEl=this.originalGetTargetEl}},setFloating:function(c,d){this.floating=!!c;this.hidden=true;if(this.rendered){if(c!==false){this.el.addCls(this.floatingCls);if(d){this.show()}}else{this.el.removeCls(this.floatingCls);Ext.getDoc().un("touchstart",this.onFloatingTouchStart,this)}}else{if(c!==false){if(this.layoutOnOrientationChange!==false){this.layoutOnOrientationChange=true}this.autoRender=true}}},setDraggable:function(d,c){this.isDraggable=d;if(this.rendered){if(d===false){if(this.dragObj){this.dragObj.disable()}}else{if(c){this.show()}if(this.dragObj){this.dragObj.enable()}else{this.dragObj=new Ext.util.Draggable(this.el,Ext.apply({},this.draggable||{}));this.relayEvents(this.dragObj,["dragstart","beforedragend","drag","dragend"])}}}},setOrientation:function(d,e,f){if(this.fireEvent("beforeorientationchange",this,d,e,f)!==false){if(this.orientation!=d){this.el.removeCls("x-"+this.orientation);this.el.addCls("x-"+d)}this.orientation=d;this.layoutOrientation(d,e,f);if(this.fullscreen){this.setSize(e,f)}else{if(this.layoutOnOrientationChange){this.doComponentLayout()}}if(this.floating&&this.centered){this.setCentered(true,true)}this.onOrientationChange(d,e,f);this.fireEvent("orientationchange",this,d,e,f)}},onOrientationChange:Ext.emptyFn,beforeDestroy:function(){if(this.floating&&this.modal&&!this.hidden){this.el.parent().unmask()}Ext.destroy(this.scroller);Ext.Component.superclass.beforeDestroy.call(this)},onDestroy:function(){if(this.monitorOrientation&&Ext.EventManager.orientationEvent){Ext.EventManager.orientationEvent.removeListener(this.setOrientation,this)}Ext.Component.superclass.onDestroy.call(this)}});Ext.BoxComponent=Ext.Component;Ext.reg("component",Ext.Component);Ext.reg("box",Ext.BoxComponent);Ext.lib.Container=Ext.extend(Ext.Component,{autoDestroy:true,defaultType:"panel",isContainer:true,baseCls:"x-container",bubbleEvents:["add","remove"],initComponent:function(){this.addEvents("afterlayout","beforeadd","beforeremove","add","remove","beforecardswitch","cardswitch");this.layoutOnShow=new Ext.util.MixedCollection();Ext.lib.Container.superclass.initComponent.call(this);this.initItems()},initItems:function(){var b=this.items;this.items=new Ext.util.MixedCollection(false,this.getComponentId);if(b){if(!Ext.isArray(b)){b=[b]}this.add(b)}},afterRender:function(){this.getLayout();Ext.lib.Container.superclass.afterRender.apply(this,arguments)},setLayout:function(c){var d=this.layout;if(d&&d.isLayout&&d!=c){d.setOwner(null)}this.layout=c;c.setOwner(this)},getLayout:function(){if(!this.layout||!this.layout.isLayout){this.setLayout(Ext.layout.LayoutManager.create(this.layout,"autocontainer"))}return this.layout},doLayout:function(){var b=this.getLayout();if(this.rendered&&b){b.layout()}return this},afterLayout:function(b){this.fireEvent("afterlayout",this,b)},prepareItems:function(g,j){if(!Ext.isArray(g)){g=[g]}var h,f,i;for(f=0,i=g.length;f<i;f++){h=g[f];if(j){h=this.applyDefaults(h)}g[f]=this.lookupComponent(h)}return g},applyDefaults:function(d){var c=this.defaults;if(c){if(Ext.isFunction(c)){c=c.call(this,d)}if(Ext.isString(d)){d=Ext.ComponentMgr.get(d);Ext.apply(d,c)}else{if(!d.isComponent){Ext.applyIf(d,c)}else{Ext.apply(d,c)}}}return d},lookupComponent:function(b){if(Ext.isString(b)){return Ext.ComponentMgr.get(b)}else{return this.createComponent(b)}return b},createComponent:function(d,c){if(d.isComponent){return d}return Ext.create(d,c||this.defaultType)},getComponentId:function(b){return b.getItemId()},add:function(){var m=Array.prototype.slice.call(arguments),o=-1;if(typeof m[0]=="number"){o=m.shift()}var s=m.length>1;if(s||Ext.isArray(m[0])){var l=s?m:m[0],q=[],p,n,i;for(p=0,n=l.length;p<n;p++){i=l[p];if(!i){throw"Trying to add a null item as a child of Container with itemId/id: "+this.getItemId()}if(o!=-1){i=this.add(o+p,i)}else{i=this.add(i)}q.push(i)}return q}var k=this.prepareItems(m[0],true)[0];o=(o!==-1)?o:this.items.length;if(this.fireEvent("beforeadd",this,k,o)!==false&&this.onBeforeAdd(k)!==false){this.items.insert(o,k);k.onAdded(this,o);this.onAdd(k,o);this.fireEvent("add",this,k,o)}return k},onAdd:Ext.emptyFn,onRemove:Ext.emptyFn,insert:function(c,d){return this.add(c,d)},onBeforeAdd:function(b){if(b.ownerCt){b.ownerCt.remove(b,false)}if(this.hideBorders===true){b.border=(b.border===true)}},remove:function(e,c){var f=this.getComponent(e);if(!f){console.warn("Attempted to remove a component that does not exist. Ext.Container: remove takes an argument of the component to remove. cmp.remove() is incorrect usage.")}if(f&&this.fireEvent("beforeremove",this,f)!==false){this.doRemove(f,c);this.fireEvent("remove",this,f)}return f},doRemove:function(h,e){var g=this.layout,f=g&&this.rendered;this.items.remove(h);h.onRemoved();if(f){g.onRemove(h)}this.onRemove(h,e);if(e===true||(e!==false&&this.autoDestroy)){h.destroy()}if(f&&!e){g.afterRemove(h)}},removeAll:function(g){var i,k=this.items.items.slice(),h=[],j=k.length,l;for(l=0;l<j;l++){i=k[l];this.remove(i,g);if(i.ownerCt!==this){h.push(i)}}return h},getRefItems:function(g){var f=this.items.items.slice(),h=f.length,j,i;if(g){for(j=0;j<h;j++){i=f[j];if(i.getRefItems){f=f.concat(i.getRefItems(true))}}}return f},getComponent:function(b){if(Ext.isObject(b)){b=b.getItemId()}return this.items.get(b)},query:function(b){return Ext.ComponentQuery.query(b,this)},child:function(b){return this.query("> "+b)[0]||null},down:function(b){return this.query(b)[0]||null},show:function(){Ext.lib.Container.superclass.show.apply(this,arguments);var h=this.layoutOnShow,i=h.getCount(),f=0,g,j;for(;f<i;f++){j=h.get(f);g=j.needsLayout;if(Ext.isObject(g)){j.doComponentLayout(g.width,g.height,g.isSetSize)}}h.clear()},beforeDestroy:function(){var d=this.items,c;if(d){while((c=d.first())){this.doRemove(c,true)}}Ext.destroy(this.layout);Ext.lib.Container.superclass.beforeDestroy.call(this)}});Ext.Container=Ext.extend(Ext.lib.Container,{});Ext.reg("container",Ext.Container);Ext.Container=Ext.extend(Ext.lib.Container,{cardSwitchAnimation:null,initComponent:function(){if(this.scroll){this.fields=new Ext.util.MixedCollection();this.fields.on({add:this.onFieldAdd,remove:this.onFieldRemove,scope:this});this.on({add:this.onItemAdd,remove:this.onItemRemove,scope:this})}Ext.Container.superclass.initComponent.apply(this,arguments)},afterRender:function(){Ext.Container.superclass.afterRender.apply(this,arguments);if(this.scroller){if(Ext.is.Android&&this.containsFormFields){this.scroller.setUseCssTransform(false)}this.scroller.on("scrollstart",this.onFieldScrollStart,this)}},onFieldScrollStart:function(){var b=this.focusedField;if(b&&Ext.is.iOS){b.blur()}},onItemAdd:function(c,d){this.fields.addAll(Ext.ComponentQuery.query("[isField]",d))},onItemRemove:function(c,d){this.fields.removeAll(Ext.ComponentQuery.query("[isField]",d))},onFieldAdd:function(d,c){this.handleFieldEventListener(true,c)},onFieldRemove:function(d,c){this.handleFieldEventListener(false,c)},handleFieldEventListener:function(c,d){if(!this.fieldEventWrap){this.fieldEventWrap={}}if(["textfield","passwordfield","emailfield","textareafield","searchfield","urlfield","numberfield","spinnerfield"].indexOf(d.xtype)!==-1){if(c){this.fieldEventWrap[d.id]={beforefocus:function(a){this.onFieldBeforeFocus(d,a)},focus:function(a){this.onFieldFocus(d,a)},blur:function(a){this.onFieldBlur(d,a)},keyup:function(a){this.onFieldKeyUp(d,a)},scope:this};this.containsFormFields=true}d[c?"on":"un"](this.fieldEventWrap[d.id]);if(!c){delete this.fieldEventWrap[d.id]}}},onFieldKeyUp:function(c,d){this.resetLastWindowScroll()},onFieldBeforeFocus:function(c,d){this.focusingField=c},getLastWindowScroll:function(){if(!this.lastWindowScroll){this.resetLastWindowScroll()}return{x:this.lastWindowScroll.x,y:this.lastWindowScroll.y}},resetLastWindowScroll:function(){this.lastWindowScroll={x:window.pageXOffset,y:window.pageYOffset}},adjustScroller:function(d){var e=this.getClosestScroller(),f=this.getLastWindowScroll();e.setOffset(d);if(Ext.is.iOS){window.scrollTo(f.x,f.y)}this.resetLastWindowScroll()},onFieldFocus:function(o,p){var q=this.getClosestScroller(),n=Ext.util.Region.from(q.containerBox),e=o.fieldEl.getPageBox(true);if(this.focusingField==o||!Ext.is.iOS){if(Ext.is.iOS&&window.pageYOffset==0){window.scrollTo(0,0)}var m=new Ext.util.Offset();if(e.left<n.left){m.x=n.left-e.left}if(e.top<n.top){m.y=n.top-e.top}if(!m.isZero()){var l=this.getLastWindowScroll();q.scrollBy(m);if(Ext.is.iOS){window.scrollTo(l.x,l.y)}this.resetLastWindowScroll()}}else{if(this.lastFocusedField){var u=e.top-this.lastFocusedField.fieldEl.getY(),t=q.offset.y-u,s=false;if(!n.contains(e)&&(t!=0||(t==0&&q.offset.y!=0))){s=true}if(t>0){t=0}if(s){this.adjustScroller(new Ext.util.Offset(q.offset.x,t))}}}this.resetLastWindowScroll();this.lastFocusedField=o;this.focusedField=o;this.focusingField=null},getClosestScroller:function(){if(!this.closestScroller){this.closestScroller=this.scroller||this.el.getScrollParent()}return this.closestScroller},onFieldBlur:function(c,d){if(this.focusingField==c){this.focusingField=null}if(this.focusedField==c){this.focusedField=null}},afterLayout:function(b){if(this.floating&&this.centered){this.setCentered(true,true)}if(this.scroller){this.scroller.updateBoundary()}Ext.Container.superclass.afterLayout.call(this,b)},getActiveItem:function(){if(this.layout&&this.layout.type=="card"){return this.layout.activeItem}else{return null}},setActiveItem:function(d,c){this.layout.setActiveItem(d,c);return this},onBeforeCardSwitch:function(f,h,e,g){return this.fireEvent("beforecardswitch",this,f,h,e,g)},onCardSwitch:function(f,h,e,g){return this.fireEvent("cardswitch",this,f,h,e,g)},disable:function(){Ext.Container.superclass.disable.call(this);this.el.mask(null,"x-mask-gray")},enable:function(){Ext.Container.superclass.enable.call(this);this.el.unmask()}});Ext.reg("container",Ext.Container);Ext.lib.Panel=Ext.extend(Ext.Container,{baseCls:"x-panel",isPanel:true,componentLayout:"dock",renderTpl:['<div class="{baseCls}-body<tpl if="bodyCls"> {bodyCls}</tpl>"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>></div>'],initComponent:function(){this.addEvents("bodyresize");Ext.applyIf(this.renderSelectors,{body:"."+this.baseCls+"-body"});Ext.lib.Panel.superclass.initComponent.call(this)},initItems:function(){Ext.lib.Panel.superclass.initItems.call(this);var b=this.dockedItems;this.dockedItems=new Ext.util.MixedCollection(false,this.getComponentId);if(b){this.addDocked(b)}},getDockedComponent:function(b){if(Ext.isObject(b)){b=b.getItemId()}return this.dockedItems.get(b)},getComponent:function(d){var c=Ext.lib.Panel.superclass.getComponent.call(this,d);if(c==undefined){c=this.getDockedComponent(d)}return c},initBodyStyles:function(){var d=Ext.isString(this.bodyStyle)?this.bodyStyle.split(";"):[],c=Ext.Element;if(this.bodyPadding!=undefined){d.push("padding: "+c.unitizeBox((this.bodyPadding===true)?5:this.bodyPadding))}if(this.bodyMargin!=undefined){d.push("margin: "+c.unitizeBox((this.bodyMargin===true)?5:this.bodyMargin))}if(this.bodyBorder!=undefined){d.push("border-width: "+c.unitizeBox((this.bodyBorder===true)?1:this.bodyBorder))}delete this.bodyStyle;return d.length?d.join(";"):undefined},initRenderData:function(){return Ext.applyIf(Ext.lib.Panel.superclass.initRenderData.call(this),{bodyStyle:this.initBodyStyles(),bodyCls:this.bodyCls})},addDocked:function(g,h){g=this.prepareItems(g);var i,f,j;for(f=0,j=g.length;f<j;f++){i=g[f];i.dock=i.dock||"top";if(h!==undefined){this.dockedItems.insert(h+f,i)}else{this.dockedItems.add(i)}i.onAdded(this,f);this.onDockedAdd(i)}if(this.rendered){this.doComponentLayout()}},onDockedAdd:Ext.emptyFn,onDockedRemove:Ext.emptyFn,insertDocked:function(c,d){this.addDocked(d,c)},removeDocked:function(g,e){if(!this.dockedItems.contains(g)){return g}var h=this.componentLayout,f=h&&this.rendered;if(f){h.onRemove(g)}this.dockedItems.remove(g);g.onRemoved();this.onDockedRemove(g);if(e===true||(e!==false&&this.autoDestroy)){g.destroy()}if(f&&!e){h.afterRemove(g)}this.doComponentLayout();return g},getDockedItems:function(){if(this.dockedItems&&this.dockedItems.items.length){return this.dockedItems.items.slice()}return[]},getTargetEl:function(){return this.body},getRefItems:function(h){var i=Ext.lib.Panel.superclass.getRefItems.call(this,h),l=this.getDockedItems(),j=l.length,g=0,k;i=i.concat(l);if(h){for(;g<j;g++){k=l[g];if(k.getRefItems){i=i.concat(k.getRefItems(true))}}}return i},beforeDestroy:function(){var c=this.dockedItems,d;if(c){while((d=c.first())){this.removeDocked(d,true)}}Ext.lib.Panel.superclass.beforeDestroy.call(this)}});Ext.Panel=Ext.extend(Ext.lib.Panel,{});Ext.reg("panel",Ext.Panel);Ext.Panel=Ext.extend(Ext.lib.Panel,{scroll:false});Ext.reg("panel",Ext.Panel);Ext.Button=Ext.extend(Ext.Component,{initComponent:function(){this.addEvents("tap","beforetap");Ext.Button.superclass.initComponent.call(this);this.createAutoHandler()},iconAlign:"left",baseCls:"x-button",pressedCls:"x-button-pressed",badgeText:"",badgeCls:"x-badge",hasBadgeCls:"x-hasbadge",labelCls:"x-button-label",ui:"normal",isButton:true,pressedDelay:0,iconMaskCls:"x-icon-mask",iconMask:false,afterRender:function(n,i){var l=this;Ext.Button.superclass.afterRender.call(l,n,i);var j=l.text,m=l.icon,h=l.iconCls,k=l.badgeText;l.text=l.icon=l.iconCls=l.badgeText=null;l.setText(j);l.setIcon(m);l.setIconClass(h);if(l.iconMask&&l.iconEl){l.iconEl.addCls(l.iconMaskCls)}l.setBadge(k)},initEvents:function(){var b=this;Ext.Button.superclass.initEvents.call(b);b.mon(b.el,{scope:b,tap:b.onPress,tapstart:b.onTapStart,tapcancel:b.onTapCancel})},onTapStart:function(){var b=this;if(!b.disabled){if(b.pressedDelay){b.pressedTimeout=setTimeout(function(){b.el.addCls(b.pressedCls)},Ext.isNumber(b.pressedDelay)?b.pressedDelay:100)}else{b.el.addCls(b.pressedCls)}}},onTapCancel:function(){var b=this;if(b.pressedTimeout){clearTimeout(b.pressedTimeout);delete b.pressedTimeout}b.el.removeCls(b.pressedCls)},setHandler:function(c,d){this.handler=c;this.scope=d;return this},setText:function(c){var d=this;if(d.rendered){if(!d.textEl&&c){d.textEl=d.el.createChild({tag:"span",html:c,cls:this.labelCls})}else{if(d.textEl&&c!=d.text){if(c){d.textEl.setHTML(c)}else{d.textEl.remove();d.textEl=null}}}}d.text=c;return d},setIcon:function(d){var c=this;if(c.rendered){if(!c.iconEl&&d){c.iconEl=c.el.createChild({tag:"img",src:Ext.BLANK_IMAGE_URL,style:"background-image: "+(d?"url("+d+")":"")});c.setIconAlign(c.iconAlign)}else{if(c.iconEl&&d!=c.icon){if(d){c.iconEl.setStyle("background-image",d?"url("+d+")":"");c.setIconAlign(c.iconAlign)}else{c.setIconAlign(false);c.iconEl.remove();c.iconEl=null}}}}c.icon=d;return c},setIconClass:function(d){var c=this;if(c.rendered){if(!c.iconEl&&d){c.iconEl=c.el.createChild({tag:"img",src:Ext.BLANK_IMAGE_URL,cls:d});c.setIconAlign(c.iconAlign)}else{if(c.iconEl&&d!=c.iconCls){if(d){if(c.iconCls){c.iconEl.removeCls(c.iconCls)}c.iconEl.addCls(d);c.setIconAlign(c.iconAlign)}else{c.setIconAlign(false);c.iconEl.remove();c.iconEl=null}}}}c.iconCls=d;return c},setIconAlign:function(g){var h=this,f=["top","right","bottom","left"],g=((f.indexOf(g)==-1||!g)&&g!==false)?h.iconAlign:g,e;if(h.rendered&&h.iconEl){h.el.removeCls("x-iconalign-"+h.iconAlign);if(g){h.el.addCls("x-iconalign-"+g)}}h.iconAlign=(g===false)?h.iconAlign:g;return h},setBadge:function(c){var d=this;if(d.rendered){if(!d.badgeEl&&c){d.badgeEl=d.el.createChild({tag:"span",cls:d.badgeCls,html:c});d.el.addCls(d.hasBadgeCls)}else{if(d.badgeEl&&c!=d.badgeText){if(c){d.badgeEl.setHTML(c);d.el.addCls(d.hasBadgeCls)}else{d.badgeEl.remove();d.badgeEl=null;d.el.removeCls(d.hasBadgeCls)}}}}d.badgeText=c;return d},getText:function(){return this.text},getBadgeText:function(){return this.badgeText},onDisable:function(){this.onDisableChange(true)},onEnable:function(){this.onDisableChange(false)},onDisableChange:function(d){var c=this;if(c.el){c.el[d?"addCls":"removeCls"](c.disabledCls);c.el.dom.disabled=d}c.disabled=d},onPress:function(c){var d=this;if(!d.disabled&&this.fireEvent("beforetap")!==false){setTimeout(function(){if(!d.preventCancel){d.onTapCancel()}d.callHandler(c);d.fireEvent("tap",d,c)},10)}},callHandler:function(c){var d=this;if(d.handler){d.handler.call(d.scope||d,d,c)}},createAutoHandler:function(){var d=this,c=d.autoEvent;if(c){if(typeof c=="string"){c={name:c,scope:d.scope||d}}d.addEvents(c.name);d.setHandler(function(){c.scope.fireEvent(c.name,c.scope,d)},c.scope)}}});Ext.reg("button",Ext.Button);Ext.SegmentedButton=Ext.extend(Ext.Container,{defaultType:"button",componentCls:"x-segmentedbutton",pressedCls:"x-button-pressed",allowMultiple:false,initComponent:function(){this.layout=Ext.apply({},this.layout||{},{type:"hbox",align:"stretch"});Ext.SegmentedButton.superclass.initComponent.call(this);if(this.allowDepress===undefined){this.allowDepress=this.allowMultiple}this.addEvents("toggle")},initEvents:function(){Ext.SegmentedButton.superclass.initEvents.call(this);this.mon(this.el,{tap:this.onTap,capture:true,scope:this})},afterLayout:function(c){var d=this;Ext.SegmentedButton.superclass.afterLayout.call(d,c);if(!d.initialized){d.items.each(function(a,b){d.setPressed(a,!!a.pressed,true)});if(d.allowMultiple){d.pressedButtons=d.getPressedButtons()}d.initialized=true}},onTap:function(c,d){if(!this.disabled&&(d=c.getTarget(".x-button"))){this.setPressed(d.id,this.allowDepress?undefined:true)}},getPressed:function(){return this.allowMultiple?this.getPressedButtons():this.pressedButton},setPressed:function(f,g,e){var h=this;f=h.getComponent(f);if(!f||!f.isButton||f.disabled){if(!h.allowMultiple&&h.pressedButton){h.setPressed(h.pressedButton,false)}return}if(!Ext.isBoolean(g)){g=!f.pressed}if(g){if(!h.allowMultiple){if(h.pressedButton&&h.pressedButton!==f){h.pressedButton.el.removeCls(h.pressedCls);h.pressedButton.pressed=false;if(e!==true){h.fireEvent("toggle",h,h.pressedButton,false)}}h.pressedButton=f}f.el.addCls(h.pressedCls);f.pressed=true;f.preventCancel=true;if(h.initialized&&e!==true){h.fireEvent("toggle",h,f,true)}}else{if(!g){if(!h.allowMultiple&&f===h.pressedButton){h.pressedButton=null}if(f.pressed){f.el.removeCls(h.pressedCls);f.pressed=false;if(e!==true){h.fireEvent("toggle",h,f,false)}}}}if(h.allowMultiple&&h.initialized){h.pressedButtons=h.getPressedButtons()}},getPressedButtons:function(c){var d=this.items.filterBy(function(a){return a.isButton&&!a.disabled&&a.pressed});return d.items},disable:function(){this.items.each(function(b){b.disable()});Ext.SegmentedButton.superclass.disable.apply(this,arguments)},enable:function(){this.items.each(function(b){b.enable()},this);Ext.SegmentedButton.superclass.enable.apply(this,arguments)}});Ext.reg("segmentedbutton",Ext.SegmentedButton);Ext.AbstractStoreSelectionModel=Ext.extend(Ext.util.Observable,{allowDeselect:false,selected:null,constructor:function(b){b=b||{};Ext.apply(this,b);this.modes={SINGLE:true,SIMPLE:true,MULTI:true};this.setSelectionMode(b.mode);this.selected=new Ext.util.MixedCollection();Ext.AbstractStoreSelectionModel.superclass.constructor.call(this,b)},bind:function(d,c){if(!c&&this.store){if(d!==this.store&&this.store.autoDestroy){this.store.destroy()}else{this.store.un("add",this.onStoreAdd,this);this.store.un("clear",this.onStoreClear,this);this.store.un("remove",this.onStoreRemove,this);this.store.un("update",this.onStoreUpdate,this)}}if(d){d=Ext.StoreMgr.lookup(d);d.on({add:this.onStoreAdd,clear:this.onStoreClear,remove:this.onStoreRemove,update:this.onStoreUpdate,scope:this})}this.store=d;if(d&&!c){this.refresh()}},selectAll:function(f){var h=this.store.getRange();for(var e=0,g=h.length;e<g;e++){this.doSelect(h[e],true,f)}},deselectAll:function(){var d=this.getSelection();for(var e=0,f=d.length;e<f;e++){this.doDeselect(d[e])}},selectWithEvent:function(d,c){switch(this.selectionMode){case"MULTI":if(c.ctrlKey&&this.isSelected(d)){this.doDeselect(d,false)}else{if(c.shiftKey&&this.lastFocused){this.selectRange(this.lastFocused,d,c.ctrlKey)}else{if(c.ctrlKey){this.doSelect(d,true,false)}else{if(this.isSelected(d)&&!c.shiftKey&&!c.ctrlKey&&this.selected.getCount()>1){this.doSelect(d,false,false)}else{this.doSelect(d,false)}}}}break;case"SIMPLE":if(this.isSelected(d)){this.doDeselect(d)}else{this.doSelect(d,true)}break;case"SINGLE":if(this.allowDeselect&&this.isSelected(d)){this.doDeselect(d)}else{this.doSelect(d,false)}break}},selectRange:function(n,m,i,t){var p,l=this.store.indexOf(n),q=this.store.indexOf(m),o,s=0,u;if(this.isLocked()){return}if(l>q){o=q;q=l;l=o}for(p=l;p<=q;p++){if(this.isSelected(this.store.getAt(p))){s++}}if(!t){u=-1}else{u=(t=="up")?l:q}for(p=l;p<=q;p++){if(s==(q-l+1)){if(p!=u){this.doDeselect(p,true)}}else{this.doSelect(p,true)}}},select:function(d,f,e){this.doSelect(d,f,e)},deselect:function(c,d){this.doDeselect(c,d)},doSelect:function(h,g,e){if(this.locked){return}if(typeof h==="number"){h=[this.store.getAt(h)]}if(this.selectionMode=="SINGLE"&&h){var f=h.length?h[0]:h;this.doSingleSelect(f,e)}else{this.doMultiSelect(h,g,e)}},doMultiSelect:function(p,l,i){if(this.locked){return}var n=this.selected,k=false,j;p=!Ext.isArray(p)?[p]:p;if(!l&&n.getCount()>0){k=true;this.doDeselect(this.getSelection(),true)}for(var o=0,m=p.length;o<m;o++){j=p[o];if(l&&this.isSelected(j)){continue}k=true;this.lastSelected=j;n.add(j);if(!i){this.setLastFocused(j)}this.onSelectChange(j,true,i)}this.maybeFireSelectionChange(k&&!i)},doDeselect:function(n,h){if(this.locked){return}if(typeof n==="number"){n=[this.store.getAt(n)]}var j=false,l=this.selected,i;n=!Ext.isArray(n)?[n]:n;for(var m=0,k=n.length;m<k;m++){i=n[m];if(l.remove(i)){if(this.lastSelected==i){this.lastSelected=l.last()}this.onSelectChange(i,false,h);j=true}}this.maybeFireSelectionChange(j&&!h)},doSingleSelect:function(e,d){if(this.locked){return}if(this.isSelected(e)){return}var f=this.selected;if(f.getCount()>0){this.doDeselect(this.lastSelected,d)}f.add(e);this.lastSelected=e;this.onSelectChange(e,true,d);this.setLastFocused(e);this.maybeFireSelectionChange(!d)},setLastFocused:function(c){var d=this.lastFocused;this.lastFocused=c;this.onLastFocusChanged(d,c)},maybeFireSelectionChange:function(b){if(b){this.fireEvent("selectionchange",this,this.getSelection())}},getLastSelected:function(){return this.lastSelected},getLastFocused:function(){return this.lastFocused},getSelection:function(){return this.selected.getRange()},getSelectionMode:function(){return this.selectionMode},setSelectionMode:function(b){b=b?b.toUpperCase():"SINGLE";this.selectionMode=this.modes[b]?b:"SINGLE"},isLocked:function(){return this.locked},setLocked:function(b){this.locked=!!b},isSelected:function(b){b=Ext.isNumber(b)?this.store.getAt(b):b;return this.selected.indexOf(b)!==-1},hasSelection:function(){return this.selected.getCount()>0},refresh:function(){var h=[],j=this.getSelection(),k=j.length,l,i,g=0;for(;g<k;g++){l=j[g];if(this.store.indexOf(l)!=-1){h.push(l)}}if(this.selected.getCount()!=h.length){i=true}this.clearSelections();if(h.length){this.doSelect(h,false,true)}this.maybeFireSelectionChange(i)},clearSelections:function(){this.selected.clear();this.lastSelected=null;this.setLastFocused(null)},onStoreAdd:function(){},onStoreClear:function(){var b=this.selected;if(b.getCount>0){b.clear();this.lastSelected=null;this.setLastFocused(null);this.maybeFireSelectionChange(true)}},onStoreRemove:function(d,e){if(this.locked){return}var f=this.selected;if(f.remove(e)){if(this.lastSelected==e){this.lastSelected=null}if(this.getLastFocused()==e){this.setLastFocused(null)}this.maybeFireSelectionChange(true)}},getCount:function(){return this.selected.getCount()},destroy:function(){},onStoreUpdate:function(){},onSelectChange:function(e,f,d){},onLastFocusChanged:function(c,d){},onEditorKey:function(c,d){},bindComponent:function(b){}});Ext.DataViewSelectionModel=Ext.extend(Ext.AbstractStoreSelectionModel,{deselectOnContainerClick:true,bindComponent:function(d){this.view=d;this.bind(d.getStore());var c={refresh:this.refresh,scope:this,el:{scope:this}};c.el[d.triggerEvent]=this.onItemClick;c.el[d.triggerCtEvent]=this.onContainerClick;d.on(c)},onItemClick:function(f){var e=this.view,d=e.findTargetByEvent(f);if(d){this.selectWithEvent(e.getRecord(d),f)}else{return false}},onContainerClick:function(){if(this.deselectOnContainerClick){this.deselectAll()}},onSelectChange:function(e,g,h){var f=this.view;if(g){f.onItemSelect(e);if(!h){this.fireEvent("select",this,e)}}else{f.onItemDeselect(e);if(!h){this.fireEvent("deselect",this,e)}}}});Ext.DataView=Ext.extend(Ext.Component,{loadingText:"Loading...",selectedItemCls:"x-item-selected",emptyText:"",deferEmptyText:true,trackOver:false,blockRefresh:false,last:false,triggerEvent:"click",triggerCtEvent:"containerclick",addCmpEvents:function(){},initComponent:function(){var b=Ext.isDefined;if(!b(this.tpl)||!b(this.store)||!b(this.itemSelector)){throw"DataView requires tpl, store and itemSelector configurations to be defined."}Ext.DataView.superclass.initComponent.call(this);if(Ext.isString(this.tpl)||Ext.isArray(this.tpl)){this.tpl=new Ext.XTemplate(this.tpl)}if(Ext.isDefined(this.overCls)||Ext.isDefined(this.overClass)){this.overItemCls=this.overCls||this.overClass;delete this.overCls;delete this.overClass;throw"Using the deprecated overCls or overClass configuration. Use overItemCls."}if(Ext.isDefined(this.selectedCls)||Ext.isDefined(this.selectedClass)){this.selectedItemCls=this.selectedCls||this.selectedClass;delete this.selectedCls;delete this.selectedClass;throw"Using the deprecated selectedCls or selectedClass configuration. Use selectedItemCls."}this.addCmpEvents();this.store=Ext.StoreMgr.lookup(this.store);this.all=new Ext.CompositeElementLite();this.getSelectionModel().bindComponent(this)},onRender:function(){Ext.DataView.superclass.onRender.apply(this,arguments);if(this.loadingText){this.loadMask=new Ext.LoadMask(this.el,{msg:this.loadingText})}},getSelectionModel:function(){if(!this.selModel){this.selModel={}}var b;switch(true){case this.simpleSelect:b="SIMPLE";break;case this.multiSelect:b="MULTI";break;case this.singleSelect:default:b="SINGLE";break}Ext.applyIf(this.selModel,{allowDeselect:this.allowDeselect,mode:b});if(!this.selModel.events){this.selModel=new Ext.DataViewSelectionModel(this.selModel)}if(!this.selModel.hasRelaySetup){this.relayEvents(this.selModel,["selectionchange","select","deselect"]);this.selModel.hasRelaySetup=true}if(this.disableSelection){this.selModel.locked=true}return this.selModel},refresh:function(){if(!this.rendered){return}var c=this.getTargetEl(),d=this.store.getRange();c.update("");if(d.length<1){if(!this.deferEmptyText||this.hasSkippedEmptyText){c.update(this.emptyText)}this.all.clear()}else{this.tpl.overwrite(c,this.collectData(d,0));this.all.fill(Ext.query(this.itemSelector,c.dom));this.updateIndexes(0)}this.hasSkippedEmptyText=true;this.fireEvent("refresh")},prepareData:function(f,d,e){if(e){Ext.apply(f,this.prepareAssociatedData(e))}return f},prepareAssociatedData:function(s,B){B=B||[];var w=s.associations.items,u=w.length,z={},y,C,x,j,i,A,q,t,v;for(t=0;t<u;t++){A=w[t];y=s[A.storeName];z[A.name]=[];if(y&&y.data.length>0){x=y.data.items;i=x.length;for(v=0;v<i;v++){j=x[v];q=j.internalId;if(B.indexOf(q)==-1){B.push(q);z[A.name][v]=j.data;Ext.apply(z[A.name][v],this.prepareAssociatedData(j,B))}}}}return z},collectData:function(f,h){var i=[],j=0,g=f.length;for(;j<g;j++){i[i.length]=this.prepareData(f[j].data,h+j,f[j])}return i},bufferRender:function(e,d){var f=document.createElement("div");this.tpl.overwrite(f,this.collectData(e,d));return Ext.query(this.itemSelector,f)},onUpdate:function(h,g){var f=this.store.indexOf(g),j,i;if(f>-1){j=this.all.elements[f];i=this.bufferRender([g],f)[0];this.all.replaceElement(f,i,true);this.updateIndexes(f,f);this.selModel.refresh()}},onAdd:function(i,k,j){if(this.all.getCount()===0){this.refresh();return}var l=this.bufferRender(k,j),h,a=this.all.elements;if(j<this.all.getCount()){h=this.all.item(j).insertSibling(l,"before",true);a.splice.apply(a,[j,0].concat(l))}else{h=this.all.last().insertSibling(l,"after",true);a.push.apply(a,l)}this.updateIndexes(j)},onRemove:function(f,e,d){this.all.removeElement(d,true);this.updateIndexes(d);if(this.store.getCount()===0){this.refresh()}},refreshNode:function(b){this.onUpdate(this.store,this.store.getAt(b))},updateIndexes:function(g,h){var e=this.all.elements;g=g||0;h=h||((h===0)?0:(e.length-1));for(var f=g;f<=h;f++){e[f].viewIndex=f}},getStore:function(){return this.store},bindStore:function(d,c){if(!c&&this.store){if(d!==this.store&&this.store.autoDestroy){this.store.destroy()}else{this.mun(this.store,{scope:this,beforeload:this.onBeforeLoad,datachanged:this.onDataChanged,add:this.onAdd,remove:this.onRemove,update:this.onUpdate,clear:this.refresh})}if(!d){if(this.loadMask){this.loadMask.bindStore(null)}this.store=null}}if(d){d=Ext.StoreMgr.lookup(d);this.mon(d,{scope:this,beforeload:this.onBeforeLoad,datachanged:this.onDataChanged,add:this.onAdd,remove:this.onRemove,update:this.onUpdate,clear:this.refresh});if(this.loadMask){this.loadMask.bindStore(d)}}this.store=d;this.getSelectionModel().bind(d);if(d){this.refresh()}},onDataChanged:function(){if(this.blockRefresh!==true){this.refresh.apply(this,arguments)}},findItemByChild:function(b){return Ext.fly(b).findParent(this.itemSelector,this.getTargetEl())},findTargetByEvent:function(b){return b.getTarget(this.itemSelector,this.getTargetEl())},getSelectedNodes:function(){var e=[],f=this.selModel.getSelection(),g=f.length,h=0;for(;h<g;h++){e.push(this.getNode(f[h]))}return e},getRecords:function(h){var e=[],g=0,f=h.length;for(;g<f;g++){e[e.length]=this.store.getAt(h[g].viewIndex)}return r},getRecord:function(b){return this.store.getAt(b.viewIndex)},isSelected:function(c){var d=this.getRecord(c);return this.selModel.isSelected(d)},select:function(d,f,e){this.selModel.select(d,f,e)},deselect:function(c,d){this.selModel.deselect(c,d)},getNode:function(c){if(Ext.isString(c)){return document.getElementById(c)}else{if(Ext.isNumber(c)){return this.all.elements[c]}else{if(c instanceof Ext.data.Model){var d=this.store.indexOf(c);return this.all.elements[d]}}}return c},getNodes:function(h,g){var i=this.all.elements,f=[],j;h=h||0;g=!Ext.isDefined(g)?Math.max(i.length-1,0):g;if(h<=g){for(j=h;j<=g&&i[j];j++){f.push(i[j])}}else{for(j=h;j>=g&&i[j];j--){f.push(i[j])}}return f},indexOf:function(b){b=this.getNode(b);if(Ext.isNumber(b.viewIndex)){return b.viewIndex}return this.all.indexOf(b)},onBeforeLoad:function(){if(this.loadingText){this.getTargetEl().update("");this.all.clear()}},onDestroy:function(){this.all.clear();Ext.DataView.superclass.onDestroy.call(this);this.bindStore(null);this.selModel.destroy()},onItemSelect:function(d){var c=this.getNode(d);Ext.fly(c).addCls(this.selectedItemCls)},onItemDeselect:function(d){var c=this.getNode(d);Ext.fly(c).removeCls(this.selectedItemCls)},select:function(f,e,g){console.warn("DataView: select will be removed, please access select through a DataView's SelectionModel, ie: view.getSelectionModel().select()");var h=this.getSelectionModel();return h.select.apply(h,arguments)},clearSelections:function(){console.warn("DataView: clearSelections will be removed, please access deselectAll through DataView's SelectionModel, ie: view.getSelectionModel().deselectAll()");var b=this.getSelectionModel();return b.deselectAll()}});Ext.reg("dataview",Ext.DataView);Ext.DataView.override({getSelectionCount:function(){return this.selModel.getSelection().length},getSelectedRecords:function(){return this.selModel.getSelection()}});Ext.DataView.override({scroll:"vertical",pressedCls:"x-item-pressed",pressedDelay:100,allowDeselect:true,triggerEvent:"singletap",triggerCtEvent:"containertap",addCmpEvents:function(){this.addEvents("itemtap","itemdoubletap","itemswipe","containertap","selectionchange","beforeselect")},afterRender:function(){var d=this;Ext.DataView.superclass.afterRender.call(d);var c={tapstart:d.onTapStart,tapcancel:d.onTapCancel,touchend:d.onTapCancel,doubletap:d.onDoubleTap,swipe:d.onSwipe,scope:d};c[this.triggerEvent]=d.onTap;d.mon(d.getTargetEl(),c);if(this.store){this.bindStore(this.store,true)}},onTap:function(f){var d=this.findTargetByEvent(f);if(d){Ext.fly(d).removeCls(this.pressedCls);var e=this.indexOf(d);if(this.onItemTap(d,e,f)!==false){this.fireEvent("itemtap",this,e,d,f)}}else{if(this.fireEvent("containertap",this,f)!==false){this.onContainerTap(f)}}},onTapStart:function(g,f){var h=this,e=this.findTargetByEvent(g);if(e){if(h.pressedDelay){if(h.pressedTimeout){clearTimeout(h.pressedTimeout)}h.pressedTimeout=setTimeout(function(){Ext.fly(e).addCls(h.pressedCls)},Ext.isNumber(h.pressedDelay)?h.pressedDelay:100)}else{Ext.fly(e).addCls(h.pressedCls)}}},onTapCancel:function(g,f){var h=this,e=this.findTargetByEvent(g);if(h.pressedTimeout){clearTimeout(h.pressedTimeout);delete h.pressedTimeout}if(e){Ext.fly(e).removeCls(h.pressedCls)}},onContainerTap:function(b){},onDoubleTap:function(c){var d=this.findTargetByEvent(c);if(d){this.fireEvent("itemdoubletap",this,this.indexOf(d),d,c)}},onSwipe:function(c){var d=this.findTargetByEvent(c);if(d){this.fireEvent("itemswipe",this,this.indexOf(d),d,c)}},onItemTap:function(d,e,f){if(this.pressedTimeout){clearTimeout(this.pressedTimeout);delete this.pressedTimeout}return true}});Ext.List=Ext.extend(Ext.DataView,{componentCls:"x-list",pinHeaders:Ext.is.iOS||Ext.is.Desktop,indexBar:false,grouped:false,clearSelectionOnDeactivate:true,renderTpl:['<tpl if="grouped"><h3 class="x-list-header x-list-header-swap x-hidden-display"></h3></tpl>'],groupTpl:['<tpl for=".">','<div class="x-list-group x-group-{id}">','<h3 class="x-list-header">{group}</h3>','<div class="x-list-group-items">',"{items}","</div>","</div>","</tpl>"],itemSelector:".x-list-item",onItemDisclosure:false,preventSelectionOnDisclose:true,initComponent:function(){var b={};if(Ext.isArray(this.itemTpl)){this.itemTpl=this.itemTpl.join("")}else{if(this.itemTpl&&this.itemTpl.html){Ext.apply(b,this.itemTpl.initialConfig);this.itemTpl=this.itemTpl.html}}if(!Ext.isDefined(this.itemTpl)){throw new Error("Ext.List: itemTpl is a required configuration.")}if(this.itemTpl&&this.itemTpl.indexOf('"x-list-item"')!==-1){throw new Error("Ext.List: Using a CSS class of x-list-item within your own tpl will break Ext.Lists. Remove the x-list-item from the tpl/itemTpl")}this.tpl='<tpl for="."><div class="x-list-item"><div class="x-list-item-body">'+this.itemTpl+"</div>";if(this.onItemDisclosure){this.tpl+='<div class="x-list-disclosure"></div>'}this.tpl+="</div></tpl>";this.tpl=new Ext.XTemplate(this.tpl,b);if(this.grouped){this.listItemTpl=this.tpl;if(Ext.isString(this.listItemTpl)||Ext.isArray(this.listItemTpl)){this.listItemTpl=new Ext.XTemplate(this.listItemTpl,b)}if(Ext.isString(this.groupTpl)||Ext.isArray(this.groupTpl)){this.tpl=new Ext.XTemplate(this.groupTpl)}}else{this.indexBar=false}if(this.scroll!==false){this.scroll={direction:"vertical",useIndicators:!this.indexBar}}Ext.List.superclass.initComponent.call(this);if(this.onItemDisclosure){if(Ext.isFunction(this.onItemDisclosure)){this.onItemDisclosure={scope:this,handler:this.onItemDisclosure}}}this.on("deactivate",this.onDeactivate,this);this.addEvents("disclose")},onRender:function(){if(this.grouped){Ext.applyIf(this.renderData,{grouped:true});if(this.scroll){Ext.applyIf(this.renderSelectors,{header:".x-list-header-swap"})}}Ext.List.superclass.onRender.apply(this,arguments)},onDeactivate:function(){if(this.clearSelectionOnDeactivate){this.getSelectionModel().deselectAll()}},afterRender:function(){if(!this.grouped){this.el.addCls("x-list-flat")}this.getTargetEl().addCls("x-list-parent");if(this.indexBar){this.indexBar=new Ext.IndexBar(Ext.apply({},Ext.isObject(this.indexBar)?this.indexBar:{},{xtype:"indexbar",alphabet:true,renderTo:this.el}));this.addCls("x-list-indexed")}Ext.List.superclass.afterRender.call(this);if(this.onItemDisclosure){this.mon(this.getTargetEl(),"singletap",this.handleItemDisclosure,this,{delegate:".x-list-disclosure"})}},initEvents:function(){Ext.List.superclass.initEvents.call(this);if(this.grouped){if(this.pinHeaders&&this.scroll){this.mon(this.scroller,{scrollstart:this.onScrollStart,scroll:this.onScroll,scope:this})}if(this.indexBar){this.mon(this.indexBar,{index:this.onIndex,scope:this})}}},handleItemDisclosure:function(h,j){var i=this.findItemByChild(j),g,e;if(i){g=this.getRecord(i);e=this.indexOf(i);if(this.preventSelectionOnDisclose){h.stopEvent()}this.fireEvent("disclose",g,i,e,h);if(Ext.isObject(this.onItemDisclosure)&&this.onItemDisclosure.handler){this.onItemDisclosure.handler.call(this,g,i,e)}}},setActiveGroup:function(c){var d=this;if(c){if(!d.activeGroup||d.activeGroup.header!=c.header){d.header.setHTML(c.header.getHTML());d.header.show()}}else{d.header.hide()}this.activeGroup=c},getClosestGroups:function(j){if(!this.groupOffsets){this.updateOffsets()}var i=this.groupOffsets,m=i.length,k,h,l,n;for(h=0;h<m;h++){k=i[h];if(k.offset>j.y){n=k;break}l=k}return{current:l,next:n}},updateIndexes:function(){Ext.List.superclass.updateIndexes.apply(this,arguments);this.updateOffsets()},afterComponentLayout:function(){Ext.List.superclass.afterComponentLayout.apply(this,arguments);this.updateOffsets()},updateOffsets:function(){if(this.grouped){this.groupOffsets=[];var h=this.getTargetEl().query("h3.x-list-header"),e=h.length,g,f;for(f=0;f<e;f++){g=Ext.get(h[f]);g.setDisplayMode(Ext.Element.VISIBILITY);this.groupOffsets.push({header:g,offset:g.dom.offsetTop})}}},onScrollStart:function(){var b=this.scroller.getOffset();this.closest=this.getClosestGroups(b);this.setActiveGroup(this.closest.current)},onScroll:function(f,g,h){if(!this.closest){this.closest=this.getClosestGroups(g)}if(!this.headerHeight){this.headerHeight=this.header.getHeight()}if(g.y<=0){if(this.activeGroup){this.setActiveGroup(false);this.closest.next=this.closest.current}return}else{if((this.closest.next&&g.y>this.closest.next.offset)||(g.y<this.closest.current.offset)){this.closest=this.getClosestGroups(g);this.setActiveGroup(this.closest.current)}}if(this.closest.next&&g.y>0&&this.closest.next.offset-g.y<=this.headerHeight){var e=this.headerHeight-(this.closest.next.offset-g.y);Ext.Element.cssTranslate(this.header,{x:0,y:-e});this.transformed=true}else{if(this.transformed){this.header.setStyle("-webkit-transform",null);this.transformed=false}}},onIndex:function(p,n,o){var i=p.get("key").toLowerCase(),s=this.store.getGroups(),m=s.length,l,q,t,u;for(q=0;q<m;q++){l=s[q];u=this.getGroupId(l);if(u==i||u>i){t=u;break}else{t=u}}t=this.getTargetEl().down(".x-group-"+u);if(t){this.scroller.scrollTo({x:0,y:t.getOffsetsTo(this.scrollEl)[1]},false,null,true)}},getGroupId:function(b){return b.name.toLowerCase()},collectData:function(q,c){if(!this.grouped){return Ext.List.superclass.collectData.call(this,q,c)}var o=[],s=this.store.getGroups(),n=s.length,t,u,m,i,p;for(p=0,n=s.length;p<n;p++){i=s[p];t=i.children;for(m=0,u=t.length;m<u;m++){t[m]=t[m].data}o.push({group:i.name,id:this.getGroupId(i),items:this.listItemTpl.apply(t)})}return o},onUpdate:function(c,d){if(this.grouped){this.refresh()}else{Ext.List.superclass.onUpdate.apply(this,arguments)}},onAdd:function(f,e,d){if(this.grouped){this.refresh()}else{Ext.List.superclass.onAdd.apply(this,arguments)}},onRemove:function(f,e,d){if(this.grouped){this.refresh()}else{Ext.List.superclass.onRemove.apply(this,arguments)}}});Ext.reg("list",Ext.List);Ext.IndexBar=Ext.extend(Ext.DataView,{componentCls:"x-indexbar",direction:"vertical",tpl:'<tpl for="."><div class="x-indexbar-item">{value}</div></tpl>',itemSelector:"div.x-indexbar-item",letters:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],listPrefix:"",componentLayout:"autocomponent",scroll:false,initComponent:function(){this.componentLayout=this.getComponentLayout();if(!this.store){this.store=new Ext.data.Store({model:"IndexBarModel"})}if(this.alphabet==true){this.ui=this.ui||"alphabet"}if(this.direction=="horizontal"){this.horizontal=true}else{this.vertical=true}this.addEvents("index");Ext.apply(this.renderData,{componentCls:this.componentCls});Ext.apply(this.renderSelectors,{body:"."+this.componentCls+"-body"});Ext.IndexBar.superclass.initComponent.call(this)},renderTpl:['<div class="{componentCls}-body"></div>'],getTargetEl:function(){return this.body},afterRender:function(){Ext.IndexBar.superclass.afterRender.call(this);if(this.alphabet===true){this.loadAlphabet()}if(this.vertical){this.el.addCls(this.componentCls+"-vertical")}else{if(this.horizontal){this.el.addCls(this.componentCls+"-horizontal")}}},loadAlphabet:function(){var h=this.letters,g=h.length,i=[],f,j;for(f=0;f<g;f++){j=h[f];i.push({key:j.toLowerCase(),value:j})}this.store.loadData(i)},refresh:function(){var c=this.getTargetEl(),d=this.store.getRange();c.update("");if(d.length<1){if(!this.deferEmptyText||this.hasSkippedEmptyText){c.update(this.emptyText)}this.all.clear()}else{this.tpl.overwrite(c,this.collectData(d,0));this.all.fill(Ext.query(this.itemSelector,c.dom));this.updateIndexes(0)}this.hasSkippedEmptyText=true;this.fireEvent("refresh")},collectData:function(){var b=Ext.IndexBar.superclass.collectData.apply(this,arguments);if(this.listPrefix.length>0){b.unshift({key:"",value:this.listPrefix})}return b},initEvents:function(){Ext.IndexBar.superclass.initEvents.call(this);this.mon(this.el,{touchstart:this.onTouchStart,touchend:this.onTouchEnd,touchmove:this.onTouchMove,scope:this})},onTouchStart:function(c,d){c.stopEvent();this.el.addCls(this.componentCls+"-pressed");this.pageBox=this.el.getPageBox();this.onTouchMove(c)},onTouchEnd:function(c,d){c.stopEvent();this.el.removeCls(this.componentCls+"-pressed")},onTouchMove:function(i){i.stopPropagation();var g=Ext.util.Point.fromEvent(i),j,e,h=this.pageBox;if(!h){h=this.pageBox=this.el.getPageBox()}if(this.vertical){if(g.y>h.bottom||g.y<h.top){return}j=Ext.Element.fromPoint(h.left+(h.width/2),g.y)}else{if(this.horizontal){if(g.x>h.right||g.x<h.left){return}j=Ext.Element.fromPoint(g.x,h.top+(h.height/2))}}if(j){e=this.getRecord(j.dom);if(e){this.fireEvent("index",e,j,this.indexOf(j))}}},isVertical:function(){return this.vertical},isHorizontal:function(){return this.horizontal}});Ext.reg("indexbar",Ext.IndexBar);Ext.regModel("IndexBarModel",{fields:["key","value"]});Ext.Toolbar=Ext.extend(Ext.Container,{isToolbar:true,defaultType:"button",baseCls:"x-toolbar",titleCls:"x-toolbar-title",ui:"dark",layout:null,titleEl:null,initComponent:function(){this.layout=Ext.apply({},this.layout||{},{type:"hbox",align:"center"});Ext.Toolbar.superclass.initComponent.call(this)},afterRender:function(){Ext.Toolbar.superclass.afterRender.call(this);if(this.title){this.titleEl=this.el.createChild({cls:this.titleCls,html:this.title})}},setTitle:function(b){this.title=b;if(this.rendered){if(!this.titleEl){this.titleEl=this.el.createChild({cls:this.titleCls,html:this.title})}this.titleEl.setHTML(b)}},showTitle:function(){if(this.titleEl){this.titleEl.show()}},hideTitle:function(){if(this.titleEl){this.titleEl.hide()}}});Ext.reg("toolbar",Ext.Toolbar);Ext.Spacer=Ext.extend(Ext.Component,{initComponent:function(){if(!this.width){this.flex=1}Ext.Spacer.superclass.initComponent.call(this)},onRender:function(){Ext.Spacer.superclass.onRender.apply(this,arguments);if(this.flex){this.el.setStyle("-webkit-box-flex",this.flex)}}});Ext.reg("spacer",Ext.Spacer);Ext.Sheet=Ext.extend(Ext.Panel,{baseCls:"x-sheet",centered:false,floating:true,modal:true,draggable:false,monitorOrientation:true,hidden:true,hideOnMaskTap:false,enter:"bottom",exit:"bottom",enterAnimation:"slide",exitAnimation:"slide",transitions:{bottom:"up",top:"down",right:"left",left:"right"},animSheet:function(g){var i=null,f=this,j=f.transitions,h=Ext.Anim.prototype.opposites||{};if(g&&this[g]){if(g=="enter"){i=(typeof f.enterAnimation=="string")?{type:f.enterAnimation||"slide",direction:j[f.enter]||"up"}:f.enterAnimation}else{if(g=="exit"){i=(typeof f.exitAnimation=="string")?{type:f.exitAnimation||"slide",direction:j[f.exit]||"down"}:f.exitAnimation}}}return i},orient:function(u,l,q){if(!this.container||this.centered||!this.floating){return this}var n=this,p=n.initialConfig||{},h={width:p.width,height:p.height},m={x:p.x,y:p.y},s=n.el.getPageBox(),o,t=0;if(n.container.dom==document.body){o={width:window.innerWidth,height:window.innerHeight};t=document.body.scrollTop}else{o=n.container.getPageBox()}o.centerY=o.height/2;o.centerX=o.width/2;if(m.x!=undefined||m.y!=undefined){m.x=m.x||0;m.y=m.y||0}else{if(/^(bottom|top)/i.test(n.enter)){h.width=n.stretchX?o.width:Math.min(200,Math.max(h.width||s.width||o.width,o.width));h.height=Math.min(h.height||0,o.height)||undefined;h=n.setSize(h).getSize();m.x=o.centerX-h.width/2;m.y=n.enter=="top"?0:o.height-h.height+t}else{if(/^(left|right)/i.test(n.enter)){h.height=n.stretchY?o.height:Math.min(200,Math.max(h.height||s.height||o.height,o.height));h.width=Math.min(h.width||0,o.width)||undefined;h=n.setSize(h).getSize();m.y=0;m.x=n.enter=="left"?0:o.width-h.width}}}n.setPosition(m);return this},afterRender:function(){Ext.Sheet.superclass.afterRender.apply(this,arguments);this.el.setDisplayMode(Ext.Element.OFFSETS)},onShow:function(b){this.orient();return Ext.Sheet.superclass.onShow.call(this,b||this.animSheet("enter"))},onOrientationChange:function(d,e,f){this.orient();Ext.Sheet.superclass.onOrientationChange.apply(this,arguments)},beforeDestroy:function(){delete this.showAnimation;this.hide(false);Ext.Sheet.superclass.beforeDestroy.call(this)}});Ext.reg("sheet",Ext.Sheet);Ext.ActionSheet=Ext.extend(Ext.Sheet,{componentCls:"x-sheet-action",stretchY:true,stretchX:true,defaultType:"button",constructor:function(b){b=b||{};Ext.ActionSheet.superclass.constructor.call(this,Ext.applyIf({floating:true},b))}});Ext.reg("actionsheet",Ext.ActionSheet);Ext.TabBar=Ext.extend(Ext.Panel,{componentCls:"x-tabbar",activeTab:null,defaultType:"tab",sortable:false,sortHoldThreshold:350,initComponent:function(){this.addEvents("change");this.layout=Ext.apply({},this.layout||{},{type:"hbox",align:"middle"});Ext.TabBar.superclass.initComponent.call(this)},initEvents:function(){if(this.sortable){this.sortable=new Ext.util.Sortable(this.el,{itemSelector:".x-tab",direction:"horizontal",delay:this.sortHoldThreshold,constrain:true});this.mon(this.sortable,"sortchange",this.onSortChange,this)}this.mon(this.el,{touchstart:this.onTouchStart,scope:this});Ext.TabBar.superclass.initEvents.call(this)},onTouchStart:function(c,d){d=c.getTarget(".x-tab");if(d){this.onTabTap(Ext.getCmp(d.id))}},onSortChange:function(f,d,e){},onTabTap:function(d){if(!d.disabled){if(this.cardLayout){if(this.cardSwitchAnimation){var c={reverse:(this.items.indexOf(d)<this.items.indexOf(this.activeTab))?true:false};if(Ext.isObject(this.cardSwitchAnimation)){Ext.apply(c,this.cardSwitchAnimation)}else{Ext.apply(c,{type:this.cardSwitchAnimation})}}this.cardLayout.setActiveItem(d.card,c||this.cardSwitchAnimation)}this.activeTab=d;this.fireEvent("change",this,d,d.card)}},getCardLayout:function(){return this.cardLayout}});Ext.reg("tabbar",Ext.TabBar);Ext.Tab=Ext.extend(Ext.Button,{isTab:true,baseCls:"x-tab",pressedCls:"x-tab-pressed",activeCls:"x-tab-active",active:false,initComponent:function(){this.addEvents("activate","deactivate");Ext.Tab.superclass.initComponent.call(this);var b=this.card;if(b){this.card=null;this.setCard(b)}},setCard:function(b){if(this.card){this.mun(this.card,{activate:this.activate,deactivate:this.deactivate,scope:this})}this.card=b;if(b){Ext.apply(this,b.tab||{});this.setText(this.title||b.title||this.text);this.setIconClass(this.iconCls||b.iconCls);this.setBadge(this.badgeText||b.badgeText);this.mon(b,{beforeactivate:this.activate,beforedeactivate:this.deactivate,scope:this})}},onRender:function(){Ext.Tab.superclass.onRender.apply(this,arguments);if(this.active){this.el.addCls(this.activeCls)}},getCard:function(){return this.card},activate:function(){this.active=true;if(this.el){this.el.addCls(this.activeCls)}this.fireEvent("activate",this)},deactivate:function(){this.active=false;if(this.el){this.el.removeCls(this.activeCls)}this.fireEvent("deactivate",this)}});Ext.reg("tab",Ext.Tab);Ext.TabPanel=Ext.extend(Ext.Panel,{cardSwitchAnimation:"slide",tabBarDock:"top",componentCls:"x-tabpanel",ui:"dark",initComponent:function(){var b=new Ext.layout.CardLayout(this.layout||{});this.layout=null;this.setLayout(b);this.tabBar=new Ext.TabBar(Ext.apply({},this.tabBar||{},{cardLayout:b,cardSwitchAnimation:this.cardSwitchAnimation,dock:this.tabBarDock,ui:this.ui,sortable:this.sortable}));if(this.dockedItems&&!Ext.isArray(this.dockedItems)){this.dockedItems=[this.dockedItems]}else{if(!this.dockedItems){this.dockedItems=[]}}this.dockedItems.push(this.tabBar);Ext.TabPanel.superclass.initComponent.call(this)},getTabBar:function(){return this.tabBar},onAdd:function(f,d){var e=this.tabBar;f.tab=e.insert(d,{xtype:"tab",card:f});e.doLayout()},onRemove:function(c,d){this.tabBar.remove(c.tab,d);this.tabBar.doLayout()}});Ext.reg("tabpanel",Ext.TabPanel);Ext.Carousel=Ext.extend(Ext.Panel,{baseCls:"x-carousel",indicator:true,ui:"dark",direction:"horizontal",horizontal:false,vertical:false,initComponent:function(){this.layout={type:"card",sizeAllCards:true,hideInactive:false,itemCls:"x-carousel-item",targetCls:"x-carousel-body",setOwner:function(a){Ext.layout.CardLayout.superclass.setOwner.call(this,a)}};if(this.indicator){var b=Ext.isObject(this.indicator)?this.indicator:{};this.indicator=new Ext.Carousel.Indicator(Ext.apply({},b,{direction:this.direction,carousel:this,ui:this.ui}))}if(this.direction=="horizontal"){this.horizontal=true}else{this.vertical=true}Ext.Carousel.superclass.initComponent.call(this)},afterRender:function(){Ext.Carousel.superclass.afterRender.call(this);this.mon(this.body,{drag:this.onDrag,dragThreshold:5,dragend:this.onDragEnd,direction:this.direction,scope:this});this.el.addCls(this.baseCls+"-"+this.direction)},onAdd:function(){Ext.Carousel.superclass.onAdd.apply(this,arguments);var b=this.indicator;if(b){b.onCardAdd()}},onRemove:function(){Ext.Carousel.superclass.onRemove.apply(this,arguments);var b=this.indicator;if(b){b.onCardRemove()}},afterLayout:function(){Ext.Carousel.superclass.afterLayout.apply(this,arguments);this.currentSize=this.body.getSize();this.currentScroll={x:0,y:0};this.updateCardPositions();var b=this.layout.getActiveItem();if(b&&this.indicator){this.indicator.onBeforeCardSwitch(this,b,null,this.items.indexOf(b))}},onDrag:function(c){this.currentScroll={x:c.deltaX,y:c.deltaY};var d=this.items.items.indexOf(this.layout.activeItem);if(this.horizontal){if((d==0&&c.deltaX>0)||(d==this.items.length-1&&c.deltaX<0)){this.currentScroll.x=c.deltaX/2}}else{if(this.vertical){if((d==0&&c.deltaY>0)||(d==this.items.length-1&&c.deltaY<0)){this.currentScroll.y=c.deltaY/2}}}this.updateCardPositions()},updateCardPositions:function(j){var l=this.items.items,m=l.length,k,p,i,n,o;for(p=0;p<m;p++){i=l[p];if(this.isCardInRange(i)){if(i.hidden){i.show()}n=i.el;o=n.dom.style;if(j){if(i===this.layout.activeItem){n.on("webkitTransitionEnd",this.onTransitionEnd,this,{single:true})}o.webkitTransitionDuration="300ms"}else{o.webkitTransitionDuration="0ms"}k=this.getCardOffset(i);if(this.horizontal){Ext.Element.cssTransform(n,{translate:[k,0]})}else{Ext.Element.cssTransform(n,{translate:[0,k]})}}else{if(!i.hidden){i.hide()}}}},getCardOffset:function(h){var g=this.getCardIndexOffset(h),e=this.currentSize,f=this.currentScroll;return this.horizontal?(g*e.width)+f.x:(g*e.height)+f.y},getCardIndexOffset:function(b){return this.items.items.indexOf(b)-this.getActiveIndex()},isCardInRange:function(b){return Math.abs(this.getCardIndexOffset(b))<=2},getActiveIndex:function(){return this.items.indexOf(this.layout.activeItem)},onDragEnd:function(g,e){var f,h;if(this.horizontal){h=g.deltaX;f=g.previousDeltaX}else{h=g.deltaY;f=g.previousDeltaY}if(h<0&&Math.abs(h)>3&&f<=0&&this.layout.getNext()){this.next()}else{if(h>0&&Math.abs(h)>3&&f>=0&&this.layout.getPrev()){this.prev()}else{this.scrollToCard(this.layout.activeItem)}}},onBeforeCardSwitch:function(d){if(!this.customDrag&&this.items.indexOf(d)!=-1){var c=d.el.dom.style;c.webkitTransitionDuration=null;c.webkitTransform=null}return Ext.Carousel.superclass.onBeforeCardSwitch.apply(this,arguments)},scrollToCard:function(b){this.currentScroll={x:0,y:0};this.oldCard=this.layout.activeItem;if(b!=this.oldCard&&this.isCardInRange(b)&&this.onBeforeCardSwitch(b,this.oldCard,this.items.indexOf(b),true)!==false){this.layout.activeItem=b;if(this.horizontal){this.currentScroll.x=-this.getCardOffset(b)}else{this.currentScroll.y=-this.getCardOffset(b)}}this.updateCardPositions(true)},onTransitionEnd:function(c,d){this.customDrag=false;this.currentScroll={x:0,y:0};if(this.oldCard&&this.layout.activeItem!=this.oldCard){this.onCardSwitch(this.layout.activeItem,this.oldCard,this.items.indexOf(this.layout.activeItem),true)}delete this.oldCard},onCardSwitch:function(f,h,e,g){this.currentScroll={x:0,y:0};this.updateCardPositions();Ext.Carousel.superclass.onCardSwitch.apply(this,arguments);f.fireEvent("activate",f)},next:function(){var b=this.layout.getNext();if(b){this.customDrag=true;this.scrollToCard(b)}return this},prev:function(){var b=this.layout.getPrev();if(b){this.customDrag=true;this.scrollToCard(b)}return this},isVertical:function(){return this.vertical},isHorizontal:function(){return this.horizontal},beforeDestroy:function(){Ext.destroy(this.indicator);Ext.Carousel.superclass.beforeDestroy.call(this)}});Ext.reg("carousel",Ext.Carousel);Ext.Carousel.Indicator=Ext.extend(Ext.Component,{baseCls:"x-carousel-indicator",initComponent:function(){if(this.carousel.rendered){this.render(this.carousel.body);this.onBeforeCardSwitch(null,null,this.carousel.items.indexOf(this.carousel.layout.getActiveItem()))}else{this.carousel.on("render",function(){this.render(this.carousel.body)},this,{single:true})}Ext.Carousel.Indicator.superclass.initComponent.call(this)},onRender:function(){Ext.Carousel.Indicator.superclass.onRender.apply(this,arguments);for(var d=0,c=this.carousel.items.length;d<c;d++){this.createIndicator()}this.mon(this.carousel,{beforecardswitch:this.onBeforeCardSwitch,scope:this});this.mon(this.el,{tap:this.onTap,scope:this});this.el.addCls(this.baseCls+"-"+this.direction)},onTap:function(i,h){var e=this.el.getPageBox(),j=e.left+(e.width/2),l=e.top+(e.height/2),k=this.carousel;if((k.isHorizontal()&&i.pageX>j)||(k.isVertical()&&i.pageY>l)){this.carousel.next()}else{this.carousel.prev()}},createIndicator:function(){this.indicators=this.indicators||[];this.indicators.push(this.el.createChild({tag:"span"}))},onBeforeCardSwitch:function(g,h,f,e){if(Ext.isNumber(e)&&e!=-1&&this.indicators[e]){this.indicators[e].radioCls("x-carousel-indicator-active")}},onCardAdd:function(){if(this.rendered){this.createIndicator()}},onCardRemove:function(){if(this.rendered){this.indicators.pop().remove()}}});Ext.reg("carouselindicator",Ext.Carousel.Indicator);Ext.Map=Ext.extend(Ext.Component,{baseCls:"x-map",useCurrentLocation:false,monitorResize:true,map:null,geo:null,maskMap:false,maskMapCls:"x-mask-map",initComponent:function(){this.mapOptions=this.mapOptions||{};this.scroll=false;if(!(window.google||{}).maps){this.html="Google Maps API is required"}else{if(this.useCurrentLocation){this.geo=this.geo||new Ext.util.GeoLocation({autoLoad:false});this.geo.on({locationupdate:this.onGeoUpdate,locationerror:this.onGeoError,scope:this})}}Ext.Map.superclass.initComponent.call(this);this.addEvents("maprender","centerchange","typechange","zoomchange");if(this.geo){this.on({activate:this.onUpdate,scope:this,single:true});this.geo.updateLocation()}},onRender:function(c,d){Ext.Map.superclass.onRender.apply(this,arguments);this.el.setDisplayMode(Ext.Element.OFFSETS)},afterRender:function(){Ext.Map.superclass.afterRender.apply(this,arguments);this.renderMap()},onResize:function(d,c){Ext.Map.superclass.onResize.apply(this,arguments);if(this.map){google.maps.event.trigger(this.map,"resize")}},afterComponentLayout:function(){if(this.maskMap&&!this.mask){this.el.mask(null,this.maskMapCls);this.mask=true}},renderMap:function(){var d=this,f=(window.google||{}).maps;if(f){if(Ext.is.iPad){Ext.applyIf(d.mapOptions,{navigationControlOptions:{style:f.NavigationControlStyle.ZOOM_PAN}})}Ext.applyIf(d.mapOptions,{center:new f.LatLng(37.381592,-122.135672),zoom:12,mapTypeId:f.MapTypeId.ROADMAP});if(d.maskMap&&!d.mask){d.el.mask(null,this.maskMapCls);d.mask=true}if(d.el&&d.el.dom&&d.el.dom.firstChild){Ext.fly(d.el.dom.firstChild).remove()}if(d.map){f.event.clearInstanceListeners(d.map)}d.map=new f.Map(d.el.dom,d.mapOptions);var e=f.event;e.addListener(d.map,"zoom_changed",Ext.createDelegate(d.onZoom,d));e.addListener(d.map,"maptypeid_changed",Ext.createDelegate(d.onTypeChange,d));e.addListener(d.map,"center_changed",Ext.createDelegate(d.onCenterChange,d));d.fireEvent("maprender",d,d.map)}},onGeoUpdate:function(c){var d;if(c){d=this.mapOptions.center=new google.maps.LatLng(c.latitude,c.longitude)}if(this.rendered){this.update(d)}else{this.on("activate",this.onUpdate,this,{single:true,data:d})}},onGeoError:function(b){},onUpdate:function(f,d,e){this.update((e||{}).data)},update:function(f){var e=this,d=(window.google||{}).maps;if(d){f=f||e.coords||new d.LatLng(37.381592,-122.135672);if(f&&!(f instanceof d.LatLng)&&"longitude" in f){f=new d.LatLng(f.latitude,f.longitude)}if(!e.hidden&&e.rendered){e.map||e.renderMap();if(e.map&&f instanceof d.LatLng){e.map.panTo(f)}}else{e.on("activate",e.onUpdate,e,{single:true,data:f})}}},onZoom:function(){this.mapOptions.zoom=(this.map&&this.map.getZoom?this.map.getZoom():this.mapOptions.zoom)||10;this.fireEvent("zoomchange",this,this.map,this.mapOptions.zoom)},onTypeChange:function(){this.mapOptions.mapTypeId=this.map&&this.map.getMapTypeId?this.map.getMapTypeId():this.mapOptions.mapTypeId;this.fireEvent("typechange",this,this.map,this.mapOptions.mapTypeId)},onCenterChange:function(){this.mapOptions.center=this.map&&this.map.getCenter?this.map.getCenter():this.mapOptions.center;this.fireEvent("centerchange",this,this.map,this.mapOptions.center)},getState:function(){return this.mapOptions},onDestroy:function(){Ext.destroy(this.geo);if(this.maskMap&&this.mask){this.el.unmask()}if(this.map&&(window.google||{}).maps){google.maps.event.clearInstanceListeners(this.map)}Ext.Map.superclass.onDestroy.call(this)}});Ext.reg("map",Ext.Map);Ext.NestedList=Ext.extend(Ext.Panel,{componentCls:"x-nested-list",layout:"card",cardSwitchAnimation:"slide",backButton:null,backText:"Back",useTitleAsBackText:true,updateTitleText:true,displayField:"text",loadingText:"Loading...",emptyText:"No items available.",onItemDisclosure:false,clearSelectionDelay:200,allowDeselect:false,getItemTextTpl:function(b){return"{"+this.displayField+"}"},getTitleTextTpl:function(b){return"{"+this.displayField+"}"},renderTitleText:function(c){if(!c.titleTpl){c.titleTpl=new Ext.XTemplate(this.getTitleTextTpl(c))}var d=c.getRecord();if(d){return c.titleTpl.applyTemplate(d.data)}else{if(c.isRoot){return this.title||this.backText}else{throw new Error("No RecordNode passed into renderTitleText")}}},useToolbar:true,getDetailCard:function(c,d){return false},initComponent:function(){var d=Ext.StoreMgr.lookup(this.store),e=d.getRootNode(),f=e.getRecord()?this.renderTitleText(e):this.title||"";this.store=d;if(this.useToolbar){this.backButton=new Ext.Button({text:this.backText,ui:"back",handler:this.onBackTap,scope:this,hidden:true});if(!this.toolbar||!this.toolbar.isComponent){this.toolbar=Ext.apply({},this.toolbar||{},{dock:"top",xtype:"toolbar",ui:"light",title:f,items:[]});this.toolbar.items.unshift(this.backButton);this.toolbar=new Ext.Toolbar(this.toolbar);this.dockedItems=this.dockedItems||[];this.dockedItems.push(this.toolbar)}else{this.toolbar.insert(0,this.backButton)}}this.items=[this.getSubList(e)];Ext.NestedList.superclass.initComponent.call(this);this.on("itemtap",this.onItemTap,this);this.addEvents("listchange","leafitemtap")},getListConfig:function(d){var f=d.internalId,e=this.emptyText;return{itemId:f,xtype:"list",autoDestroy:true,recordNode:d,store:this.store.getSubStore(d),loadingText:this.loadingText,onItemDisclosure:this.onItemDisclosure,displayField:this.displayField,singleSelect:true,clearSelectionOnDeactivate:false,bubbleEvents:["itemtap","containertap","beforeselect","itemdoubletap","selectionchange"],itemTpl:'<span<tpl if="leaf == true"> class="x-list-item-leaf"</tpl>>'+this.getItemTextTpl(d)+"</span>",deferEmptyText:true,allowDeselect:this.allowDeselect,refresh:function(){if(this.hasSkippedEmptyText){this.emptyText=e}Ext.List.prototype.refresh.apply(this,arguments)}}},getSubList:function(e){var f=this.items,h,g=e.internalId;if(f&&f.get){h=f.get(g)}if(h){return h}else{return this.getListConfig(e)}},addNextCard:function(f,h){var j,g=f?f.parentNode:null,i;if(f.leaf){i=this.getDetailCard(f,g);if(i){j=this.add(i)}}else{j=this.getSubList(f);j=this.add(j)}return j},setActivePath:function(j){var q=j.substr(0,1)==="/",v=0,y=this.store,i=y.tree,x,w,A,s,B;if(q){j=j.substr(1)}s=Ext.toArray(j.split("/"));B=s.length;if(q){var t=this.items,C=this.items.items,u=t.length;for(;u>1;u--){this.remove(C[u-1],true)}var z=C[0].recordNode;if(z.id!==s[0]){throw new Error("rootNode doesn't match!")}v=1}for(;v<B;v++){if(s[v]!==""){x=i.getNodeById(s[v]);w=this.addNextCard(x);if(w){A=w}}}if(!A){throw new Error("Card was not found when trying to add to NestedList.")}this.setActiveItem(A,false);this.fireEvent("listchange",this,A);this.syncToolbar()},syncToolbar:function(n){var l=n||this.getActiveItem(),k=this.items.indexOf(l),i=l.recordNode,j=i?i.parentNode:null,o=this.backButton,p=this.useTitleAsBackText&&j?this.renderTitleText(j):this.backText,m=(k!==0)?"show":"hide";if(o){o[m]();if(j){o.setText(p)}}if(this.toolbar&&this.updateTitleText){this.toolbar.setTitle(i&&i.getRecord()?this.renderTitleText(i):this.title||"");this.toolbar.doLayout()}},onItemTap:function(n,v,y,q){var o=n.getStore(),u=o.getAt(v),e=u.node,t=e?e.parentNode:null,s=this.displayField,w,x,p;p=this.addNextCard(e);if(e.leaf){this.fireEvent("leafitemtap",n,v,y,q,p)}if(p){x=this.items.indexOf(p);this.setActiveItem(p,{type:this.cardSwitchAnimation});this.syncToolbar(p)}},onBackTap:function(){var n=this.getActiveItem(),m=this.items.indexOf(n);if(m!=0){var u=m-1,s=this.items.getAt(u),k=s.recordNode,q=k.getRecord(),p=k?k.parentNode:null,o=this.backButton,t=(u!==0)?"show":"hide",l;this.on("cardswitch",function(c,a){var b=s.getSelectionModel();this.remove(n);if(this.clearSelectionDelay){Ext.defer(b.deselectAll,this.clearSelectionDelay,b)}},this,{single:true});this.setActiveItem(s,{type:this.cardSwitchAnimation,reverse:true,scope:this});this.syncToolbar(s)}}});Ext.reg("nestedlist",Ext.NestedList);Ext.Picker=Ext.extend(Ext.Sheet,{componentCls:"x-picker",stretchX:true,stretchY:true,hideOnMaskTap:false,doneButton:"Done",cancelButton:"Cancel",height:220,useTitles:false,defaultType:"pickerslot",initComponent:function(){this.addEvents("pick","change","cancel");this.layout={type:"hbox",align:"stretch"};if(this.slots){this.items=this.items?(Ext.isArray(this.items)?this.items:[this.items]):[];this.items=this.items.concat(this.slots)}if(this.useTitles){this.defaults=Ext.applyIf(this.defaults||{},{title:""})}this.on("slotpick",this.onSlotPick,this);if(this.doneButton||this.cancelButton){var b=[];if(this.cancelButton){b.push(Ext.apply({ui:"decline",handler:this.onCancelButtonTap,scope:this},((Ext.isObject(this.cancelButton)?this.cancelButton:{text:String(this.cancelButton)}))))}b.push({xtype:"spacer"});if(this.doneButton){b.push(Ext.apply({ui:"action",handler:this.onDoneButtonTap,scope:this},((Ext.isObject(this.doneButton)?this.doneButton:{text:String(this.doneButton)}))))}this.toolbar=new Ext.Toolbar(Ext.applyIf(this.buttonBar||{dock:"top",items:b,defaults:{xtype:"button"}}));this.dockedItems=this.dockedItems?(Ext.isArray(this.dockedItems)?this.dockedItems:[this.dockedItems]):[];this.dockedItems.push(this.toolbar)}Ext.Picker.superclass.initComponent.call(this)},afterRender:function(){Ext.Picker.superclass.afterRender.apply(this,arguments);if(this.value){this.setValue(this.value,false)}},onDoneButtonTap:function(){var b=this.animSheet("exit");Ext.apply(b,{after:function(){this.fireEvent("change",this,this.getValue())},scope:this});this.hide(b)},onCancelButtonTap:function(){var b=this.animSheet("exit");Ext.apply(b,{after:function(){this.setValue(this.values);this.fireEvent("cancel",this)},scope:this});this.hide(b)},onSlotPick:function(f,d,e){this.fireEvent("pick",this,this.getValue(),f);return false},setValue:function(g,j){var i,h=this.items.items,k=h.length;if(!g){for(var l=0;l<k;l++){h[l].setSelectedNode(0)}return this}Ext.iterate(g,function(b,a){i=this.child("[name="+b+"]");if(i){i.setValue(a,j)}},this);this.values=g;return this},getValue:function(){var f={},g=this.items.items,h=g.length,i,j;for(j=0;j<h;j++){i=g[j];f[i.name]=i.getValue()}return f}});Ext.regModel("x-textvalue",{fields:["text","value"]});Ext.Picker.Slot=Ext.extend(Ext.DataView,{isSlot:true,flex:1,name:null,displayField:"text",valueField:"value",align:"center",itemSelector:"div.x-picker-item",componentCls:"x-picker-slot",renderTpl:['<div class="x-picker-mask">','<div class="x-picker-bar"></div>',"</div>"],selectedIndex:0,getElConfig:function(){return{tag:"div",id:this.id,cls:"x-picker-"+this.align}},initComponent:function(){if(!this.name){throw new Error("Each picker slot is required to have a name.")}Ext.apply(this.renderSelectors,{mask:".x-picker-mask",bar:".x-picker-bar"});this.scroll={direction:"vertical",useIndicators:false,friction:0.7,acceleration:25,snapDuration:200,animationDuration:200};this.tpl=new Ext.XTemplate(['<tpl for=".">','<div class="x-picker-item {cls} <tpl if="extra">x-picker-invalid</tpl>">{'+this.displayField+"}</div>","</tpl>"]);var k=this.data,i=[],l=k&&k.length,h,g,j;if(k&&Ext.isArray(k)&&l){for(h=0;h<l;h++){g=k[h];j={};if(Ext.isArray(g)){j[this.valueField]=g[0];j[this.displayField]=g[1]}else{if(Ext.isString(g)){j[this.valueField]=g;j[this.displayField]=g}else{if(Ext.isObject(g)){j=g}}}i.push(j)}this.store=new Ext.data.Store({model:"x-textvalue",data:i});this.tempStore=true}else{if(this.store){this.store=Ext.StoreMgr.lookup(this.store)}}this.enableBubble("slotpick");if(this.title){this.title=new Ext.Component({dock:"top",componentCls:"x-picker-slot-title",html:this.title});this.dockedItems=this.title}Ext.Picker.Slot.superclass.initComponent.call(this);if(this.value!==undefined){this.setValue(this.value,false)}},setupBar:function(){this.el.setStyle({padding:""});var b=this.bar.getY()-this.el.getY();this.barHeight=this.bar.getHeight();this.el.setStyle({padding:b+"px 0"});this.slotPadding=b;this.scroller.updateBoundary();this.scroller.setSnap(this.barHeight);this.setSelectedNode(this.selectedIndex,false)},afterComponentLayout:function(){Ext.defer(this.setupBar,200,this)},initEvents:function(){this.mon(this.scroller,{scrollend:this.onScrollEnd,scope:this})},onScrollEnd:function(d,c){this.selectedNode=this.getNode(Math.round(c.y/this.barHeight));this.selectedIndex=this.indexOf(this.selectedNode);this.fireEvent("slotpick",this,this.getValue(),this.selectedNode)},scrollToNode:function(f,e){var d=Ext.fly(f).getOffsetsTo(this.scrollEl)[1];this.scroller.scrollTo({y:d},e!==false?true:false)},onItemTap:function(b){Ext.Picker.Slot.superclass.onItemTap.apply(this,arguments);this.setSelectedNode(b)},getSelectedNode:function(){return this.selectedNode},setSelectedNode:function(c,d){if(Ext.isNumber(c)){c=this.getNode(c)}else{if(c.isModel){c=this.getNode(this.store.indexOf(c))}}if(c){this.selectedNode=c;this.selectedIndex=this.indexOf(c);this.scrollToNode(c,d)}},getValue:function(){var b=this.store.getAt(this.selectedIndex);return b?b.get(this.valueField):null},setValue:function(f,e){var d=this.store.find(this.valueField,f);if(d!=-1){if(!this.rendered){this.selectedIndex=d;return}this.setSelectedNode(d,e)}},onDestroy:function(){if(this.tempStore){this.store.destroyStore();this.store=null}Ext.Picker.Slot.superclass.onDestroy.call(this)}});Ext.reg("pickerslot",Ext.Picker.Slot);Ext.DatePicker=Ext.extend(Ext.Picker,{yearFrom:1980,yearTo:new Date().getFullYear(),monthText:"Month",dayText:"Day",yearText:"Year",slotOrder:["month","day","year"],initComponent:function(){var i=this.yearFrom,n=this.yearTo,m=[],k=[],q=[],l,p,o,s;if(i>n){p=i;i=n;n=p}for(o=i;o<=n;o++){m.push({text:o,value:o})}s=this.getDaysInMonth(1,new Date().getFullYear());for(o=0;o<s;o++){k.push({text:o+1,value:o+1})}for(o=0,l=Date.monthNames.length;o<l;o++){q.push({text:Date.monthNames[o],value:o+1})}this.slots=[];this.slotOrder.forEach(function(a){this.slots.push(this.createSlot(a,k,q,m))},this);Ext.DatePicker.superclass.initComponent.call(this)},afterRender:function(){Ext.DatePicker.superclass.afterRender.apply(this,arguments);this.setValue(this.value)},createSlot:function(e,g,f,h){switch(e){case"year":return{name:"year",align:"center",data:h,title:this.useTitles?this.yearText:false,flex:3};case"month":return{name:e,align:"right",data:f,title:this.useTitles?this.monthText:false,flex:4};case"day":return{name:"day",align:"center",data:g,title:this.useTitles?this.dayText:false,flex:2}}},onSlotPick:function(i,j){var l=i.name,g,h,k;if(l==="month"||l==="year"){k=this.child("[name=day]");g=this.getValue();h=this.getDaysInMonth(g.getMonth()+1,g.getFullYear());k.store.clearFilter();k.store.filter({fn:function(a){return a.get("extra")===true||a.get("value")<=h}});k.scroller.updateBoundary(true)}Ext.DatePicker.superclass.onSlotPick.apply(this,arguments)},getValue:function(){var f=Ext.DatePicker.superclass.getValue.call(this),d=this.getDaysInMonth(f.month,f.year),e=Math.min(f.day,d);return new Date(f.year,f.month-1,e)},setValue:function(c,d){if(!Ext.isDate(c)&&!Ext.isObject(c)){c=null}if(Ext.isDate(c)){this.value={day:c.getDate(),year:c.getFullYear(),month:c.getMonth()+1}}else{this.value=c}return Ext.DatePicker.superclass.setValue.call(this,this.value,d)},getDaysInMonth:function(f,d){var e=[31,28,31,30,31,30,31,31,30,31,30,31];return f==2&&this.isLeapYear(d)?29:e[f-1]},isLeapYear:function(b){return !!((b&3)===0&&(b%100||(b%400===0&&b)))}});Ext.reg("datepicker",Ext.DatePicker);Ext.Media=Ext.extend(Ext.Component,{url:"",enableControls:true,autoResume:false,autoPause:true,preload:true,playing:false,afterRender:function(){var b=this.getConfiguration();Ext.apply(b,{src:this.url,preload:this.preload?"auto":"none"});if(this.enableControls){b.controls="controls"}if(this.loop){b.loop="loop"}this.media=this.el.createChild(b);Ext.Media.superclass.afterRender.call(this);this.on({scope:this,activate:this.onActivate,beforedeactivate:this.onDeactivate})},onActivate:function(){if(this.autoResume&&!this.playing){this.play()}},onDeactivate:function(){if(this.autoPause&&this.playing){this.pause()}},play:function(){this.media.dom.play();this.playing=true},pause:function(){this.media.dom.pause();this.playing=false},toggle:function(){if(this.playing){this.pause()}else{this.play()}}});Ext.reg("media",Ext.Media);Ext.Video=Ext.extend(Ext.Media,{posterUrl:"",componentCls:"x-video",afterRender:function(){Ext.Video.superclass.afterRender.call(this);if(this.posterUrl){this.media.hide();this.ghost=this.el.createChild({cls:"x-video-ghost",style:"width: 100%; height: 100%; background: #000 url("+this.posterUrl+") center center no-repeat; -webkit-background-size: 100% auto;"});this.ghost.on("tap",this.onGhostTap,this,{single:true})}},onGhostTap:function(){this.media.show();this.ghost.hide();this.play()},getConfiguration:function(){return{tag:"video",width:"100%",height:"100%"}}});Ext.reg("video",Ext.Video);Ext.Audio=Ext.extend(Ext.Media,{componentCls:"x-audio",onActivate:function(){Ext.Audio.superclass.onActivate.call(this);if(Ext.is.Phone){this.media.show()}},onDeactivate:function(){Ext.Audio.superclass.onDeactivate.call(this);if(Ext.is.Phone){this.media.hide()}},getConfiguration:function(){var b=!this.enableControls;if(!Ext.supports.AudioTag){return{tag:"embed",type:"audio/mpeg",target:"myself",controls:"true",hidden:b}}else{return{tag:"audio",hidden:b}}}});Ext.reg("audio",Ext.Audio);Ext.MessageBox=Ext.extend(Ext.Sheet,{centered:true,renderHidden:true,ui:"dark",componentCls:"x-msgbox",enterAnimation:"pop",exitAnimation:"pop",defaultTextHeight:75,constructor:function(e){e=e||{};var f=e.ui||this.ui||"",d=e.componentCls||this.componentCls;delete e.html;this.titleBar=Ext.create({xtype:"toolbar",ui:f,dock:"top",cls:d+"-title",title:"&#160;"});this.buttonBar=Ext.create({xtype:"toolbar",ui:f,dock:"bottom",layout:{pack:"center"},cls:d+"-buttons"});e=Ext.apply({ui:f,dockedItems:[this.titleBar,this.buttonBar],renderSelectors:{body:"."+d+"-body",iconEl:"."+d+"-icon",msgContentEl:"."+d+"-content",msgEl:"."+d+"-text",inputsEl:"."+d+"-inputs",inputEl:"."+d+"-input-single",multiLineEl:"."+d+"-input-textarea"}},e||{});Ext.MessageBox.superclass.constructor.call(this,e)},renderTpl:['<div class="{componentCls}-body"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>','<div class="{componentCls}-icon x-hidden-display"></div>','<div class="{componentCls}-content">','<div class="{componentCls}-text"></div>','<div class="{componentCls}-inputs x-hidden-display">','<input type="text" class="{componentCls}-input {componentCls}-input-single" />','<textarea class="{componentCls}-input {componentCls}-input-textarea"></textarea>',"</div>","</div>","</div>"],onClick:function(c){if(c){var d=c.config||{};if(typeof d.fn=="function"){d.fn.call(d.scope||null,c.itemId||c.text,d.input?d.input.dom.value:null,d)}if(d.cls){this.el.removeCls(d.cls)}if(d.input){d.input.dom.blur()}}this.hide()},show:function(n){var l,m,j={autocomplete:"off",autocapitalize:"off",autocorrect:"off",maxlength:0,autofocus:true,placeholder:"",type:"text"},i=/true|on/i;this.rendered||this.render(document.body);n=Ext.applyIf(n||{},{multiLine:false,prompt:false,value:"",modal:true});if(n.title){this.titleBar.setTitle(n.title);this.titleBar.show()}else{this.titleBar.hide()}if(this.inputsEl&&(n.multiLine||n.prompt)){this.inputsEl.show();if(this.multiLineEl&&n.multiLine){this.inputEl&&this.inputEl.hide();this.multiLineEl.show().setHeight(Ext.isNumber(n.multiLine)?parseFloat(n.multiLine):this.defaultTextHeight);n.input=this.multiLineEl}else{if(this.inputEl){this.inputEl.show();this.multiLineEl&&this.multiLineEl.hide();n.input=this.inputEl}}if(Ext.isObject(n.prompt)){Ext.apply(j,n.prompt)}for(m in j){if(j.hasOwnProperty(m)){l=j[m];n.input.dom.setAttribute(m.toLowerCase(),/^auto/i.test(m)?(i.test(l+"")?"on":"off"):l)}}}else{this.inputsEl&&this.inputsEl.hide()}this.setIcon(n.icon||"",false);this.updateText(n.msg,false);if(n.cls){this.el.addCls(n.cls)}this.modal=!!n.modal;var k=this.buttonBar,h=[];k.removeAll();Ext.each([].concat(n.buttons||Ext.MessageBox.OK),function(a){if(a){h.push(Ext.applyIf({config:n,scope:this,handler:this.onClick},a))}},this);k.add(h);if(k.rendered){k.doLayout()}Ext.MessageBox.superclass.show.call(this,n.animate);if(n.input){n.input.dom.value=n.value||"";if(i.test(j.autofocus+"")&&!("autofocus" in n.input.dom)){n.input.dom.focus()}}return this},onOrientationChange:function(){this.doComponentLayout();Ext.MessageBox.superclass.onOrientationChange.apply(this,arguments)},adjustScale:function(){Ext.apply(this,{maxWidth:window.innerWidth,maxHeight:window.innerHeight,minWidth:window.innerWidth*0.5,minHeight:window.innerHeight*0.5})},doComponentLayout:function(){this.adjustScale();return Ext.MessageBox.superclass.doComponentLayout.apply(this,arguments)},alert:function(g,h,e,f){return this.show({title:g,msg:h,buttons:Ext.MessageBox.OK,fn:e,scope:f,icon:Ext.MessageBox.INFO})},confirm:function(g,h,e,f){return this.show({title:g,msg:h,buttons:Ext.MessageBox.YESNO,fn:function(a){e.call(f,a)},scope:f,icon:Ext.MessageBox.QUESTION})},prompt:function(j,k,n,h,l,m,i){return this.show({title:j,msg:k,buttons:Ext.MessageBox.OKCANCEL,fn:function(a,b){n.call(h,a,b)},scope:h,icon:Ext.MessageBox.QUESTION,prompt:i||true,multiLine:l,value:m})},updateText:function(c,d){if(this.msgEl){this.msgEl.update(c?String(c):"&#160;");if(d!==false){this.doComponentLayout()}}return this},setIcon:function(d,c){if(d){this.iconEl.show();this.iconEl.replaceCls(this.iconCls,d)}else{this.iconEl.replaceCls(this.iconCls,"x-hidden-display")}if(c!==false){this.doComponentLayout()}this.iconCls=d;return this}});(function(){var b=Ext.MessageBox;Ext.apply(b,{OK:{text:"OK",itemId:"ok",ui:"action"},CANCEL:{text:"Cancel",itemId:"cancel"},YES:{text:"Yes",itemId:"yes",ui:"action"},NO:{text:"No",itemId:"no"},INFO:"x-msgbox-info",WARNING:"x-msgbox-warning",QUESTION:"x-msgbox-question",ERROR:"x-msgbox-error"});Ext.apply(b,{OKCANCEL:[b.CANCEL,b.OK],YESNOCANCEL:[b.CANCEL,b.NO,b.YES],YESNO:[b.NO,b.YES]})})();Ext.reg("messagebox",Ext.MessageBox);Ext.reg("msgbox",Ext.MessageBox);Ext.Msg=new Ext.MessageBox();Ext.form.FormPanel=Ext.extend(Ext.Panel,{standardSubmit:false,componentCls:"x-form",url:undefined,baseParams:undefined,waitTpl:new Ext.XTemplate('<div class="{cls}">{message}&hellip;</div>'),submitOnAction:true,getElConfig:function(){return Ext.apply(Ext.form.FormPanel.superclass.getElConfig.call(this),{tag:"form"})},initComponent:function(){this.addEvents("submit","beforesubmit","exception");Ext.form.FormPanel.superclass.initComponent.call(this);this.on("action",this.onFieldAction,this)},afterRender:function(){Ext.form.FormPanel.superclass.afterRender.call(this);this.el.on("submit",this.onSubmit,this)},onSubmit:function(c,d){if(!this.standardSubmit||this.fireEvent("beforesubmit",this,this.getValues(true))===false){if(c){c.stopEvent()}}},onFieldAction:function(b){if(this.submitOnAction){b.blur();this.submit()}},submit:function(e){var d=this.el.dom||{},f;e=Ext.apply({url:this.url||d.action,submitDisabled:false,method:d.method||"post",autoAbort:false,params:null,waitMsg:null,headers:null,success:null,failure:null},e||{});f=this.getValues(this.standardSubmit||!e.submitDisabled);if(this.standardSubmit){if(d){if(e.url&&Ext.isEmpty(d.action)){d.action=e.url}d.method=(e.method||d.method).toLowerCase();if(this.fireEvent("beforesubmit",this,f,e)!==false){d.submit()}}return null}if(this.fireEvent("beforesubmit",this,f,e)!==false){if(e.waitMsg){this.showMask(e.waitMsg)}return Ext.Ajax.request({url:e.url,method:e.method,rawData:Ext.urlEncode(Ext.apply(Ext.apply({},this.baseParams||{}),e.params||{},f)),autoAbort:e.autoAbort,headers:Ext.apply({"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},e.headers||{}),scope:this,callback:function(h,a,c){var b=c.responseText;this.hideMask();if(a){c=Ext.decode(b);a=!!c.success;if(a){if(Ext.isFunction(e.success)){e.success.call(e.scope||this,this,c,b)}this.fireEvent("submit",this,c);return}}if(Ext.isFunction(e.failure)){e.failure.call(e.scope||this,this,c,b)}this.fireEvent("exception",this,c)}})}},loadRecord:function(b){if(b&&b.data){this.setValues(b.data);this.record=b}return this},loadModel:function(){return this.loadRecord.apply(this,arguments)},getRecord:function(){return this.record},updateRecord:function(f,h){var g,j,i;if(f&&(g=f.fields)){j=this.getValues(h);for(i in j){if(j.hasOwnProperty(i)&&g.containsKey(i)){f.set(i,j[i])}}}return this},setValues:function(f){var g=this.getFields(),j,h,i;f=f||{};for(j in f){if(f.hasOwnProperty(j)){h=g[j];i=f[j];if(h){if(Ext.isArray(h)){h.forEach(function(a){if(Ext.isArray(f[j])){a.setChecked((i.indexOf(a.getValue())!=-1))}else{a.setChecked((i==a.getValue()))}})}else{if(h.setChecked){h.setChecked(i)}else{h.setValue(i)}}}}}return this},getValues:function(i){var g=this.getFields(),h,f={},j;for(j in g){if(g.hasOwnProperty(j)){if(Ext.isArray(g[j])){f[j]=[];g[j].forEach(function(a){if(a.isChecked()&&!(i&&a.disabled)){if(a instanceof Ext.form.Radio){f[j]=a.getValue()}else{f[j].push(a.getValue())}}})}else{h=g[j];if(!(i&&h.disabled)){if(h instanceof Ext.form.Checkbox){f[j]=(h.isChecked())?h.getValue():null}else{f[j]=h.getValue()}}}}}return f},reset:function(){this.getFieldsAsArray().forEach(function(b){b.reset()});return this},enable:function(){this.getFieldsAsArray().forEach(function(b){b.enable()});return this},disable:function(){this.getFieldsAsArray().forEach(function(b){b.disable()});return this},getFieldsAsArray:function(){var d=[];var c=function(a){if(a.isField){d.push(a)}if(a.isContainer){a.items.each(c)}};this.items.each(c);return d},getFields:function(e){var f={},g;var h=function(a){if(a.isField){g=a.getName();if((e&&g==e)||typeof e=="undefined"){if(f.hasOwnProperty(g)){if(!Ext.isArray(f[g])){f[g]=[f[g]]}f[g].push(a)}else{f[g]=a}}}if(a.isContainer){a.items.each(h)}};this.items.each(h);return(e)?(f[e]||[]):f},getFieldsFromItem:function(){},showMask:function(d,c){d=Ext.isString(d)?{message:d}:d;if(d&&this.waitTpl){this.maskTarget=c=Ext.get(c||d.target)||this.el;c&&c.mask(this.waitTpl.apply(d))}return this},hideMask:function(){if(this.maskTarget){this.maskTarget.unmask();delete this.maskTarget}return this}});Ext.form.FormPanel.prototype.load=Ext.form.FormPanel.prototype.loadModel;Ext.reg("formpanel",Ext.form.FormPanel);Ext.reg("form",Ext.form.FormPanel);Ext.form.FieldSet=Ext.extend(Ext.Panel,{componentCls:"x-form-fieldset",initComponent:function(){this.componentLayout=this.getLayout();Ext.form.FieldSet.superclass.initComponent.call(this)},afterLayout:function(b){Ext.form.FieldSet.superclass.afterLayout.call(this,b);if(this.title&&!this.titleEl){this.setTitle(this.title)}else{if(this.titleEl){this.el.insertFirst(this.titleEl)}}if(this.instructions&&!this.instructionsEl){this.setInstructions(this.instructions)}else{if(this.instructionsEl){this.el.appendChild(this.instructionsEl)}}},setTitle:function(b){if(this.rendered){if(!this.titleEl){this.titleEl=this.el.insertFirst({cls:this.componentCls+"-title"})}this.titleEl.setHTML(b)}else{this.title=b}return this},setInstructions:function(b){if(this.rendered){if(!this.instructionsEl){this.instructionsEl=this.el.createChild({cls:this.componentCls+"-instructions"})}this.instructionsEl.setHTML(b)}else{this.instructions=b}return this}});Ext.reg("fieldset",Ext.form.FieldSet);Ext.form.Field=Ext.extend(Ext.Component,{isField:true,fieldCls:"x-form-field",baseCls:"x-field",inputCls:undefined,disabled:false,renderTpl:['<tpl if="label">','<div class="x-form-label"><span>{label}</span></div>',"</tpl>",'<tpl if="fieldEl">','<div class="x-form-field-container"><input id="{inputId}" type="{inputType}" name="{name}" class="{fieldCls}"','<tpl if="tabIndex">tabIndex="{tabIndex}" </tpl>','<tpl if="placeHolder">placeholder="{placeHolder}" </tpl>','<tpl if="style">style="{style}" </tpl>','<tpl if="maxlength">maxlength="{maxlength}" </tpl>','<tpl if="autoComplete">autocomplete="{autoComplete}" </tpl>','<tpl if="autoCapitalize">autocapitalize="{autoCapitalize}" </tpl>','<tpl if="autoCorrect">autocorrect="{autoCorrect}" </tpl> />','<tpl if="useMask"><div class="x-field-mask"></div></tpl>',"</div>",'<tpl if="useClearIcon"><div class="x-field-clear-container"><div class="x-field-clear x-hidden-visibility">&#215;</div></div></tpl>',"</tpl>"],isFormField:true,autoCreateField:true,inputType:"text",label:null,labelWidth:"30%",labelAlign:"left",required:false,useMask:false,initComponent:function(){Ext.form.Field.superclass.initComponent.call(this)},getName:function(){return this.name||this.id||""},applyRenderSelectors:function(){this.renderSelectors=Ext.applyIf(this.renderSelectors||{},{mask:".x-field-mask",labelEl:".x-form-label",fieldEl:"."+Ext.util.Format.trim(this.renderData.fieldCls).replace(/ /g,".")});Ext.form.Field.superclass.applyRenderSelectors.call(this)},initRenderData:function(){Ext.form.Field.superclass.initRenderData.apply(this,arguments);Ext.applyIf(this.renderData,{disabled:this.disabled,fieldCls:"x-input-"+this.inputType+(this.inputCls?" "+this.inputCls:""),fieldEl:!this.fieldEl&&this.autoCreateField,inputId:Ext.id(),label:this.label,labelAlign:"x-label-align-"+this.labelAlign,name:this.getName(),required:this.required,style:this.style,tabIndex:this.tabIndex,inputType:this.inputType,useMask:this.useMask});return this.renderData},initEvents:function(){Ext.form.Field.superclass.initEvents.apply(this,arguments);if(this.fieldEl){if(this.useMask&&this.mask){this.mon(this.mask,{tap:this.onMaskTap,scope:this})}}},onRender:function(){Ext.form.Field.superclass.onRender.apply(this,arguments);var b=[];if(this.required){b.push("x-field-required")}if(this.label){b.push("x-label-align-"+this.labelAlign)}this.el.addCls(b)},afterRender:function(){Ext.form.Field.superclass.afterRender.apply(this,arguments);if(this.label){this.setLabelWidth(this.labelWidth)}this.initValue()},isDisabled:function(){return this.disabled},onEnable:function(){this.fieldEl.dom.disabled=false},onDisable:function(){this.fieldEl.dom.disabled=true},initValue:function(){this.setValue(this.value||"",true);this.originalValue=this.getValue()},isDirty:function(){if(this.disabled||!this.rendered){return false}return String(this.getValue())!==String(this.originalValue)},onMaskTap:function(b){if(this.disabled){return false}if(Ext.is.iOS&&b.browserEvent&&!b.browserEvent.isSimulated&&!b.browserEvent.isSimulated){console.log("onMaskTap prevented");b.preventDefault();b.stopPropagation();return false}return true},showMask:function(b){if(this.mask){this.mask.setStyle("display","block")}},hideMask:function(b){if(this.mask){this.mask.setStyle("display","none")}},reset:function(){this.setValue(this.originalValue)},getValue:function(){if(!this.rendered||!this.fieldEl){return this.value}return this.fieldEl.getValue()},setValue:function(b){this.value=b;if(this.rendered&&this.fieldEl){this.fieldEl.dom.value=(Ext.isEmpty(b)?"":b)}return this},setLabelWidth:function(b){if(this.labelEl){this.labelEl.setWidth(b)}return this}});Ext.reg("field",Ext.form.Field);Ext.form.Slider=Ext.extend(Ext.form.Field,{ui:"slider",inputCls:"x-slider",inputType:"slider",minValue:0,maxValue:100,animationDuration:200,value:0,trackWidth:null,monitorOrientation:true,renderTpl:['<tpl if="label">','<div class="x-form-label"><span>{label}</span></div>',"</tpl>",'<tpl if="fieldEl">','<div id="{inputId}" name="{name}" class="{fieldCls}"','<tpl if="tabIndex">tabIndex="{tabIndex}"</tpl>','<tpl if="style">style="{style}" </tpl>',"/></tpl>"],increment:1,constructor:function(b){this.addEvents("beforechange","change","drag","dragend");Ext.form.Slider.superclass.constructor.call(this,b)},initComponent:function(){this.tabIndex=-1;if(this.increment==0){this.increment=1}this.increment=Math.abs(this.increment);this.values=[this.value];Ext.form.Slider.superclass.initComponent.apply(this,arguments);if(this.thumbs==undefined){var g=[],f=this.values,i=f.length,j,h=this.getThumbClass();for(j=0;j<i;j++){g[g.length]=new h({value:f[j],slider:this,listeners:{scope:this,drag:this.onDrag,dragend:this.onThumbDragEnd}})}this.thumbs=g}},initValue:function(){var b=this.getThumb();if(b.dragObj){b.dragObj.updateBoundary()}Ext.form.Slider.superclass.initValue.apply(this,arguments)},onOrientationChange:function(){Ext.form.Slider.superclass.onOrientationChange.apply(this,arguments);var b=this.getThumb();if(b.dragObj){b.dragObj.updateBoundary();this.moveThumb(b,this.getPixelValue(b.getValue(),b),0)}},getThumbClass:function(){return Ext.form.Slider.Thumb},setValue:function(j,k,l){if(typeof l=="undefined"){l=true}l=!!l;var h=this.getThumb(),g=h.getValue(),i=this.constrain(j);if(this.fireEvent("beforechange",this,h,i,g)!==false){if(l){this.moveThumb(h,this.getPixelValue(i,h),k)}h.setValue(i);this.doComponentLayout();this.fireEvent("change",this,h,i,g)}return this},constrain:function(c){var d=c%this.increment;c-=d;if(Math.abs(d)>=(this.increment/2)){c+=(d>0)?this.increment:-this.increment}c=Math.max(this.minValue,c);c=Math.min(this.maxValue,c);return c},getValue:function(){return this.getThumb().getValue()},getThumb:function(){return this.thumbs[0]},getSliderValue:function(f,i){var g=i.dragObj.offsetBoundary.right,j=this.maxValue-this.minValue,h;this.trackWidth=(g>0)?g:this.trackWidth;h=j/this.trackWidth;return this.minValue+(h*(f))},getPixelValue:function(h,j){var g=j.dragObj.offsetBoundary.right,f=this.maxValue-this.minValue,i;this.trackWidth=(g>0)?g:this.trackWidth;i=this.trackWidth/f;return(i*(h-this.minValue))},renderThumbs:function(){var e=this.thumbs,f=e.length,d;for(d=0;d<f;d++){e[d].render(this.fieldEl)}},onThumbDragEnd:function(d){var c=this.getThumbValue(d);this.setValue(c);this.fireEvent("dragend",this,d.thumb,this.constrain(c))},getThumbValue:function(d){var c=d.thumb;return this.getSliderValue(-d.getOffset().x,c)},onDrag:function(d){var c=this.getThumbValue(d);this.fireEvent("drag",this,d.thumb,this.constrain(c))},onTap:function(h){if(!this.disabled){var j=this.fieldEl.getPageBox(),i=h.pageX-j.left,e=this.getNearest(i),g=e.dragObj.size.width/2;this.setValue(this.getSliderValue(i-g,e),this.animationDuration,true)}},moveThumb:function(e,d,f){e.dragObj.setOffset(new Ext.util.Offset(d,0),f)},afterRender:function(d){var c=this;c.renderThumbs();Ext.form.Slider.superclass.afterRender.apply(c,arguments);c.fieldEl.on({scope:c,tap:c.onTap})},getNearest:function(b){return this.thumbs[0]},setThumbsDisabled:function(e){var f=this.thumbs,g=f.length,h=0;for(;h<g;h++){f[h].dragObj[e?"disable":"enable"]()}},disable:function(){Ext.form.Slider.superclass.disable.call(this);this.setThumbsDisabled(true)},enable:function(){Ext.form.Slider.superclass.enable.call(this);this.setThumbsDisabled(false)}});Ext.reg("sliderfield",Ext.form.Slider);Ext.form.Slider.Thumb=Ext.extend(Ext.form.Field,{isField:false,baseCls:"x-thumb",autoCreateField:false,draggable:true,value:0,onRender:function(){this.draggable={direction:"horizontal",constrain:this.slider.fieldEl,revert:false,thumb:this};Ext.form.Slider.Thumb.superclass.onRender.apply(this,arguments)},setValue:function(b){this.value=b;return this},getValue:function(){return this.value}});Ext.reg("sliderthumb",Ext.form.Slider.Thumb);Ext.form.Toggle=Ext.extend(Ext.form.Slider,{minValue:0,maxValue:1,ui:"toggle",inputType:"toggle",minValueCls:"x-toggle-off",maxValueCls:"x-toggle-on",animationDuration:70,toggle:function(){var d=this.thumbs[0],c=d.getValue();this.setValue(c==this.minValue?this.maxValue:this.minValue,this.animationDuration)},setValue:function(d){Ext.form.Toggle.superclass.setValue.call(this,d,this.animationDuration);var c=this.fieldEl;if(this.constrain(d)===this.minValue){c.addCls(this.minValueCls);c.removeCls(this.maxValueCls)}else{c.addCls(this.maxValueCls);c.removeCls(this.minValueCls)}},onTap:function(){if(!this.disabled){this.toggle()}},getThumbClass:function(){return Ext.form.Toggle.Thumb}});Ext.reg("togglefield",Ext.form.Toggle);Ext.form.Toggle.Thumb=Ext.extend(Ext.form.Slider.Thumb,{onRender:function(){Ext.form.Toggle.Thumb.superclass.onRender.apply(this,arguments);Ext.DomHelper.append(this.el,[{cls:"x-toggle-thumb-off",html:"<span>OFF</span>"},{cls:"x-toggle-thumb-on",html:"<span>ON</span>"},{cls:"x-toggle-thumb-thumb"}])}});Ext.form.Text=Ext.extend(Ext.form.Field,{ui:"text",focusCls:"x-field-focus",maxLength:0,placeHolder:undefined,autoComplete:undefined,autoCapitalize:undefined,autoCorrect:undefined,isFocused:false,isClearIconVisible:false,useMask:Ext.is.iOS,initComponent:function(){this.addEvents("focus","blur","keyup","change","action");this.enableBubble("action");Ext.form.Text.superclass.initComponent.apply(this,arguments)},applyRenderSelectors:function(){this.renderSelectors=Ext.applyIf(this.renderSelectors||{},{clearIconEl:".x-field-clear",clearIconContainerEl:".x-field-clear-container"});Ext.form.Text.superclass.applyRenderSelectors.call(this)},initRenderData:function(){var h=Ext.form.Text.superclass.initRenderData.call(this),i=this.autoComplete,j=this.autoCapitalize,f=this.autoCorrect;Ext.applyIf(h,{placeHolder:this.placeHolder,maxlength:this.maxLength,useClearIcon:this.useClearIcon});var g=[true,"on"];if(i!==undefined){h.autoComplete=(g.indexOf(i)!==-1)?"on":"off"}if(j!==undefined){h.autoCapitalize=(g.indexOf(j)!==-1)?"on":"off"}if(f!==undefined){h.autoCorrect=(g.indexOf(f)!==-1)?"on":"off"}this.renderData=h;return h},initEvents:function(){Ext.form.Text.superclass.initEvents.call(this);if(this.fieldEl){this.mon(this.fieldEl,{focus:this.onFocus,blur:this.onBlur,keyup:this.onKeyUp,paste:this.updateClearIconVisibility,mousedown:this.onBeforeFocus,scope:this});if(this.clearIconEl){this.mon(this.clearIconContainerEl,{scope:this,tap:this.onClearIconTap})}}},onEnable:function(){Ext.form.Text.superclass.onEnable.apply(this,arguments);this.disabled=false;this.updateClearIconVisibility()},onDisable:function(){Ext.form.Text.superclass.onDisable.apply(this,arguments);this.blur();this.hideClearIcon()},onClearIconTap:function(){if(!this.disabled){this.setValue("")}},updateClearIconVisibility:function(){var b=this.getValue();if(!b){b=""}if(b.length<1){this.hideClearIcon()}else{this.showClearIcon()}return this},showClearIcon:function(){if(!this.disabled&&this.fieldEl&&this.clearIconEl&&!this.isClearIconVisible){this.isClearIconVisible=true;this.fieldEl.addCls("x-field-clearable");this.clearIconEl.removeCls("x-hidden-visibility")}return this},hideClearIcon:function(){if(this.fieldEl&&this.clearIconEl&&this.isClearIconVisible){this.isClearIconVisible=false;this.fieldEl.removeCls("x-field-clearable");this.clearIconEl.addCls("x-hidden-visibility")}return this},afterRender:function(){Ext.form.Text.superclass.afterRender.call(this);this.updateClearIconVisibility()},onBeforeFocus:function(b){this.fireEvent("beforefocus",b)},beforeFocus:Ext.emptyFn,onMaskTap:function(b){if(Ext.form.Text.superclass.onMaskTap.apply(this,arguments)!==true){return false}this.maskCorrectionTimer=Ext.defer(this.showMask,1000,this);this.hideMask()},onFocus:function(b){if(this.mask){if(this.maskCorrectionTimer){clearTimeout(this.maskCorrectionTimer)}this.hideMask()}this.beforeFocus();if(this.focusCls){this.el.addCls(this.focusCls)}if(!this.isFocused){this.isFocused=true;this.startValue=this.getValue();this.fireEvent("focus",this,b)}Ext.currentlyFocusedField=this},beforeBlur:Ext.emptyFn,onBlur:function(c){this.beforeBlur();if(this.focusCls){this.el.removeCls(this.focusCls)}this.isFocused=false;var d=this.getValue();if(String(d)!=String(this.startValue)){this.fireEvent("change",this,d,this.startValue)}this.fireEvent("blur",this,c);this.updateClearIconVisibility();this.showMask();this.afterBlur();Ext.currentlyFocusedField=null},afterBlur:Ext.emptyFn,focus:function(){if(this.rendered&&this.fieldEl&&this.fieldEl.dom.focus){this.fieldEl.dom.focus()}return this},blur:function(){if(this.rendered&&this.fieldEl&&this.fieldEl.dom.blur){this.fieldEl.dom.blur()}return this},setValue:function(){Ext.form.Text.superclass.setValue.apply(this,arguments);this.updateClearIconVisibility()},onKeyUp:function(b){this.updateClearIconVisibility();this.fireEvent("keyup",this,b);if(b.browserEvent.keyCode===13){this.blur();this.fireEvent("action",this,b)}}});Ext.reg("textfield",Ext.form.Text);Ext.form.TextField=Ext.extend(Ext.form.Text,{constructor:function(){console.warn("Ext.form.TextField has been deprecated and will be removed in Sencha Touch 1.0. Please use Ext.form.Text instead");Ext.form.TextField.superclass.constructor.apply(this,arguments)}});Ext.form.Password=Ext.extend(Ext.form.Text,{inputType:"password",autoCapitalize:false});Ext.reg("passwordfield",Ext.form.Password);Ext.form.Email=Ext.extend(Ext.form.Text,{inputType:"email",autoCapitalize:false});Ext.reg("emailfield",Ext.form.Email);Ext.form.Url=Ext.extend(Ext.form.Text,{inputType:"url",autoCapitalize:false});Ext.reg("urlfield",Ext.form.Url);Ext.form.Search=Ext.extend(Ext.form.Text,{inputType:"search"});Ext.reg("searchfield",Ext.form.Search);Ext.form.Number=Ext.extend(Ext.form.Text,{ui:"number",inputType:"number",minValue:undefined,maxValue:undefined,stepValue:undefined,renderTpl:['<tpl if="label"><div class="x-form-label"><span>{label}</span></div></tpl>','<tpl if="fieldEl"><div class="x-form-field-container">','<input id="{inputId}" type="{inputType}" name="{name}" class="{fieldCls}"','<tpl if="tabIndex">tabIndex="{tabIndex}" </tpl>','<tpl if="placeHolder">placeholder="{placeHolder}" </tpl>','<tpl if="style">style="{style}" </tpl>','<tpl if="minValue != undefined">min="{minValue}" </tpl>','<tpl if="maxValue != undefined">max="{maxValue}" </tpl>','<tpl if="stepValue != undefined">step="{stepValue}" </tpl>','<tpl if="autoComplete">autocomplete="{autoComplete}" </tpl>','<tpl if="autoCapitalize">autocapitalize="{autoCapitalize}" </tpl>','<tpl if="autoFocus">autofocus="{autoFocus}" </tpl>',"/>",'<tpl if="useMask"><div class="x-field-mask"></div></tpl>',"</div></tpl>",'<tpl if="useClearIcon"><div class="x-field-clear-container"><div class="x-field-clear x-hidden-visibility">&#215;</div><div></tpl>'],onRender:function(){Ext.apply(this.renderData,{maxValue:this.maxValue,minValue:this.minValue,stepValue:this.stepValue});Ext.form.Number.superclass.onRender.apply(this,arguments)}});Ext.reg("numberfield",Ext.form.Number);Ext.form.Spinner=Ext.extend(Ext.form.Number,{componentCls:"x-spinner",minValue:Number.NEGATIVE_INFINITY,maxValue:Number.MAX_VALUE,incrementValue:1,accelerateOnTapHold:true,defaultValue:0,cycle:false,disableInput:false,useClearIcon:false,autoCapitalize:false,renderTpl:['<tpl if="label"><div class="x-form-label"><span>{label}</span></div></tpl>','<tpl if="fieldEl">','<div class="{componentCls}-body">','<div class="{componentCls}-down"><span>-</span></div>','<div class="x-form-field-container">','<input id="{inputId}" type="{type}" name="{name}" class="{fieldCls}"','<tpl if="tabIndex">tabIndex="{tabIndex}" </tpl>','<tpl if="placeHolder">placeholder="{placeHolder}" </tpl>','<tpl if="style">style="{style}" </tpl>','<tpl if="minValue != undefined">min="{minValue}" </tpl>','<tpl if="maxValue != undefined">max="{maxValue}" </tpl>','<tpl if="stepValue != undefined">step="{stepValue}" </tpl>','<tpl if="autoComplete">autocomplete="{autoComplete}" </tpl>','<tpl if="autoFocus">autofocus="{autoFocus}" </tpl>',"/>",'<tpl if="useMask"><div class="x-field-mask"></div></tpl>',"</div>",'<div class="{componentCls}-up"><span>+</span></div>',"</div>","</tpl>"],initComponent:function(){this.addEvents("spin","spindown","spinup");Ext.form.Spinner.superclass.initComponent.call(this)},onRender:function(){this.renderData.disableInput=this.disableInput;Ext.applyIf(this.renderSelectors,{spinUpEl:".x-spinner-up",spinDownEl:".x-spinner-down"});Ext.form.Spinner.superclass.onRender.apply(this,arguments);this.downRepeater=this.createRepeater(this.spinDownEl,this.onSpinDown);this.upRepeater=this.createRepeater(this.spinUpEl,this.onSpinUp)},initValue:function(){if(isNaN(this.defaultValue)){this.defaultValue=0}if(!this.value){this.value=this.defaultValue}Ext.form.Spinner.superclass.initValue.apply(this,arguments)},createRepeater:function(d,e){var f=new Ext.util.TapRepeater(d,{accelerate:this.accelerateOnTapHold});this.mon(f,{tap:e,touchstart:this.onTouchStart,touchend:this.onTouchEnd,preventDefault:true,scope:this});return f},onSpinDown:function(){if(!this.disabled){this.spin(true)}},onSpinUp:function(){if(!this.disabled){this.spin(false)}},onKeyUp:function(b){Ext.form.Spinner.superclass.onKeyUp.apply(this,arguments)},onTouchStart:function(b){if(!this.disabled){b.el.addCls("x-button-pressed")}},onTouchEnd:function(b){b.el.removeCls("x-button-pressed")},setValue:function(b){b=parseFloat(b);if(isNaN(b)){b=this.defaultValue}Ext.form.Spinner.superclass.setValue.call(this,b)},spin:function(j){var l=parseFloat(this.getValue()),h=this.incrementValue,m=this.cycle,n=this.minValue,i=this.maxValue,k=j?"down":"up";if(j){l-=h}else{l+=h}l=(isNaN(l))?this.defaultValue:l;if(l<n){l=m?i:n}else{if(l>i){l=m?n:i}}this.setValue(l);this.fireEvent("spin"+k,this,l);this.fireEvent("spin",this,l,k)},destroy:function(){Ext.destroy(this.downRepeater,this.upRepeater);Ext.form.Spinner.superclass.destroy.call(this,arguments)}});Ext.reg("spinnerfield",Ext.form.Spinner);Ext.form.Hidden=Ext.extend(Ext.form.Field,{ui:"hidden",inputType:"hidden",tabIndex:-1});Ext.reg("hiddenfield",Ext.form.Hidden);Ext.form.HiddenField=Ext.extend(Ext.form.Hidden,{constructor:function(){console.warn("Ext.form.HiddenField has been deprecated and will be removed in Sencha Touch 1.0. Please use Ext.form.Hidden instead");Ext.form.HiddenField.superclass.constructor.apply(this,arguments)}});Ext.form.Checkbox=Ext.extend(Ext.form.Field,{ui:"checkbox",inputType:"checkbox",checked:false,value:"",constructor:function(b){this.addEvents("check","uncheck");Ext.form.Checkbox.superclass.constructor.call(this,b)},renderTpl:['<tpl if="label"><div class="x-form-label"><span>{label}</span></div></tpl>','<tpl if="fieldEl"><input id="{inputId}" type="{inputType}" name="{name}" class="{fieldCls}" tabIndex="-1" ','<tpl if="checked"> checked </tpl>','<tpl if="style">style="{style}" </tpl> value="{inputValue}" />',"</tpl>"],onRender:function(){var b=this.getBooleanIsChecked(this.checked);Ext.apply(this.renderData,{inputValue:String(this.value),checked:b});Ext.form.Checkbox.superclass.onRender.apply(this,arguments);if(this.fieldEl){this.mon(this.fieldEl,{click:this.onChange,scope:this});this.setChecked(b);this.originalState=this.isChecked()}},onChange:function(b){if(b){if(b.browserEvent){b=b.browserEvent}if(!b.isSimulated){b.preventDefault();b.stopPropagation();return}}if(this.isChecked()){this.fireEvent("check",this)}else{this.fireEvent("uncheck",this)}},isChecked:function(){if(this.rendered){return this.fieldEl.dom.checked||false}else{return !!this.checked}},setChecked:function(f){var i=this.getBooleanIsChecked(f),h=this.rendered,g,j;if(h){j=this.fieldEl.dom;g=j.checked}else{g=!!this.checked}if(g!=i){if(h){j.checked=i}else{this.checked=i}this.onChange()}return this},check:function(){return this.setChecked(true)},uncheck:function(){return this.setChecked(false)},reset:function(){Ext.form.Checkbox.superclass.reset.apply(this,arguments);this.setChecked(this.originalState);return this},getBooleanIsChecked:function(b){return/^(true|1|on)/i.test(String(b))},getSameGroupFields:function(){var d=this.el.up("form"),f=Ext.getCmp(d.id),e=[];if(f){e=f.getFields(this.getName())}return e},getGroupValues:function(){var b=[];this.getSameGroupFields().forEach(function(a){if(a.isChecked()){b.push(a.getValue())}});return b},setGroupValues:function(b){this.getSameGroupFields().forEach(function(a){a.setChecked((b.indexOf(a.getValue())!==-1))});return this},setValue:function(b){b=String(b);Ext.form.Checkbox.superclass.setValue.call(this,b)}});Ext.reg("checkboxfield",Ext.form.Checkbox);Ext.form.Radio=Ext.extend(Ext.form.Checkbox,{inputType:"radio",ui:"radio",getGroupValue:function(){var f,e=this.getSameGroupFields();for(var d=0;d<e.length;d++){f=e[d];if(f.isChecked()){return f.getValue()}}return null},setGroupValue:function(i){var h,f=this.getSameGroupFields(),j=0,g=f.length;for(;j<g;j++){h=f[j];if(h.getValue()==i){h.check();return}}}});Ext.reg("radiofield",Ext.form.Radio);Ext.form.Select=Ext.extend(Ext.form.Text,{ui:"select",valueField:"value",displayField:"text",tabIndex:-1,useMask:true,monitorOrientation:true,initComponent:function(){var b=this.options;if(this.store){this.store=Ext.StoreMgr.lookup(this.store)}else{this.store=new Ext.data.Store({fields:[this.valueField,this.displayField]});if(b&&Ext.isArray(b)&&b.length>0){this.setOptions(this.options)}}Ext.form.Select.superclass.initComponent.call(this);this.addEvents("change")},onRender:function(){Ext.form.Select.superclass.onRender.apply(this,arguments);var b=this.hiddenName;if(b){this.hiddenField=this.el.insertSibling({name:b,tag:"input",type:"hidden"},"after")}},getPicker:function(){if(!this.picker){this.picker=new Ext.Picker({slots:[{align:"center",name:this.name,valueField:this.valueField,displayField:this.displayField,value:this.getValue(),store:this.store}],listeners:{change:this.onPickerChange,scope:this}})}return this.picker},getListPanel:function(){if(!this.listPanel){this.listPanel=new Ext.Panel({floating:true,stopMaskTapEvent:false,hideOnMaskTap:true,cls:"x-select-overlay",scroll:"vertical",items:{xtype:"list",store:this.store,itemId:"list",scroll:false,itemTpl:['<span class="x-list-label">{'+this.displayField+"}</span>",'<span class="x-list-selected"></span>'],listeners:{select:this.onListSelect,scope:this}}})}return this.listPanel},onOrientationChange:function(){if(this.isActive&&!Ext.is.Phone){this.listPanel.showBy(this.el,false,false)}},onMaskTap:function(){if(this.disabled){return}this.showComponent()},showComponent:function(){if(Ext.is.Phone){this.getPicker().show()}else{var c=this.getListPanel(),d=this.store.findExact(this.valueField,this.value);c.showBy(this.el,"fade",false);c.down("#list").getSelectionModel().select(d!=-1?d:0,false,true)}this.isActive=true},onListSelect:function(d,c){if(c){this.setValue(c.get(this.valueField));this.fireEvent("change",this,this.getValue())}this.listPanel.hide({type:"fade",out:true,scope:this});this.isActive=false},onPickerChange:function(f,h){var e=this.getValue(),g=h[this.name];if(g!=e){this.setValue(g);this.fireEvent("change",this,g)}this.isActive=false},setValue:function(i){var f=0,g=this.hiddenField,j;if(i){f=this.store.findExact(this.valueField,i)}j=this.store.getAt(f);if(j&&this.rendered){this.fieldEl.dom.value=j.get(this.displayField);this.value=j.get(this.valueField);if(g){g.dom.value=this.value}}else{if(this.rendered){this.fieldEl.dom.value=i}this.value=i}if(this.picker){var h={};h[this.name]=this.value;this.picker.setValue(h)}return this},getValue:function(){return this.value},setOptions:function(c,d){if(!c){this.store.clearData();this.setValue(null)}else{this.store.loadData(c,d)}},destroy:function(){Ext.form.Select.superclass.destroy.apply(this,arguments);Ext.destroy(this.listPanel,this.picker,this.hiddenField)}});Ext.reg("selectfield",Ext.form.Select);Ext.form.TextArea=Ext.extend(Ext.form.Text,{ui:"textarea",maxRows:undefined,autoCapitalize:false,renderTpl:['<tpl if="label"><div class="x-form-label"><span>{label}</span></div></tpl>','<tpl if="fieldEl"><div class="x-form-field-container">','<textarea id="{inputId}" type="{type}" name="{name}" class="{fieldCls}"','<tpl if="tabIndex">tabIndex="{tabIndex}" </tpl>','<tpl if="placeHolder">placeholder="{placeHolder}" </tpl>','<tpl if="style">style="{style}" </tpl>','<tpl if="maxRows != undefined">rows="{maxRows}" </tpl>','<tpl if="maxlength">maxlength="{maxlength}" </tpl>','<tpl if="autoComplete">autocomplete="{autoComplete}" </tpl>','<tpl if="autoCapitalize">autocapitalize="{autoCapitalize}" </tpl>','<tpl if="autoFocus">autofocus="{autoFocus}" </tpl>',"></textarea>",'<tpl if="useMask"><div class="x-field-mask"></div></tpl>',"</div></tpl>"],onRender:function(){this.renderData.maxRows=this.maxRows;Ext.form.TextArea.superclass.onRender.apply(this,arguments)},onKeyUp:function(b){this.fireEvent("keyup",this,b)}});Ext.reg("textareafield",Ext.form.TextArea);Ext.form.DatePicker=Ext.extend(Ext.form.Field,{ui:"select",picker:null,destroyPickerOnHide:false,initComponent:function(){this.addEvents("select");this.tabIndex=-1;this.useMask=true;Ext.form.Text.superclass.initComponent.apply(this,arguments)},getDatePicker:function(){if(!this.datePicker){if(this.picker instanceof Ext.DatePicker){this.datePicker=this.picker}else{this.datePicker=new Ext.DatePicker(Ext.apply(this.picker||{}))}this.datePicker.setValue(this.value||null);this.datePicker.on({scope:this,change:this.onPickerChange,hide:this.onPickerHide})}return this.datePicker},onMaskTap:function(){if(Ext.form.DatePicker.superclass.onMaskTap.apply(this,arguments)!==true){return false}this.getDatePicker().show()},onPickerChange:function(d,c){this.setValue(c);this.fireEvent("select",this,this.getValue())},onPickerHide:function(){if(this.destroyPickerOnHide&&this.datePicker){this.datePicker.destroy()}},setValue:function(c,d){if(this.datePicker){this.datePicker.setValue(c,d);this.value=(c!=null)?this.datePicker.getValue():null}else{if(!Ext.isDate(c)&&!Ext.isObject(c)){c=null}if(Ext.isObject(c)){this.value=new Date(c.year,c.month-1,c.day)}else{this.value=c}}if(this.rendered){this.fieldEl.dom.value=this.getValue(true)}return this},getValue:function(c){var d=this.value||null;return(c&&Ext.isDate(d))?d.format(Ext.util.Format.defaultDateFormat):d},onDestroy:function(){if(this.datePicker){this.datePicker.destroy()}Ext.form.DatePicker.superclass.onDestroy.call(this)}});Ext.reg("datepickerfield",Ext.form.DatePicker);Ext.layout.LayoutManager=new Ext.AbstractManager({create:function(d,c){if(!d){d=c}if(Ext.isString(d)){return new this.types[d||c]}else{if(Ext.isObject(d)){if(d.isLayout){return d}else{return new this.types[d.type||c](d)}}}}});Ext.regLayout=function(){return Ext.layout.LayoutManager.registerType.apply(Ext.layout.LayoutManager,arguments)};Ext.layout.Layout=Ext.extend(Object,{isLayout:true,initialized:false,constructor:function(b){this.id=Ext.id(null,"ext-layout-"+this.type+"-");Ext.apply(this,b)},layout:function(){var b=this;b.layoutBusy=true;b.initLayout();if(b.beforeLayout.apply(b,arguments)!==false){b.onLayout.apply(b,arguments);b.afterLayout();b.owner.needsLayout=false;b.layoutBusy=false}},beforeLayout:function(){this.renderItems(this.getLayoutItems(),this.getTarget());return true},renderItems:function(g,h){var i=g.length,f=0,j;for(;f<i;f++){j=g[f];if(j&&!j.rendered){this.renderItem(j,f,h)}else{if(!this.isValidParent(j,h)){this.moveItem(j,f,h)}}}},renderItem:function(d,e,f){if(!d.rendered){d.render(f,e);this.configureItem(d,e);this.childrenChanged=true}},moveItem:function(d,e,f){if(typeof e=="number"){e=f.dom.childNodes[e]}f=f.dom||f;f.insertBefore(d.el.dom,e||null);d.container=f;this.configureItem(d,e);this.childrenChanged=true},initLayout:function(){if(!this.initialized&&!Ext.isEmpty(this.targetCls)){this.getTarget().addCls(this.targetCls)}this.initialized=true},setOwner:function(b){this.owner=b},getLayoutItems:function(){return[]},isValidParent:function(e,d){var f=e.el?e.el.dom:Ext.getDom(e);return d&&(f.parentNode==(d.dom||d))},configureItem:function(c,d){if(this.itemCls){c.el.addCls(this.itemCls)}},onLayout:Ext.emptyFn,afterLayout:Ext.emptyFn,onRemove:Ext.emptyFn,onDestroy:Ext.emptyFn,afterRemove:function(b){if(this.itemCls&&b.rendered){b.el.removeCls(this.itemCls)}},destroy:function(){if(!Ext.isEmpty(this.targetCls)){var b=this.getTarget();if(b){b.removeCls(this.targetCls)}}this.onDestroy()}});Ext.layout.ComponentLayout=Ext.extend(Ext.layout.Layout,{type:"component",monitorChildren:true,beforeLayout:function(i,j){Ext.layout.ComponentLayout.superclass.beforeLayout.call(this);var f=this.owner,g=f.isVisible(),h;if(!g&&f.hiddenOwnerCt){h=f.hiddenOwnerCt.layoutOnShow;h.remove(f);h.add(f);f.needsLayout={width:i,height:j,isSetSize:false}}return g&&this.needsLayout(i,j)},needsLayout:function(f,e){this.lastComponentSize=this.lastComponentSize||{width:-Infinity,height:-Infinity};var d=this.childrenChanged;this.childrenChanged=false;return(d||this.lastComponentSize.width!==f||this.lastComponentSize.height!==e)},setElementSize:function(f,d,e){if(d!==undefined&&e!==undefined){f.setSize(d,e)}else{if(e!==undefined){f.setHeight(e)}else{if(d!==undefined){f.setWidth(d)}}}},getTarget:function(){return this.owner.el},setTargetSize:function(c,d){this.setElementSize(this.owner.el,c,d);this.lastComponentSize={width:c,height:d}},afterLayout:function(){var i=this.owner,n=i.layout,o=i.ownerCt,k,l,m,p,j;i.afterComponentLayout(this);if(n&&n.isLayout){n.layout()}if(o&&o.componentLayout&&o.componentLayout.monitorChildren&&!o.componentLayout.layoutBusy){o.componentLayout.childrenChanged=true;if(o.layout&&!o.layout.layoutBusy){if(o.layout.type=="autocontainer"){o.doComponentLayout(p,j)}else{o.layout.layout()}}}}});Ext.layout.AutoComponentLayout=Ext.extend(Ext.layout.ComponentLayout,{type:"autocomponent",onLayout:function(c,d){this.setTargetSize(c,d)}});Ext.regLayout("autocomponent",Ext.layout.AutoComponentLayout);Ext.layout.DockLayout=Ext.extend(Ext.layout.ComponentLayout,{type:"dock",itemCls:"x-docked",onLayout:function(G,q){var u=this,F=u.owner,x=F.body,D=F.ownerCt,y=F.layout,B=F.collapsed,C=F.contracted,w=F.expanded,z=u.headerItem,v=u.getTarget(),t=false,s=false,A;var E=u.info={boxes:[],size:{width:G,height:q},padding:{top:v.getPadding("t"),right:v.getPadding("r"),bottom:v.getPadding("b"),left:v.getPadding("l")},border:{top:v.getBorderWidth("t"),right:v.getBorderWidth("r"),bottom:v.getBorderWidth("b"),left:v.getBorderWidth("l")},bodyMargin:{top:x.getMargin("t"),right:x.getMargin("r"),bottom:x.getMargin("b"),left:x.getMargin("l")},bodyBox:{}};if(q===undefined||q===null||G===undefined||G===null||C){if((q===undefined||q===null)&&(G===undefined||G===null)){s=true;t=true;if(!F.animCollapse||(!w&&!C)){u.setTargetSize(null,null)}u.setBodyBox({width:null,height:null})}else{if(q===undefined||q===null){s=true;if(!F.animCollapse||(!w&&!C)){u.setTargetSize(G,null)}u.setBodyBox({width:G,height:null})}else{t=true;if(!F.animCollapse||(!w&&!C)){u.setTargetSize(null,q)}u.setBodyBox({width:null,height:q})}}if(!B&&y&&y.isLayout){y.layout()}u.dockItems(t,s);if(B){if(z){if(z.dock=="top"||z.dock=="bottom"){E.size.height=z.getHeight()}else{E.size.width=z.getWidths()}}else{E.size.height=0}}if(w||C){if(F.animCollapse){Ext.createDelegate(F.animCollapseFn,F,[E.size.width,E.size.height])()}else{Ext.createDelegate(F["after"+(w?"Expand":"Collapse")],F)();u.setTargetSize(E.size.width,E.size.height)}}else{u.setTargetSize(E.size.width,E.size.height)}}else{if(w||C){if(F.animCollapse){Ext.createDelegate(F.animCollapseFn,F,[G,q])()}else{Ext.createDelegate(F["after"+(w?"Expand":"Collapse")],F)();u.setTargetSize(G,q)}}else{u.setTargetSize(G,q);u.dockItems()}}Ext.layout.DockLayout.superclass.onLayout.call(u,G,q)},afterLayout:function(){Ext.layout.DockLayout.superclass.afterLayout.call(this)},dockItems:function(k,j){this.calculateDockBoxes(k,j);var m=this.info,l=this.owner.collapsed,p=m.boxes,n=p.length,o,i;for(i=0;i<n;i++){o=p[i];if(l===true&&!o.isHeader){continue}o.item.setPosition(o.x,o.y)}if(k){m.bodyBox.width=null}if(j){m.bodyBox.height=null}this.setBodyBox(m.bodyBox)},calculateDockBoxes:function(G,D){var i=this,h=i.getTarget(),H=i.getLayoutItems(),Q=i.owner,P=Q.contracted,E=Q.expanded,L=Q.body,A=i.info,I=A.size,O=H.length,K=A.padding,F=A.border,z,C,N,M,B,w,J;if(D){I.height=L.getHeight()+K.top+F.top+K.bottom+F.bottom}else{I.height=h.getHeight()-h.getMargin("tb")}if(G){I.width=L.getWidth()+K.left+F.left+K.right+F.right}else{I.width=h.getWidth()-h.getMargin("lr")}A.bodyBox={x:F.left+K.left,y:F.top+K.top,width:I.width-K.left-F.left-K.right-F.right,height:I.height-F.top-K.top-F.bottom-K.bottom};for(C=0;C<O;C++){z=H[C];if(z.isHeader){i.headerItem=z}N=i.initBox(z);if(D===true){N=i.adjustAutoBox(N,C)}else{N=i.adjustSizedBox(N,C)}A.boxes.push(N)}},adjustSizedBox:function(f,d){var e=this.info.bodyBox;switch(f.type){case"top":f.y=e.y;break;case"left":f.x=e.x;break;case"bottom":f.y=(e.y+e.height)-f.height;break;case"right":f.x=(e.x+e.width)-f.width;break}if(!f.overlay){switch(f.type){case"top":e.y+=f.height;e.height-=f.height;break;case"left":e.x+=f.width;e.width-=f.width;break;case"bottom":e.height-=f.height;break;case"right":e.width-=f.width;break}}return f},adjustAutoBox:function(p,m){var s=this.info,l=s.bodyBox,i=s.size,o=s.boxes,k=p.type,q,n;if(k=="top"||k=="bottom"){for(q=0;q<m;q++){n=o[q];if(n.stretched&&n.type=="left"||n.type=="right"){n.height+=p.height}else{if(n.type=="bottom"){n.y+=p.height}}}}switch(k){case"top":p.y=l.y;if(!p.overlay){l.y+=p.height}i.height+=p.height;break;case"bottom":p.y=(l.y+l.height);i.height+=p.height;break;case"left":p.x=l.x;if(!p.overlay){l.x+=p.width;l.width-=p.width}break;case"right":if(!p.overlay){l.width-=p.width}p.x=(l.x+l.width);break}return p},initBox:function(g){var e=this.info.bodyBox,f=(g.dock=="top"||g.dock=="bottom"),h={item:g,overlay:g.overlay,type:g.dock};if(g.stretch!==false){h.stretched=true;if(f){h.x=e.x;h.width=e.width;g.doComponentLayout(h.width-g.el.getMargin("lr"))}else{h.y=e.y;h.height=e.height;g.doComponentLayout(undefined,h.height-g.el.getMargin("tb"))}}else{g.doComponentLayout();h.width=g.getWidth();h.height=g.getHeight();if(f){h.x=(g.align=="right")?e.width-h.width:e.x}}if(h.width==undefined){h.width=g.getWidth()+g.el.getMargin("lr")}if(h.height==undefined){h.height=g.getHeight()+g.el.getMargin("tb")}return h},getLayoutItems:function(){return this.owner.getDockedItems()},setBodyBox:function(o){var l=this,u=l.owner,n=u.body,p=u.contracted,m=u.expanded,t=l.info,q=t.bodyMargin,k=t.padding,s=t.border;if(Ext.isNumber(o.width)){o.width-=q.left+q.right}if(Ext.isNumber(o.height)){o.height-=q.top+q.bottom}l.setElementSize(n,o.width,o.height);n.setLeft(o.x-k.left-s.left);n.setTop(o.y-k.top-s.top)},configureItem:function(d,f){Ext.layout.DockLayout.superclass.configureItem.call(this,d,f);var e=d.el||Ext.get(d);if(this.itemCls){e.addCls(this.itemCls+"-"+d.dock)}},afterRemove:function(d){Ext.layout.DockLayout.superclass.afterRemove.call(this,d);if(this.itemCls){d.el.removeCls(this.itemCls+"-"+d.dock)}var c=d.el.dom;if(c){c.parentNode.removeChild(c)}this.childrenChanged=true}});Ext.regLayout("dock",Ext.layout.DockLayout);Ext.layout.FieldLayout=Ext.extend(Ext.layout.ComponentLayout,{type:"field",onLayout:function(c,d){Ext.layout.FieldLayout.superclass.onLayout.call(this,owner,target);this.setTargetSize(c,d)},handleLabel:function(){this.owner.labelEl.setWidth(this.owner.labelWidth)}});Ext.regLayout("field",Ext.layout.FieldLayout);Ext.layout.ContainerLayout=Ext.extend(Ext.layout.Layout,{type:"container",getLayoutItems:function(){return this.owner&&this.owner.items&&this.owner.items.items||[]},afterLayout:function(){this.owner.afterLayout(this)},getTarget:function(){return this.owner.getTargetEl()}});Ext.layout.AutoContainerLayout=Ext.extend(Ext.layout.ContainerLayout,{type:"autocontainer",onLayout:function(g,h){var f=this.getLayoutItems(),i=f.length,j;for(j=0;j<i;j++){f[j].doComponentLayout()}}});Ext.regLayout("auto",Ext.layout.AutoContainerLayout);Ext.regLayout("autocontainer",Ext.layout.AutoContainerLayout);Ext.layout.FitLayout=Ext.extend(Ext.layout.ContainerLayout,{itemCls:"x-fit-item",targetCls:"x-layout-fit",type:"fit",onLayout:function(){Ext.layout.FitLayout.superclass.onLayout.call(this);if(this.owner.items.length){var c=this.getTargetBox(),d=this.owner.items.get(0);this.setItemBox(d,c);d.cancelAutoSize=true}},getTargetBox:function(){var g=this.getTarget(),e=g.getSize(),h={left:g.getPadding("l"),right:g.getPadding("r"),top:g.getPadding("t"),bottom:g.getPadding("b")},f={left:g.getBorderWidth("l"),right:g.getBorderWidth("r"),top:g.getBorderWidth("t"),bottom:g.getBorderWidth("b")};return{width:e.width-h.left-h.right-f.left-f.right,height:e.height-h.top-h.bottom-f.top-f.bottom,x:h.left+f.left,y:h.top+f.top}},setItemBox:function(c,d){if(c&&d.height>0){d.width-=c.el.getMargin("lr");d.height-=c.el.getMargin("tb");c.setCalculatedSize(d);c.setPosition(d)}}});Ext.regLayout("fit",Ext.layout.FitLayout);Ext.layout.CardLayout=Ext.extend(Ext.layout.FitLayout,{type:"card",sizeAllCards:false,hideInactive:true,beforeLayout:function(){this.activeItem=this.getActiveItem();return Ext.layout.CardLayout.superclass.beforeLayout.apply(this,arguments)},onLayout:function(){Ext.layout.FitLayout.superclass.onLayout.apply(this,arguments);var i=this.activeItem,g=this.getLayoutItems(),j=g.length,h=this.getTargetBox(),l,k;for(l=0;l<j;l++){k=g[l];this.setItemBox(k,h)}if(!this.firstActivated&&i){if(i.fireEvent("beforeactivate",i)!==false){i.fireEvent("activate",i)}this.firstActivated=true}},getActiveItem:function(){if(!this.activeItem&&this.owner){this.activeItem=this.parseActiveItem(this.owner.activeItem)}if(this.activeItem&&this.owner.items.items.indexOf(this.activeItem)!=-1){return this.activeItem}return null},parseActiveItem:function(b){if(b&&b.isComponent){return b}else{if(typeof b=="number"||b==undefined){return this.getLayoutItems()[b||0]}else{return this.owner.getComponent(b)}}},configureItem:function(c,d){Ext.layout.FitLayout.superclass.configureItem.call(this,c,d);if(this.hideInactive&&this.activeItem!==c){c.hide()}else{c.show()}},onRemove:function(b){if(b===this.activeItem){this.activeItem=null;if(this.owner.items.getCount()==0){this.firstActivated=false}}},getAnimation:function(d,e){var f=(d||{}).cardSwitchAnimation;if(f===false){return false}return f||e.cardSwitchAnimation},setActiveItem:function(h,k){var l=this,i=l.owner,j=Ext.getDoc(),m=l.activeItem,n;k=(k==undefined)?this.getAnimation(h,i):k;h=l.parseActiveItem(h);n=i.items.indexOf(h);if(n==-1){i.add(h)}if(h&&m!=h&&i.onBeforeCardSwitch(h,m,n,!!k)!==false){if(!h.rendered){this.layout()}if(h.fireEvent("beforeactivate",h,m)===false){return false}if(m&&m.fireEvent("beforedeactivate",m,h)===false){return false}if(h.hidden){h.show()}l.activeItem=h;if(k){j.on("click",Ext.emptyFn,l,{single:true,preventDefault:true});Ext.Anim.run(h,k,{out:false,autoClear:true,scope:l,after:function(){Ext.defer(function(){j.un("click",Ext.emptyFn,l)},50,l);h.fireEvent("activate",h,m);if(!m){i.onCardSwitch(h,m,n,true)}}});if(m){Ext.Anim.run(m,k,{out:true,autoClear:true,after:function(){m.fireEvent("deactivate",m,h);if(l.hideInactive&&l.activeItem!=m){m.hide()}i.onCardSwitch(h,m,n,true)}})}}else{h.fireEvent("activate",h,m);if(m){m.fireEvent("deactivate",m,h);if(l.hideInactive){m.hide()}}i.onCardSwitch(h,m,n,false)}return h}return false},getNext:function(f){var e=this.getLayoutItems(),d=e.indexOf(this.activeItem);return e[d+1]||(f?e[0]:false)},next:function(c,d){return this.setActiveItem(this.getNext(d),c)},getPrev:function(f){var e=this.getLayoutItems(),d=e.indexOf(this.activeItem);return e[d-1]||(f?e[e.length-1]:false)},prev:function(c,d){return this.setActiveItem(this.getPrev(d),c)}});Ext.regLayout("card",Ext.layout.CardLayout);Ext.layout.BoxLayout=Ext.extend(Ext.layout.ContainerLayout,{type:"box",targetCls:"x-layout-box",innerCls:"x-layout-box-inner",pack:"start",align:"center",direction:"normal",onLayout:function(){Ext.layout.BoxLayout.superclass.onLayout.call(this);if(this.pack==="left"||this.pack==="top"){this.pack="start"}else{if(this.pack==="right"||this.pack==="bottom"){this.pack="end"}}var g=this.getTarget(),h=g.parent(),e=(h.getWidth()-h.getPadding("lr")-h.getBorderWidth("lr"))+"px",f=(h.getHeight()-h.getPadding("tb")-h.getBorderWidth("tb"))+"px";g.setStyle({"-webkit-box-orient":this.orientation,"-webkit-box-direction":this.direction,"-webkit-box-pack":this.pack,"-webkit-box-align":this.align});if(this.orientation=="horizontal"){g.setStyle({"min-width":e,height:f})}else{g.setStyle({"min-height":f,width:e})}this.prepareFlexedItems();this.setFlexedItems()},prepareFlexedItems:function(){var f=this.getLayoutItems(),g=f.length,h,e;for(e=0;e<g;e++){h=f[e];if(h.flex!=undefined){h.el.setStyle("position","absolute");h.boxEl=this.createBoxEl(h)}else{h.doComponentLayout()}}},setFlexedItems:function(){var f=this.getLayoutItems(),g=f.length,h,e;for(e=0;e<g;e++){h=f[e];if(h.flex!=undefined){h.boxSize=h.boxEl.getSize()}}for(e=0;e<g;e++){h=f[e];if(h.flex!=undefined){h.el.setStyle("position","");if(this.align=="stretch"){h.setSize(h.boxSize)}else{if(this.orientation=="horizontal"){h.setWidth(h.boxSize.width)}else{h.setHeight(h.boxSize.height)}}h.boxEl.remove();delete h.boxEl;delete h.boxSize}}},getTarget:function(){var d=this.owner,c=this.innerCt;if(!c){if(d.scrollEl){c=d.scrollEl.addCls(this.innerCls)}else{c=d.getTargetEl().createChild({cls:this.innerCls})}this.innerCt=c}return c},createBoxEl:function(c){var d=c.el;return d.insertSibling({style:"margin-top: "+d.getMargin("tb")+"px; margin-left: "+d.getMargin("lr")+"px; -webkit-box-flex: "+c.flex})}});Ext.layout.HBoxLayout=Ext.extend(Ext.layout.BoxLayout,{orientation:"horizontal"});Ext.regLayout("hbox",Ext.layout.HBoxLayout);Ext.layout.VBoxLayout=Ext.extend(Ext.layout.BoxLayout,{orientation:"vertical"});Ext.regLayout("vbox",Ext.layout.VBoxLayout);Ext.setup({onReady:function(){var a=new Ext.form.FormPanel({title:"Login",fullscreen:true,dockedItems:[{dock:"top",xtype:"toolbar",title:"conne.cc"}],items:[{xtype:"fieldset",title:"Login",items:[{xtype:"emailfield",name:"email",label:"Email"},{xtype:"passwordfield",name:"password",label:"Password"}]},{xtype:"button",text:"Login"}]})}});